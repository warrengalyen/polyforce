{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/controllers/Toggle.vue?9cef","webpack:///./src/App.vue?7077","webpack:///./src/components/global sync \\.vue$/","webpack:///./src/components/ui/VSection.vue?73ea","webpack:///./src/components/display/DisplayBase.vue","webpack:///src/components/display/DisplayBase.vue","webpack:///./src/components/display/DisplayBase.vue?f746","webpack:///./src/components/display/DisplayBase.vue?73b8","webpack:///./src/components/controllers/BaseController.vue","webpack:///src/components/controllers/BaseController.vue","webpack:///./src/components/controllers/BaseController.vue?da18","webpack:///./src/components/controllers/BaseController.vue?0f1e","webpack:///./src/components/controllers/Toggle.vue?b571","webpack:///./src/components/matrix/Matrix.vue?5123","webpack:///./src/mixins/LogControl.js","webpack:///./src/mixins/ExpControlMixin.js","webpack:///./src/mixins/StepControlMixin.js","webpack:///./src/mixins/BaseControlMixin.js","webpack:///./src/mixins/Control.js","webpack:///./src/components/controllers/Toggle.vue","webpack:///src/components/controllers/Toggle.vue","webpack:///./src/components/controllers/Toggle.vue?16ce","webpack:///./src/App.vue?3e34","webpack:///./src/components/Piano.vue?2b66","webpack:///./src/App.vue","webpack:///./src/components/Synthesizer.vue","webpack:///./src/Synth/synthutils.js","webpack:///./src/Synth/globals.js","webpack:///./src/Synth/commands/index.js","webpack:///./src/Synth/ModMatrix.js","webpack:///./src/Synth/nodes/LFO.js","webpack:///./src/Synth/nodes/VCO.js","webpack:///./src/Synth/nodes/Filter.js","webpack:///./src/Synth/nodes/mod.js","webpack:///./src/Synth/nodes/FX.js","webpack:///./src/Synth/nodes/Distortion.js","webpack:///./src/Synth/nodes/Envelope.js","webpack:///./src/Synth/Voice.js","webpack:///./src/Synth/Effects.js","webpack:///./src/Synth/control/index.js","webpack:///./src/Synth/PresetManager.js","webpack:///./src/Synth/index.js","webpack:///./src/components/Piano.vue","webpack:///src/components/Piano.vue","webpack:///./src/components/Piano.vue?e81f","webpack:///./src/components/Piano.vue?4123","webpack:///./src/components/ui/VSection.vue","webpack:///src/components/ui/VSection.vue","webpack:///./src/components/ui/VSection.vue?5be8","webpack:///./src/components/ui/VSection.vue?d427","webpack:///./src/components/matrix/Matrix.vue","webpack:///./src/components/matrix/MatrixRow.vue","webpack:///./src/components/matrix/MatrixRowAmount.vue","webpack:///src/components/matrix/MatrixRowAmount.vue","webpack:///./src/components/matrix/MatrixRowAmount.vue?2215","webpack:///./src/components/matrix/MatrixRowAmount.vue?13fa","webpack:///src/components/matrix/MatrixRow.vue","webpack:///./src/components/matrix/MatrixRow.vue?1517","webpack:///./src/components/matrix/MatrixRow.vue?d475","webpack:///src/components/matrix/Matrix.vue","webpack:///./src/components/matrix/Matrix.vue?9ad0","webpack:///./src/components/matrix/Matrix.vue?1e7c","webpack:///./src/components/visual/Meter.vue","webpack:///src/components/visual/Meter.vue","webpack:///./src/components/visual/Meter.vue?ae86","webpack:///./src/components/visual/Meter.vue?0458","webpack:///./src/components/visual/MainScreen.vue","webpack:///src/components/visual/MainScreen.vue","webpack:///./src/components/visual/MainScreen.vue?d9d6","webpack:///./src/components/visual/MainScreen.vue?63f1","webpack:///src/components/controllers/Controller.vue","webpack:///./src/components/controllers/Controller.vue","webpack:///./src/components/controllers/Controller.vue?f473","webpack:///./src/mixins/Defer.js","webpack:///src/components/Synthesizer.vue","webpack:///./src/components/Synthesizer.vue?6ef5","webpack:///./src/components/Synthesizer.vue?90f3","webpack:///src/App.vue","webpack:///./src/App.vue?774d","webpack:///./src/App.vue?3746","webpack:///./src/main.js","webpack:///./src/components/matrix/MatrixRow.vue?9a47","webpack:///./src/components/Synthesizer.vue?10c3","webpack:///./src/components/matrix/MatrixRow.vue?9003","webpack:///./src/components/display/DisplayBase.vue?f40d","webpack:///./src/components/visual/Meter.vue?a85d","webpack:///./src/components/controllers/BaseController.vue?42a7","webpack:///./src/components/Piano.vue?0216","webpack:///./src/components/visual/MainScreen.vue?4853","webpack:///./src/components/visual/Meter.vue?2103","webpack:///./src/components/matrix/Matrix.vue?a682","webpack:///./src/components/controllers/BaseController.vue?e11a","webpack:///./src/Synth/presets.js","webpack:///./src/components/Synthesizer.vue?7300","webpack:///./src/utils/index.js","webpack:///./src/components/visual/MainScreen.vue?1db1","webpack:///./src/components/ui/VSection.vue?0007","webpack:///./src/components/display/DisplayBase.vue?4ddd"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","installedCssChunks","jsonpScriptSrc","p","exports","module","l","e","promises","cssChunks","Promise","resolve","reject","href","fullhref","existingLinkTags","document","getElementsByTagName","tag","dataHref","getAttribute","rel","existingStyleTags","linkTag","createElement","type","onload","onerror","event","request","target","src","err","Error","code","parentNode","removeChild","head","appendChild","then","installedChunkData","promise","onScriptComplete","script","charset","timeout","nc","setAttribute","error","clearTimeout","chunk","errorType","realSrc","message","name","undefined","setTimeout","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","console","jsonpArray","window","oldJsonpFunction","slice","webpackEmptyContext","req","keys","id","render","_c","_vm","_b","staticClass","class","props","light","attrs","_t","staticRenderFns","Boolean","component","labelPosition","label","_v","_s","_e","String","default","validator","v","includes","inheritAttrs","LogControlMixin","methods","positionToValue","position","min","this","min$","max","max$","Math","exp","log","valueToPosition","ExpControlMixin","pow","$_valueSpread","StepControlMixin","res","step","scale","BaseControlMixin","ControlMixin","beforeCreate","$options","propsData","mixin","_merge","Number","validate","sensitivity","digits","isInteger","units","snap","bipolar","currentY$","temp$","selected$","wheelResistance","computed","position$","$_valueToPosition","set","$_positionToValue","$_steps","$_stepDelta","$_sensitivity","controlHandlers","mousemove","$_handleMouseMove","mouseup","$_handleMouseUp","mousedown","$_handleMouseDown","dblclick","$_handleDbClick","click","$_handleMouseClick","$_valueToDisplay","valueNumber","toFixed","$emit","$bus","clamp","$_updatePosition","_position","$_init","$_clearDrag","init","removeEventListener","$_resetToDefault","delta","pageY","shiftKey","diff","floor","preventDefault","addEventListener","$_handleMouseWheel","sign","deltaY","wheelDelta","detail","mounted","functional","required","h","listeners","BaseController","checked","on","change","_self","staticStyle","synth","ready","defer","_l","getControl","CONTROLLERS","EG_1_ATT","EG_1_DEC","EG_1_SUS","EG_1_REL","AMP_EG_ATT","AMP_EG_DEC","AMP_EG_SUS","AMP_EG_REL","FILTER_TP","FILTER_CUT","FILTER_Q","FILTER_EG","scopedSlots","_u","fn","analyzer","toggleAnalyzer","proxy","getControlMatrix","presetManager","model","rotate","callback","$$v","expression","MASTER_GAIN","meter","FX1_ON","FX1_1","FX1_2","FX1_WET","FX2_ON","FX2_1","FX2_2","FX2_3","FX2_4","FX2_5","FX2_WET","FX3_ON","FX3_1","FX3_2","FX3_WET","FX4_ON","FX4_1","FX4_2","FX4_WET","FX5_ON","FX5_1","onKeyUp","onKeyDown","sourcesArr","destArr","transformsArr","controllersArr","sine","k","z","PI","sin","x","gloubiboulga","abs","sqrt","a","foldback","softClip","x1","x2","saturator","absx","crusher","round","tarrabia","fuzz","SOURCES","createEnum","DESTINATIONS","CONTROL_TYPES","DISTORTION_ALGORITHMS","freeze","OSCWaves","LFOWaves","FILTERTypes","rolloff","getOscillator","osc","Command","constructor","context","execute","throttle","executeCommand","OscillatorCommand","param","super","setVoiceValue","OscTypeCommand","globals","PanCommand","idx","panParam","pan","VolumeCommand","gainParam","gain","VoiceCommand","destination","FilterTypeCommand","filter","FilterCommand","AMPEnvCommand","AMP_EG","FilterEnvCommand","EG_1","LFOTypeCommand","lfo","LFOCommand","ModMatrixCommand","row","setVoiceModMatrix","FXCommand","effect","setFX","FXBypassCommand","BaseCommand","Modulator","ToneAudioNode","optionsFromArguments","getDefaults","arguments","options","_source","source","_destination","signalNode","input","output","Multiply","amount","assign","factor","val","setSource","node","disconnect","connect","setDestination","dispose","ModMatrix","_slots","size","matrixCore","sources","Array","MAX_SOURCES","destinations","MAX_DESTINATIONS","modulators","initializeModMatrix","modMatrix","initializeModulators","setRows","matrix","rows","isArray","map","getRows","reduce","acc","values","getValues","mod","_setSource","_setDestination","_setValue","getMatrixCore","setMatrixCore","getMatrixSize","clearMatrix","addModMatrixRow","createMatrixCore","seal","fill","deleteModMatrix","deleteModulators","modulator","LFO","ToneLFO","_retrigger","retrigger","offset","phase","state","_oscillator","stop","start","now","restart","restop","time","VCO","FatOscillator","_fine","fine","_semi","semi","_octave","detuneNode","MODULATION","modRange","modPitchRange","detune","octave","frequency","count","spread","parseInt","detuneOsc","_phase","_forEach","_oscillators","Oscillator","volume","_type","partialCount","_partialCount","onstop","noOp","partials","_partials","overridden","_spread","_signal","setValueAtTime","_start","random","setNote","note","MyFilter","Filter","_minFreq","minFreq","_maxFreq","maxFreq","cutoffNode","modFreqRange","Q","debug","ModNode","Signal","modNode","getValue","ModNodeExp","_modMultNode","WaveShaper","ModNodeFactory","FX","_on","_lastOn","Gain","activate","doActivate","toggleOn","DistortionModule","Distortion","_algorithmFn","getAlgorithm","_setDistortionAlgorithm","_distortion","_shaper","setMap","linearCurve","curveLen","curve","invertCurve","out","exponentCurve","easedCurve","sustain","decayCurve","decayExpCurve","EG","Envelope","triggerAttack","velocity","toSeconds","originalAttack","attack","decay","currentValue","getValueAtTime","attackRate","remainingDistance","sampleTime","_sig","cancelScheduledValues","_attackCurve","linearRampTo","targetRampTo","cancelAndHoldAtTime","setValueCurveAtTime","decayValue","decayStart","_decayCurve","linearRampToValueAtTime","decCurve","Voice","Monophonic","_isActive","_noteNumber","oscillator1","onsilence","oscillator","oscillator2","noise","Noise","gain1","gain2","gain3","gain123Node","fan","pitch12Node","pan1","Panner","panner","pan2","pan3","AMP","ENVELOPE","FILTER","LFO_1","LFO_2","filterEGNode","filterEG","chain","_prepareForPlay","release","OSC_1_PITCH","OSC_1_VOL","OSC_1_PAN","OSC_2_PITCH","OSC_2_VOL","OSC_2_PAN","OSC_3_VOL","OSC_3_PAN","OSC_123_VOL","OSC_12_PITCH","LFO_1_OUT","LFO_2_OUT","EG_1_OUT","AMP_EG_OUT","computedFrequency","FrequencyClass","toFrequency","portamento","getLevelAtTime","computedTime","portTime","exponentialRampTo","_triggerEnvelopeAttack","isActive","computedAttack","computedDecay","_triggerEnvelopeRelease","triggerRelease","_setFree","reset","setModMatrix","VoiceManager","PolySynth","globalModMatrix","initVoices","maxPolyphony","voice","_makeVoiceAvailable","_voices","_getNextAvailableVoice","forEach","_findFreeVoice","freeVoice","_triggerAttack","notes","midiNote","MidiClass","toMidi","_triggerRelease","controls","VoiceControls","control","DISPLAYPICKER","command","CMD","args","KNOB","WAVEPICKER","TOGGLE","FADER","width","items","EffectModule","effects","DISTORTION","Chorus","FeedbackDelay","Reverb","Limiter","fx","EffectControls","names","SELECT","Control","defineProperties","_id","writable","_command","configurable","_value","newValue","setCommand","ControlManager","_controls","Map","addControl","getControls","cmd","ctrl","_hasControls","getPreset","usePreset","preset","clear","PresetManager","presets","_presets","_current","_addPresets","current","changePreset","setPreset","currentPreset","nextPreset","prevPreset","resetPreset","addPreset","initPreset","newPreset","LFO_1_FC","LFO_1_GAIN","LFO_1_PHASE","LFO_1_RETR","LFO_1_TP","LFO_2_FC","LFO_2_GAIN","LFO_2_PHASE","LFO_2_RETR","LFO_2_TP","M_ROW_1","M_ROW_2","M_ROW_3","M_ROW_4","M_ROW_5","OSC_1_FINE","OSC_1_OCT","OSC_1_PHASE","OSC_1_RETR","OSC_1_SEMI","OSC_1_SPRD","OSC_1_TP","OSC_1_VOICE","OSC_2_FINE","OSC_2_OCT","OSC_2_PHASE","OSC_2_RETR","OSC_2_SEMI","OSC_2_SPRD","OSC_2_TP","OSC_2_VOICE","require","warn","midiToNote","midi","Frequency","Synthesizer","Instrument","voiceManager","_masterGain","controlManager","Meter","channels","normalRange","smoothing","createControls","p1","p2","dumpPreset","releaseAll","arr","panic","MasterControls","color","style","height","$event","mouseDown","keyNotes","active","handleMouseDown","handleMouseUp","handleMouseOut","handleMouseOver","MIN_OCTAVE","MAX_OCTAVE","BLACK_KEYS","OCTAVE_KEYS","MIN_MIDI","MAX_MIDI","MIDDLE_C_MIDI","KEYBOARD","calculateOctave","createRange","minMIDI","maxMIDI","keyNote","MIN_KB_MIDI","MAX_KB_MIDI","_keys","midiOffset","kbRange","whiteKeys","filtered","inKbRange","playNote","releaseNote","$set","listener","keyCode","octaveHandler","$once","beforeDestroy","toLowerCase","split","join","domProps","update","blur","item","_g","$_displayValue","mixins","components","MatrixRowAmount","row$","MatrixRow","DisplayBase","SOURCE_NONE","DEST_NONE","meterLevels","level","loop","requestAnimationFrame","levels","directives","rawName","onPresetChange","displayContent","debouncedHide","debounce","controlDataHandler","throttledHandler","$on","$off","KnobVue","WavePickerVue","FaderVue","DisplayPickerVue","ToggleVue","VSelectVue","modelData","componentProps","displayPriority","runDisplayPriority","priority","Analyzer","Defer","Controller","Piano","VSection","Matrix","MainScreen","Toggle","toDestination","destroySynth","oldsynth","createSynth","Waveform","files","_files$default$name","Vue","pop","config","productionTip","App","$mount","inMin","inMax","outMin","outMax","polarToCartesian","centerX","centerY","radius","angleInDegrees","angleInRadians","cos","y","describeArc","startAngle","endAngle","end","largeArcFlag","func","wait","previous","later","leading","Date","remaining","trailing","asValue"],"mappings":"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","file":"src/assets/js/app.807f01f7.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t\"app\": 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"src/assets/js/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d9dd261\":\"bbcd073f\",\"chunk-46b3ef98\":\"d8223a98\",\"chunk-6a6dacb2\":\"2523ec6f\",\"chunk-8e284c8a\":\"3af555df\",\"chunk-c169f444\":\"803057f5\",\"chunk-e4aa8708\":\"c8e485e8\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"chunk-2d9dd261\":1,\"chunk-46b3ef98\":1,\"chunk-6a6dacb2\":1,\"chunk-8e284c8a\":1,\"chunk-c169f444\":1,\"chunk-e4aa8708\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"src/assets/css/\" + ({}[chunkId]||chunkId) + \".\" + {\"chunk-2d9dd261\":\"e3fb00ce\",\"chunk-46b3ef98\":\"eed05a70\",\"chunk-6a6dacb2\":\"92c753ec\",\"chunk-8e284c8a\":\"1c0bcdc6\",\"chunk-c169f444\":\"012bc464\",\"chunk-e4aa8708\":\"9bafe2c1\"}[chunkId] + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/polyforce/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"primary\":\"#ff0080\",\"control\":\"#f08f20\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"primary\":\"#ff0080\",\"control\":\"#f08f20\"};","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"1909\";","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VSection.vue?vue&type=style&index=0&id=0cb35148&prod&lang=scss\"","var render = function render(_c,_vm){return _c('div',_vm._b({staticClass:\"display\",class:[_vm.data.staticClass, _vm.data.class, _vm.props.light ? 'light' : '']},'div',_vm.data.attrs,false),[_c('div',{staticClass:\"display__wrapper\"},[_c('div',{staticClass:\"display__content\"},[_vm._t(\"default\")],2)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template functional>\r\n  <div class=\"display\" v-bind=\"data.attrs\" :class=\"[data.staticClass, data.class, props.light ? 'light' : '']\">\r\n    <div class=\"display__wrapper\">\r\n      <div class=\"display__content\">\r\n        <slot></slot>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    light: Boolean\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.display {\r\n  box-shadow: inset 1px 1px 3px 1px #0007, inset -2px -2px 5px 1px #ccc2;\r\n  display: inline-block;\r\n  padding: 4px;\r\n  border-radius: 2px;\r\n  overflow: hidden;\r\n  box-sizing: content-box;\r\n\r\n  &__wrapper {\r\n    height: inherit;\r\n    border-radius: 1px;\r\n    background-color: #121212;\r\n    box-shadow: inset 0px 0px 1px 1px #0007;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    user-select: none;\r\n  }\r\n\r\n  &__content {\r\n    overflow: hidden;\r\n  }\r\n\r\n  &.light {\r\n    box-shadow: inset 2px 2px 4px 2px #0007, inset -2px -2px 5px 2px #ccc2;\r\n    box-shadow: inset 2px 2px 3px 2px #000, inset -2px -2px 5px 2px #ccc2, -1px -1px 2px 2px #000a,\r\n      1px 1px 2px 2px #aaa2;\r\n    padding: 1px;\r\n\r\n    .display__wrapper {\r\n      background-color: #e5e9ec;\r\n      color: #414446;\r\n      box-shadow: inset 0 0 2px 1px #000;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DisplayBase.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DisplayBase.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DisplayBase.vue?vue&type=template&id=024d2e28&functional=true\"\nimport script from \"./DisplayBase.vue?vue&type=script&lang=js\"\nexport * from \"./DisplayBase.vue?vue&type=script&lang=js\"\nimport style0 from \"./DisplayBase.vue?vue&type=style&index=0&id=024d2e28&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(_c,_vm){return _c('div',{staticClass:\"controller\",class:[`label-${_vm.props.labelPosition}`, _vm.data.staticClass, _vm.data.class]},[_c('div',{staticClass:\"controller__wrapper\"},[_vm._t(\"default\")],2),(_vm.props.label)?_c('div',{staticClass:\"controller__label\"},[_vm._v(_vm._s(_vm.props.label))]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template functional>\r\n  <div class=\"controller\" :class=\"[`label-${props.labelPosition}`, data.staticClass, data.class]\">\r\n    <div class=\"controller__wrapper\">\r\n      <slot></slot>\r\n    </div>\r\n    <div class=\"controller__label\" v-if=\"props.label\">{{ props.label }}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    label: { type: String },\r\n    labelPosition: {\r\n      type: String,\r\n      default: \"bottom\",\r\n      validator: v => [\"top\", \"bottom\", \"left\", \"right\"].includes(v)\r\n    }\r\n  },\r\n  inheritAttrs: false\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.controller {\r\n  font-size: 0.8em;\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  margin: 0.1em;\r\n\r\n  &__wrapper {\r\n    width: 100%;\r\n    flex: 1;\r\n    display: flex;\r\n    align-items: flex-end;\r\n    justify-content: center;\r\n\r\n    // add margin, if label exists\r\n    &:not(:last-child) {\r\n      // margin-bottom: 1em;\r\n      margin-bottom: 0.2em;\r\n    }\r\n  }\r\n\r\n  &__label {\r\n    // position: absolute;\r\n    bottom: 0;\r\n    font-weight: 600;\r\n    font-size: 0.7em;\r\n    white-space: nowrap;\r\n    text-align: center;\r\n    text-transform: uppercase;\r\n    user-select: none;\r\n    color: #fff7;\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n\r\n  &.label-right {\r\n    flex-direction: row;\r\n\r\n    .controller__wrapper:not(:last-child) {\r\n      margin-right: 0.2em;\r\n    }\r\n  }\r\n\r\n  &.label-left {\r\n    flex-direction: row-reverse;\r\n\r\n    .controller__wrapper:not(:last-child) {\r\n      margin-left: 0.2em;\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n\r\n  &.label-top {\r\n    flex-direction: column-reverse;\r\n\r\n    .controller__wrapper:not(:last-child) {\r\n      margin-top: 0.2em;\r\n    }\r\n  }\r\n}</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseController.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseController.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./BaseController.vue?vue&type=template&id=3f238970&functional=true\"\nimport script from \"./BaseController.vue?vue&type=script&lang=js\"\nexport * from \"./BaseController.vue?vue&type=script&lang=js\"\nimport style0 from \"./BaseController.vue?vue&type=style&index=0&id=3f238970&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toggle.vue?vue&type=style&index=0&id=4fbf48bb&prod&lang=scss\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"primary\":\"#ff0080\",\"control\":\"#f08f20\"};","export const LogControlMixin = {\r\n  methods: {\r\n    positionToValue(position) {\r\n      const min = this.min$ === 0 ? 0.001 : this.min$;\r\n      const max = this.max$ === 0 ? this.max$ - 0.001 : this.max$;\r\n      return Math.exp(Math.log(min) + position * (Math.log(max) - Math.log(min)));\r\n    },\r\n    valueToPosition(value) {\r\n      const min = this.min$ === 0 ? 0.001 : this.min$;\r\n      const max = this.max$ === 0 ? this.max$ - 0.001 : this.max$;\r\n      return (Math.log(value) - Math.log(min)) / (Math.log(max) - Math.log(min));\r\n    }\r\n  }\r\n};\r\n","export const ExpControlMixin = {\r\n  methods: {\r\n    positionToValue(position) {\r\n      return this.min$ + Math.pow(position, this.exp) * this.$_valueSpread;\r\n    },\r\n    valueToPosition(value) {\r\n      return Math.pow((value - this.min$) / this.$_valueSpread, 1 / this.exp);\r\n    }\r\n  }\r\n};\r\n","import { scale } from \"@/utils\";\r\nexport const StepControlMixin = {\r\n  methods: {\r\n    positionToValue(position) {\r\n      const res = ~~((position * this.$_valueSpread) / this.step) * this.step + this.min$;\r\n      return res;\r\n    },\r\n    valueToPosition(value) {\r\n      return scale(value, this.min$, this.max$, 0, 1);\r\n    }\r\n  }\r\n};\r\n","import { scale } from \"@/utils\";\r\nexport const BaseControlMixin = {\r\n  methods: {\r\n    positionToValue(position) {\r\n      return scale(position, 0, 1, this.min$, this.max$);\r\n    },\r\n    valueToPosition(value) {\r\n      return scale(value, this.min$, this.max$, 0, 1);\r\n    }\r\n  }\r\n};\r\n","import { clamp, scale } from \"@/utils\";\r\nimport _merge from \"lodash.merge\";\r\nimport { LogControlMixin } from \"@/mixins/LogControl\";\r\nimport { ExpControlMixin } from \"@/mixins/ExpControlMixin\";\r\nimport { StepControlMixin } from \"@/mixins/StepControlMixin\";\r\nimport { BaseControlMixin } from \"@/mixins/BaseControlMixin\";\r\nexport const ControlMixin = {\r\n  beforeCreate() {\r\n    const { step, log, exp } = this.$options.propsData;\r\n    let mixin;\r\n    // _merge() override constructor $options, so changes in component are permanent\r\n    // and options need to be updated every time\r\n    if (step) {\r\n      mixin = StepControlMixin;\r\n    } else if (exp) {\r\n      mixin = ExpControlMixin;\r\n    } else if (log) {\r\n      mixin = LogControlMixin;\r\n    } else {\r\n      mixin = BaseControlMixin;\r\n    }\r\n    // override component options with mixin\r\n    _merge(this.$options, mixin);\r\n\r\n    // override mixin options with component custom methods/computed etc.\r\n    // _merge(this.$options, _merge({}, mixin, this.$options));\r\n  },\r\n  props: {\r\n    /*\r\n    id prop for presets functionality\r\n    */\r\n    id: {\r\n      type: [String, Number]\r\n      // required: true\r\n    },\r\n    value: null,\r\n    /*\r\n    default value\r\n    */\r\n    default: {\r\n      type: [Number, String],\r\n      default: 0,\r\n      validate: v => +v === +v // Number\r\n    },\r\n    min: {\r\n      type: [Number, String],\r\n      default: 0,\r\n      validate: v => +v === +v // Number\r\n    },\r\n    max: {\r\n      type: [Number, String],\r\n      default: 1,\r\n      validate: v => +v === +v // Number\r\n    },\r\n\r\n    /*\r\n    mouse drag sensitivity; more->faster\r\n    */\r\n    sensitivity: {\r\n      type: [Number, String],\r\n      validator: v => +v === +v && v > 0,\r\n      default: 1\r\n    },\r\n\r\n    step: {\r\n      type: [String, Number],\r\n      validate: v => +v === +v && v > 0 // positive integer / float\r\n    },\r\n    digits: {\r\n      type: [String, Number],\r\n      default: 2,\r\n      validator: v => Number.isInteger(+v) && v >= 0\r\n    },\r\n    units: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    exp: {\r\n      type: [Number, String],\r\n      validator: v => +v !== 0 && +v === +v // differ zero\r\n    },\r\n    snap: Boolean,\r\n    bipolar: Boolean,\r\n    log: Boolean,\r\n    label: String\r\n  },\r\n  data() {\r\n    return {\r\n      currentY$: 0,\r\n      temp$: 0,\r\n      selected$: false,\r\n      wheelResistance: 1 // mouse wheel sensitivity; more -> slower (more accurate change)\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    position$: {\r\n      get() {\r\n        return this.$_valueToPosition(this.value);\r\n      },\r\n      set(position) {\r\n        this.$_positionToValue(position);\r\n      }\r\n    },\r\n    min$() {\r\n      // transform prop to number to avoid wrong string parsing in math calculations\r\n      return Number(this.min);\r\n    },\r\n    max$() {\r\n      // transform prop to number to avoid wrong string parsing in math calculations\r\n      return Number(this.max);\r\n    },\r\n    $_steps() {\r\n      if (this.step) {\r\n        return this.$_valueSpread / this.step;\r\n      }\r\n      return 0;\r\n    },\r\n    $_stepDelta() {\r\n      if (this.$_steps > 0) {\r\n        return 1 / this.$_steps;\r\n      }\r\n      return 1;\r\n    },\r\n    $_valueSpread() {\r\n      return this.max$ - this.min$;\r\n    },\r\n\r\n    $_sensitivity() {\r\n      return this.sensitivity / 120;\r\n    },\r\n    controlHandlers() {\r\n      return {\r\n        mousemove: this.$_handleMouseMove,\r\n        mouseup: this.$_handleMouseUp,\r\n        mousedown: this.$_handleMouseDown,\r\n        dblclick: this.$_handleDbClick,\r\n        click: this.$_handleMouseClick\r\n      };\r\n    }\r\n  },\r\n  methods: {\r\n    // ==========================\r\n    // private methods\r\n    // ==========================\r\n    $_valueToDisplay(value) {\r\n      let valueNumber = value.toFixed(this.digits);\r\n      if (this.digits === 0 && valueNumber > 1000) {\r\n        valueNumber /= 1000;\r\n        valueNumber = valueNumber.toFixed(valueNumber < 10 ? 2 : 1) + \"k\";\r\n      }\r\n      return valueNumber + this.units;\r\n    },\r\n    $_positionToValue(position) {\r\n      const value = this.positionToValue(position);\r\n      // prevent calling handler with repeated values\r\n      if (this.value !== value) {\r\n        this.$emit(\"input\", value);\r\n        this.$bus.$emit(\"control:change\", this.$_valueToDisplay(value));\r\n      }\r\n    },\r\n    $_valueToPosition(value) {\r\n      /*\r\n      initialize controler position with provided value\r\n      */\r\n      // return value in selected range (min -> max)\r\n      value = clamp(value, this.min$, this.max$);\r\n      return this.valueToPosition(value);\r\n    },\r\n    $_updatePosition(position) {\r\n      const _position = clamp(position, 0, 1);\r\n\r\n      if (_position !== this.position$) {\r\n        this.position$ = _position;\r\n      }\r\n    },\r\n    $_init() {\r\n      this.$_clearDrag();\r\n      this.init();\r\n    },\r\n    $_clearDrag() {\r\n      this.selected$ = false;\r\n      window.removeEventListener(\"mousemove\", this.$_handleMouseMove);\r\n      window.removeEventListener(\"mouseup\", this.$_handleMouseUp);\r\n    },\r\n    $_resetToDefault() {\r\n      this.$emit(\"input\", this.default);\r\n    },\r\n    // ==========================\r\n    // public methods\r\n    // ==========================\r\n    init() { },\r\n    positionToValue(position) {\r\n      return scale(position, 0, 1, this.min$, this.max$);\r\n    },\r\n    valueToPosition(value) {\r\n      return scale(value, this.min$, this.max$, 0, 1);\r\n    },\r\n    // ==========================\r\n    // user interaction handlers\r\n    // ==========================\r\n    $_handleMouseMove(e) {\r\n      if (!this.selected$) return;\r\n\r\n      let position = this.position$,\r\n        delta;\r\n      // Controller position\r\n      delta = (e.pageY - this.currentY$) * this.$_sensitivity;\r\n      if (e.shiftKey) {\r\n        delta *= 0.1;\r\n      }\r\n      if (this.snap) {\r\n        // snap to step\r\n        const diff = Math.floor(delta / this.$_stepDelta) * this.$_stepDelta;\r\n        position = this.temp$ - diff;\r\n      } else if (delta) {\r\n        position -= delta;\r\n        this.currentY$ = e.pageY;\r\n      } else {\r\n        return;\r\n      }\r\n\r\n      // console.log(\"mouse-move\", position);\r\n      this.$_updatePosition(position);\r\n    },\r\n    $_handleMouseUp(e) {\r\n      // console.log(\"mouse-up\");\r\n      this.currentY$ = e.pageY;\r\n      this.temp$ = 0;\r\n      this.$_clearDrag();\r\n    },\r\n    $_handleMouseDown(e) {\r\n      this.selected$ = true;\r\n      this.currentY$ = e.pageY;\r\n      this.temp$ = this.position$;\r\n      e.preventDefault();\r\n\r\n      window.addEventListener(\"mousemove\", this.$_handleMouseMove);\r\n      window.addEventListener(\"mouseup\", this.$_handleMouseUp);\r\n    },\r\n    $_handleDbClick() {\r\n      this.$_resetToDefault();\r\n    },\r\n    $_handleMouseWheel(e) {\r\n      e.preventDefault();\r\n      this.selected$ = true;\r\n      this.$_clearDrag();\r\n      const sign = (e.deltaY || -e.wheelDelta || e.detail) >> 10 || 1;\r\n      let position = this.position$ - 0.05 * sign; // / this.wheelResistance;\r\n      this.$_updatePosition(position);\r\n    },\r\n    $_handleMouseClick(e) {\r\n      this.$bus.$emit(\"control:change\", this.$_valueToDisplay(this.value));\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$_init();\r\n  }\r\n};\r\n","var render, staticRenderFns\nimport script from \"./Toggle.vue?vue&type=script&lang=js\"\nexport * from \"./Toggle.vue?vue&type=script&lang=js\"\nimport style0 from \"./Toggle.vue?vue&type=style&index=0&id=4fbf48bb&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\r\nimport BaseController from \"./BaseController\";\r\nexport default {\r\n  name: \"Toggle\",\r\n  functional: true,\r\n  props: {\r\n    id: {\r\n      type: [String, Number],\r\n      required: true\r\n    },\r\n    value: {\r\n      type: [Number, String],\r\n      validator: v => +v === 0 || +v === 1\r\n    },\r\n    label: String\r\n  },\r\n  render(h, { props, listeners, data }) {\r\n    return h(BaseController, { ...data, props }, [\r\n      h(\"label\", { staticClass: \"checkbox\" }, [\r\n        h(\"span\", { staticClass: \"checkbox__input\" }, [\r\n          h(\"input\", {\r\n            attrs: { type: \"checkbox\", value: props.value },\r\n            class: { checked: props.value },\r\n            on: {\r\n              change(e) {\r\n                return listeners[\"input\"](1 - e.target.value);\r\n              }\r\n            }\r\n          }),\r\n          h(\"span\", { staticClass: \"checkbox__control\" })\r\n        ])\r\n      ])\r\n    ]);\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.checkbox {\r\n  cursor: pointer;\r\n\r\n  &__input {\r\n    input {\r\n      position: absolute;\r\n      opacity: 0;\r\n      z-index: -1;\r\n      appearance: none;\r\n\r\n      &.checked+span {\r\n        box-shadow: 0 0 0.05em 0.1em #111, 0 0.1em 0.1em 0 #111a;\r\n\r\n        &::before {\r\n          background-color: #fff;\r\n          background: radial-gradient(circle at center, #fff, #aaa);\r\n          box-shadow: 0 0 0.4em #fff5, 0 0 0 0.05em #000, inset 0 0 0.08em 0.13em #000;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  &__control {\r\n    display: inline-block;\r\n    width: 1.2em;\r\n    height: 1.2em;\r\n    border-radius: 25%;\r\n    display: flex;\r\n    box-shadow: 0 0 0.05em #111, 0 0.1em 0.1em 0 #111a;\r\n\r\n    // overflow: hidden;\r\n    &::before {\r\n      content: \"\";\r\n      border-radius: inherit;\r\n      width: 100%;\r\n      height: 100%;\r\n      margin: auto;\r\n      display: block;\r\n      background: linear-gradient(0deg, #333, #555);\r\n      box-shadow: 0 0 0 0.03em #000, inset 0 0 0.04em 0.08em #000, inset 0 -0.07em 0.35em #1115;\r\n    }\r\n  }\r\n}</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toggle.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Toggle.vue?vue&type=script&lang=js\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=925bafbc&prod&lang=scss\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"primary\":\"#ff0080\",\"control\":\"#f08f20\"};","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"flex m-auto\",staticStyle:{\"z-index\":\"5\"}},[_c('Synthesizer')],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"synth\"},[_c('div',{staticClass:\"synth__wrapper\"},[(_vm.synth && _vm.synth.ready)?_c('div',{staticClass:\"synth__layout\"},[(_vm.defer(2))?_c('div',{staticClass:\"row row-1\"},_vm._l((2),function(i){return _c('div',{key:i,staticClass:\"col\"},[_c('v-section',{attrs:{\"label\":`osc ${i}`}},[_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS[`OSC_${i}_TP`])}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS[`OSC_${i}_OCT`])}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS[`OSC_${i}_SEMI`])}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS[`OSC_${i}_FINE`])}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS[`OSC_${i}_PHASE`])}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS[`OSC_${i}_SPRD`])}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS[`OSC_${i}_VOICE`])}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS[`OSC_${i}_RETR`])}})],1)],1)}),0):_vm._e(),_c('div',{staticClass:\"row-divider divider-1\"}),(_vm.defer(3))?_c('div',{staticClass:\"row row-2\"},[_vm._l((2),function(i){return _c('div',{key:i,staticClass:\"col\"},[_c('v-section',{attrs:{\"label\":`lfo ${i}`}},[_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS[`LFO_${i}_RETR`])}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS[`LFO_${i}_TP`])}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS[`LFO_${i}_PHASE`])}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS[`LFO_${i}_FC`])}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS[`LFO_${i}_GAIN`])}})],1)],1)}),_c('div',{staticClass:\"col\"},[_c('v-section',{attrs:{\"label\":\"mixer\"}},_vm._l((3),function(i){return _c('div',{key:i,staticClass:\"flex flex-column\"},[_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS[`OSC_${i}_VOL`])}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS[`OSC_${i}_PAN`])}})],1)}),0)],1),_c('div',{staticClass:\"col\"},[_c('div',[_c('v-section',{attrs:{\"label\":\"filter env\"}},[_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.EG_1_ATT)}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.EG_1_DEC)}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.EG_1_SUS)}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.EG_1_REL)}})],1),_c('v-section',{attrs:{\"label\":\"amp env\"}},[_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.AMP_EG_ATT)}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.AMP_EG_DEC)}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.AMP_EG_SUS)}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.AMP_EG_REL)}})],1)],1)])],2):_vm._e(),_c('div',{staticClass:\"row-divider\"}),(_vm.defer(4))?_c('div',{staticClass:\"row row-3\"},[_c('div',{staticClass:\"col\"},[_c('v-section',{attrs:{\"label\":\"filter\"}},[_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.FILTER_TP)}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.FILTER_CUT)}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.FILTER_Q)}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.FILTER_EG)}})],1)],1),_c('div',{staticClass:\"col\"},[_c('v-section',{attrs:{\"label\":\"mod matrix\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('Toggle',{staticClass:\"toggle-scope\",attrs:{\"value\":Number(!!_vm.analyzer),\"id\":\"SCOPE_ON\"},on:{\"input\":_vm.toggleAnalyzer}})]},proxy:true}],null,false,4059332972)},[_c('Matrix',{attrs:{\"modMatrix\":_vm.synth.getControlMatrix}},[(_vm.analyzer)?[_c('Analyzer',{attrs:{\"analyzer\":_vm.analyzer}})]:_vm._e()],2)],1)],1),_c('div',{staticClass:\"col\"},[_c('v-section',{attrs:{\"label\":\"master\"}},[_c('div',{staticClass:\"h-full flex flex-column justify-between\"},[_c('MainScreen',{attrs:{\"model\":_vm.synth.presetManager}}),_c('div',{staticClass:\"flex justify-between align-center\"},[_c('Toggle',{staticClass:\"toggle-fx\",attrs:{\"id\":\"FX_ON\"},model:{value:(_vm.rotate),callback:function ($$v) {_vm.rotate=$$v},expression:\"rotate\"}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.MASTER_GAIN)}})],1)],1),_c('Meter',{attrs:{\"meter\":_vm.synth.meter}})],1)],1)]):_vm._e(),_c('div',{staticClass:\"row-divider\"}),_c('div',{staticClass:\"bottom-panel\"},[_c('div',{staticClass:\"bottom-panel__wrapper\",class:[_vm.rotate ? 'show-fx' : 'show-kb']},[(_vm.defer(6))?_c('div',{staticClass:\"row effects\"},[_c('div',{staticClass:\"col\"},[_c('v-section',{attrs:{\"label\":\"distort\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.FX1_ON)}})]},proxy:true}],null,false,594619463)},[_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.FX1_1)}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.FX1_2)}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.FX1_WET)}})],1)],1),_c('div',{staticClass:\"col\"},[_c('v-section',{attrs:{\"label\":\"chorus\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.FX2_ON)}})]},proxy:true}],null,false,1504463236)},[_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.FX2_1)}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.FX2_2)}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.FX2_3)}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.FX2_4)}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.FX2_5)}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.FX2_WET)}})],1)],1),_c('div',{staticClass:\"col\"},[_c('v-section',{attrs:{\"label\":\"delay\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.FX3_ON)}})]},proxy:true}],null,false,1800994757)},[_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.FX3_1)}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.FX3_2)}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.FX3_WET)}})],1)],1),_c('div',{staticClass:\"col\"},[_c('v-section',{attrs:{\"label\":\"reverb\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.FX4_ON)}})]},proxy:true}],null,false,3170445314)},[_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.FX4_1)}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.FX4_2)}}),_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.FX4_WET)}})],1)],1),_c('div',{staticClass:\"col\"},[_c('v-section',{attrs:{\"label\":\"limiter\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.FX5_ON)}})]},proxy:true}],null,false,873102659)},[_c('Controller',{attrs:{\"model\":_vm.synth.getControl(_vm.CONTROLLERS.FX5_1)}})],1)],1)]):_vm._e(),(_vm.defer(5))?_c('div',{staticClass:\"row overflow-hidden justify-center\"},[_c('div',{staticClass:\"col\",staticStyle:{\"padding\":\"0\"}},[_c('div',{staticClass:\"piano-section\"},[_c('div',{staticClass:\"piano-section__wrapper\",attrs:{\"draggable\":\"false\"}},[_c('piano',{attrs:{\"height\":\"6.2em\"},on:{\"onKeyUp\":_vm.onKeyUp,\"onKeyDown\":_vm.onKeyDown}})],1)])])]):_vm._e()])])]):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\"use-strict\";\r\n\r\nimport { clamp, createEnum } from \"@/utils\";\r\n\r\n/**\r\n * calculates the bipolar (-1 -> +1) value from a normalized unipolar (0 -> 1) value\r\n * @param {Number} value value to convert\r\n */\r\nexport function unipolarToBipolar(value) {\r\n  return 2 * value - 1;\r\n}\r\n\r\n/**\r\n * calculates the normalized unipolar (0 -> 1) value from a bipolar (-1 -> +1) value\r\n * @param {Number} value value to convert\r\n */\r\nexport function bipolarToUnipolar(value) {\r\n  return 0.5 * value + 0.5;\r\n}\r\n\r\n/**\r\n * calculates dB gain from normalized 0->1 scale\r\n * @param {Number} gain - Gain multiplier 0 -> 1;\r\n * @param {Number} [dBMin=-96] - Min dB value;\r\n * @param {Number} [dBMax=0] - Offset dB scale;\r\n * dB = 20  log10(g)\r\n */\r\nexport function normalizedInToDB(gain, dbMin = -96, dBMax = 0) {\r\n  if (gain <= 0) return dbMin; // log10 require value > 0\r\n  return 20 * Math.log10(gain) + dBMax;\r\n}\r\n\r\n/**\r\n * Calculates linear normalized 0-1 value from dB value \\\r\n * formula -> g = 10^(dB / 20)\r\n * @param {Number} dValue -       dB value;\r\n * @param {Number} [dBMin=-96] -  Min dB value;\r\n * @param {Number} [dBMax=0] -    Max dB value;\r\n */\r\nexport function dBToNormalized(dValue, dBMin = -96, dBMax = 0) {\r\n  if (dValue <= dBMin) return 0;\r\n  if (dValue >= dBMax) return 1;\r\n  return Math.pow(10, (dValue - dBMax) / 20);\r\n}\r\n\r\nconst sourcesArr = [\r\n  \"SOURCE_NONE\",\r\n  \"LFO_1_OUT\",\r\n  \"LFO_2_OUT\",\r\n  \"AMP_EG_OUT\",\r\n  \"EG_1_OUT\",\r\n  \"MAX_SOURCES\"\r\n];\r\n\r\nconst destArr = [\r\n  \"DEST_NONE\",\r\n\r\n  \"OSC_12_PITCH\",\r\n  \"AMP_VOL\",\r\n\r\n  \"OSC_1_PITCH\", // ----- per voice\r\n  \"OSC_1_PHASE\",\r\n  \"OSC_1_VOL\",\r\n  \"OSC_1_PAN\",\r\n\r\n  \"OSC_2_PITCH\",\r\n  \"OSC_2_PHASE\",\r\n  \"OSC_2_VOL\",\r\n  \"OSC_2_PAN\",\r\n\r\n  \"OSC_3_VOL\",\r\n  \"OSC_3_PAN\",\r\n\r\n  \"FILTER_CUT\",\r\n  \"OSC_123_VOL\",\r\n  \"OSC_12_PITCH\",\r\n\r\n  \"MAX_DESTINATIONS\"\r\n];\r\nconst transformsArr = [\r\n  \"NONE\",\r\n  \"UNIPOLAR_TO_BIPOLAR\",\r\n  \"BIPOLAR_TO_UNIPOLAR\",\r\n  \"NOTE_NUMBER_TO_FREQUENCY\"\r\n];\r\n\r\nconst controllersArr = [\r\n  \"MASTER_GAIN\", // 0\r\n  \"OSC_1_TP\",\r\n  \"OSC_1_OCT\", //\r\n  \"OSC_1_SEMI\",\r\n  \"OSC_1_FINE\",\r\n  \"OSC_1_PHASE\",\r\n  \"OSC_1_VOICE\",\r\n  \"OSC_1_SPRD\",\r\n  \"OSC_1_RETR\",\r\n\r\n  \"OSC_1_VOL\", // 9\r\n  \"OSC_1_PAN\",\r\n  // -----------\r\n  \"OSC_2_TP\", // 11\r\n  \"OSC_2_OCT\",\r\n  \"OSC_2_SEMI\",\r\n  \"OSC_2_FINE\",\r\n  \"OSC_2_PHASE\",\r\n  \"OSC_2_VOICE\",\r\n  \"OSC_2_SPRD\",\r\n  \"OSC_2_RETR\",\r\n\r\n  \"OSC_2_VOL\", // 19\r\n  \"OSC_2_PAN\",\r\n  // -----------\r\n  \"OSC_3_VOL\", // 21\r\n  \"OSC_3_PAN\",\r\n  // -----------\r\n  \"FILTER_CUT\", // 23\r\n  \"FILTER_Q\",\r\n  \"FILTER_EG\",\r\n  \"FILTER_TP\",\r\n  // -----------\r\n  \"AMP_EG_ATT\", // 27\r\n  \"AMP_EG_DEC\",\r\n  \"AMP_EG_SUS\",\r\n  \"AMP_EG_REL\",\r\n  // -----------\r\n  \"EG_1_ATT\", // 31\r\n  \"EG_1_DEC\",\r\n  \"EG_1_SUS\",\r\n  \"EG_1_REL\",\r\n  // -----------\r\n  \"LFO_1_FC\", // 35\r\n  \"LFO_1_TP\",\r\n  \"LFO_1_GAIN\",\r\n  \"LFO_1_PHASE\",\r\n  \"LFO_1_RETR\",\r\n  // -----------\r\n  \"LFO_2_FC\", // 40\r\n  \"LFO_2_TP\",\r\n  \"LFO_2_GAIN\",\r\n  \"LFO_2_PHASE\",\r\n  \"LFO_2_RETR\",\r\n  // -----------\r\n  \"FX1_ON\", //45 //bypass effect\r\n  \"FX1_WET\", // dry/wet\r\n  \"FX1_1\",\r\n  \"FX1_2\",\r\n  \"FX2_ON\", //bypass effect\r\n  \"FX2_WET\", // dry/wet\r\n  \"FX2_1\",\r\n  \"FX2_2\",\r\n  \"FX2_3\",\r\n  \"FX2_4\",\r\n  \"FX2_5\",\r\n  \"FX3_ON\", //bypass effect\r\n  \"FX3_WET\", // dry/wet\r\n  \"FX3_1\",\r\n  \"FX3_2\",\r\n  \"FX4_ON\", //bypass effect\r\n  \"FX4_WET\", // dry/wet\r\n  \"FX4_1\",\r\n  \"FX4_2\",\r\n  \"FX5_ON\", //bypass effect limiter\r\n  \"FX5_1\",\r\n  \"M_ROW_1\", //66\r\n  \"M_ROW_3\",\r\n  \"M_ROW_2\",\r\n  \"M_ROW_4\",\r\n  \"M_ROW_5\"\r\n  // -----------\r\n];\r\n\r\n/*\r\n==========================\r\ndistortion algorithms\r\n==========================\r\n*/\r\n/**\r\n * A favourite of mine is using a sin() function instead.\r\n * This will have the \"unfortunate\" side effect of removing\r\n * odd harmonics if you take it to the extreme: a triangle\r\n * wave gets mapped to a pure sine wave.\r\n * https://www.musicdsp.org/en/latest/Effects/43-waveshaper.html\r\n * @param {Number} k amount [0, 1]\r\n * @param {Number} x input [-1, 1]\r\n * @author Jon Watte\r\n */\r\nconst sine = function (k) {\r\n  k = k * 0.4 + 0.1; // soft sine-shaping effect [0.1, 0.5]\r\n  var z = Math.PI * k,\r\n    sin = Math.sin,\r\n    s = clamp(1 / sin(z), -3.236068, 3.236068); /* otherwise blowup */\r\n  return function (x) {\r\n    return sin(z * x) * s;\r\n  };\r\n};\r\n/**\r\n * https://www.musicdsp.org/en/latest/Effects/86-waveshaper-gloubi-boulga.html\r\n * @param {Number} k amount [0, 1]\r\n * @param {Number} x input [-1, 1]\r\n * @author Laurent de Soras\r\n */\r\nconst gloubiboulga = function (k) {\r\n  var abs = Math.abs,\r\n    exp = Math.exp,\r\n    sqrt = Math.sqrt;\r\n  k = k * 20 + 1; // k range [1, Inf]\r\n  return function (x) {\r\n    // x*=0.686306;\r\n    x = x * k * 0.686306;\r\n    var a = 1 + exp(sqrt(abs(x)) * -0.75);\r\n    return (exp(x) - exp(-x * a)) / (exp(x) + exp(-x));\r\n  };\r\n};\r\n/**\r\n * https://www.musicdsp.org/en/latest/Effects/203-fold-back-distortion.html\r\n * @param {Number} x input [-1, 1]\r\n * @param {Number} k threshold [0, 1]\r\n */\r\nconst foldback = function (k) {\r\n  k = clamp(k, 0, 0.999);\r\n  k = 1 - k; // inverse threshold to apply relation -> more = stronger effect\r\n  var abs = Math.abs;\r\n  return function (x) {\r\n    if (x > k || x < -k) {\r\n      x = abs(abs((x - k) % (k * 4)) - k * 2) - k;\r\n    }\r\n    return x;\r\n  };\r\n};\r\n\r\n/**\r\n * soft clipping algorithm\r\n * @param {Number} x input [-1, 1]\r\n * @param {Number} k clipping factor [0, 1] (0 = none, infinity = hard)\r\n */\r\nconst softClip = function (k) {\r\n  return function (x) {\r\n    var x1 = x * k,\r\n      x2 = x1 * x1 + 0.25;\r\n    return x1 / x2;\r\n  };\r\n};\r\n\r\n/**\r\n * https://www.musicdsp.org/en/latest/Effects/42-soft-saturation.html\r\n * @param {Number} x input [-1, 1]\r\n * @param {Number} k amount [0, 1]\r\n */\r\nconst saturator = function (k) {\r\n  k = 1 - k;\r\n  var abs = Math.abs,\r\n    sign = Math.sign,\r\n    absx;\r\n  return function (x) {\r\n    absx = abs(x);\r\n    // adjust to negative waveform values\r\n    if (x > k || x < -k) {\r\n      return sign(x) * (k + (absx - k) / (1 + ((absx - k) / (1 - k)) ** 2));\r\n    } else if (x > 1) {\r\n      return (sign(x) * (k + 1)) / 2;\r\n    }\r\n    return x;\r\n  };\r\n};\r\n\r\n/**\r\n * Bit crusher algorithm simplified to one parameter\r\n * @param {Number} x input [-1, 1]\r\n * @param {Number} k amount [0, 1]\r\n * @description reduce sample rate in range 16 bit -> 1 bit\r\n */\r\nconst crusher = function (k) {\r\n  k = 1 - k;\r\n  k *= 16;\r\n  const m = 2 ** k,\r\n    round = Math.round;\r\n  return function (x) {\r\n    return round(x * m) / m;\r\n  };\r\n};\r\n\r\n/**\r\n * Waveshaper \\\r\n * https://www.musicdsp.org/en/latest/Effects/46-waveshaper.html\r\n * @param {Number} x input [-1, 1]\r\n * @param {Number} k amount [0, 1]\r\n * @author Partice Tarrabia and Bram de Jong\r\n */\r\nconst tarrabia = function (k) {\r\n  k = clamp(k, 0, 0.997);\r\n  const m = (2 * k) / (1 - k),\r\n    abs = Math.abs;\r\n  return function (x) {\r\n    return ((1 + m) * x) / (1 + m * abs(x));\r\n  };\r\n};\r\n\r\n/**\r\n * https://www.musicdsp.org/en/latest/Effects/41-waveshaper.html\r\n * @param {Number} x input [-1, 1]\r\n * @param {Number} k clipping factor [0, 1] (0 = none, infinity = hard)\r\n * @author Bram de Jong\r\n */\r\nfunction fuzz(k) {\r\n  k = k * 20 + 1;\r\n  const abs = Math.abs,\r\n    pow = Math.pow;\r\n  let absx;\r\n  return function (x) {\r\n    absx = abs(x);\r\n    return (x * (absx + k)) / (pow(x, 2) + (k - 1) * absx + 1);\r\n  };\r\n}\r\n\r\nexport const SOURCES = createEnum(sourcesArr);\r\nexport const DESTINATIONS = createEnum(destArr);\r\nexport const TRANSFORMS = createEnum(transformsArr);\r\nexport const CONTROLLERS = createEnum(controllersArr, true);\r\nexport const CONTROL_TYPES = createEnum([\r\n  \"KNOB\",\r\n  \"DISPLAYPICKER\",\r\n  \"FADER\",\r\n  \"WAVEPICKER\",\r\n  \"TOGGLE\",\r\n  \"SELECT\"\r\n]);\r\n\r\nexport const DISTORTION_ALGORITHMS = Object.freeze([\r\n  sine,\r\n  gloubiboulga,\r\n  foldback,\r\n  softClip,\r\n  saturator,\r\n  crusher,\r\n  tarrabia,\r\n  fuzz\r\n]);\r\n","export const OSCWaves = [\"sine\", \"sawtooth\", \"triangle\", \"square\"];\r\nexport const LFOWaves = [\"sine\", \"sawtooth\", \"triangle\", \"square\"];\r\nexport const FILTERTypes = [\r\n  { type: \"lowpass\", rolloff: -12 },\r\n  { type: \"lowpass\", rolloff: -24 },\r\n  { type: \"bandpass\", rolloff: -12 },\r\n  { type: \"bandpass\", rolloff: -24 },\r\n  { type: \"highpass\", rolloff: -12 },\r\n  { type: \"highpass\", rolloff: -24 },\r\n  { type: \"allpass\" }\r\n];\r\n","import * as globals from \"@/Synth/globals\";\r\nimport { throttle } from \"@/utils\";\r\n\r\nfunction getOscillator(osc) {\r\n  let result;\r\n  switch (osc) {\r\n    case 1:\r\n      result = \"oscillator1\";\r\n      break;\r\n    case 2:\r\n      result = \"oscillator2\";\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  return result;\r\n}\r\n\r\nexport class Command {\r\n  constructor(context) {\r\n    this.context = context;\r\n    this.execute = throttle(this.executeCommand.bind(this), 100);\r\n  }\r\n  executeCommand(value) { }\r\n}\r\n\r\nexport class OscillatorCommand extends Command {\r\n  constructor(context, osc, param) {\r\n    super(context);\r\n    this.osc = osc;\r\n    this.param = param;\r\n  }\r\n  executeCommand(value) {\r\n    const osc = getOscillator(this.osc);\r\n    if (!osc || !this.param) return;\r\n    this.context.setVoiceValue({ [osc]: { [this.param]: value } });\r\n  }\r\n}\r\n\r\nexport class OscTypeCommand extends Command {\r\n  constructor(context, osc) {\r\n    super(context);\r\n    this.osc = osc;\r\n  }\r\n  executeCommand(value) {\r\n    const osc = getOscillator(this.osc);\r\n    if (!osc) return;\r\n    const type = globals.OSCWaves[value] || globals.OSCWaves[0];\r\n    this.context.setVoiceValue({ [osc]: { type } });\r\n  }\r\n}\r\n\r\nexport class PanCommand extends Command {\r\n  constructor(context, idx, param) {\r\n    super(context);\r\n    this.idx = idx;\r\n    this.param = param;\r\n  }\r\n  executeCommand(value) {\r\n    const panParam = \"pan\" + this.idx;\r\n    this.context.setVoiceValue({ [panParam]: { pan: value } });\r\n  }\r\n}\r\nexport class VolumeCommand extends Command {\r\n  constructor(context, idx) {\r\n    super(context);\r\n    this.idx = idx;\r\n  }\r\n  executeCommand(value) {\r\n    const gainParam = \"gain\" + this.idx;\r\n    this.context.setVoiceValue({ [gainParam]: { gain: value } });\r\n  }\r\n}\r\n\r\nexport class VoiceCommand extends Command {\r\n  constructor(context, destination) {\r\n    super(context);\r\n    this.destination = destination; // string\r\n  }\r\n  executeCommand(value) {\r\n    this.context.setVoiceValue({ [this.destination]: value });\r\n  }\r\n}\r\n\r\n/* ---------- Filter ---------- */\r\nexport class FilterFcCommand extends Command {\r\n  constructor(context) {\r\n    super(context);\r\n  }\r\n  executeCommand(value) {\r\n    this.context.setVoiceValue({ filter: { cutoff: value } });\r\n  }\r\n}\r\n\r\nexport class FilterTypeCommand extends Command {\r\n  constructor(context) {\r\n    super(context);\r\n  }\r\n  executeCommand(value) {\r\n    const type = globals.FILTERTypes[value] || globals.FILTERTypes[0];\r\n    this.context.setVoiceValue({ filter: { ...type } });\r\n  }\r\n}\r\n\r\nexport class FilterCommand extends Command {\r\n  constructor(context, param) {\r\n    super(context);\r\n    this.param = param;\r\n  }\r\n  executeCommand(value) {\r\n    this.context.setVoiceValue({ filter: { [this.param]: value } });\r\n  }\r\n}\r\n\r\nexport class AMPEnvCommand extends Command {\r\n  constructor(context, param) {\r\n    super(context);\r\n    this.param = param;\r\n  }\r\n  executeCommand(value) {\r\n    this.context.setVoiceValue({ AMP_EG: { [this.param]: value } });\r\n  }\r\n}\r\n\r\nexport class FilterEnvCommand extends Command {\r\n  constructor(context, param) {\r\n    super(context);\r\n    this.param = param;\r\n  }\r\n  executeCommand(value) {\r\n    this.context.setVoiceValue({ EG_1: { [this.param]: value } });\r\n  }\r\n}\r\n\r\nexport class LFOTypeCommand extends Command {\r\n  constructor(context, idx) {\r\n    super(context);\r\n    this.idx = idx;\r\n  }\r\n  executeCommand(value) {\r\n    const lfo = this.idx === 1 ? \"LFO_2\" : \"LFO_1\";\r\n    const type = globals.LFOWaves[value] || globals.LFOWaves[0];\r\n    this.context.setVoiceValue({ [lfo]: { type } });\r\n  }\r\n}\r\nexport class LFOCommand extends Command {\r\n  constructor(context, idx, param) {\r\n    super(context);\r\n    this.idx = idx;\r\n    this.param = param;\r\n  }\r\n  executeCommand(value) {\r\n    const lfo = this.idx === 1 ? \"LFO_2\" : \"LFO_1\";\r\n    this.context.setVoiceValue({ [lfo]: { [this.param]: value } });\r\n  }\r\n}\r\n\r\nexport class MatrixCommand extends Command {\r\n  constructor(context) {\r\n    super(context);\r\n  }\r\n\r\n  executeCommand(value) {\r\n    this.context.setVoiceModMatrix(value);\r\n  }\r\n}\r\n\r\nexport class ModMatrixCommand extends Command {\r\n  constructor(context, row) {\r\n    super(context);\r\n    this.row = row;\r\n  }\r\n\r\n  executeCommand(value) {\r\n    this.context.setVoiceModMatrix({ id: this.row, value });\r\n  }\r\n}\r\n\r\nexport class FXCommand extends Command {\r\n  constructor(context, effect, param) {\r\n    super(context);\r\n    this.effect = effect;\r\n    this.param = param;\r\n  }\r\n  // effect options\r\n  executeCommand(value) {\r\n    this.context.setFX(this.effect, { effect: { [this.param]: value } });\r\n  }\r\n}\r\nexport class FXBypassCommand extends Command {\r\n  constructor(context, effect, param) {\r\n    super(context);\r\n    this.effect = effect;\r\n    this.param = param;\r\n  }\r\n  // bypass is effect wrapper class property\r\n  executeCommand(value) {\r\n    this.context.setFX(this.effect, { on: value });\r\n  }\r\n}\r\n\r\nexport class BaseCommand extends Command {\r\n  constructor(context, param) {\r\n    super(context);\r\n    this.param = param; // string\r\n  }\r\n  executeCommand(value) {\r\n    this.context.set({ [this.param]: value });\r\n  }\r\n}\r\n","import { SOURCES, DESTINATIONS } from \"./synthutils\";\r\nimport { ToneAudioNode, Multiply, optionsFromArguments } from \"tone\";\r\nimport { Command, MatrixCommand } from \"@/Synth/commands\";\r\n\r\n/*\r\n===========================================\r\n*/\r\n\r\nexport class Modulator extends ToneAudioNode {\r\n  constructor() {\r\n    super(optionsFromArguments(Modulator.getDefaults(), arguments));\r\n    const options = optionsFromArguments(Modulator.getDefaults(), arguments);\r\n    this._source = options.source;\r\n    this._destination = options.destination;\r\n    this.signalNode = this.input = this.output = new Multiply({\r\n      value: options.amount,\r\n      type: options.type,\r\n      context: this.context\r\n    });\r\n  }\r\n\r\n  static getDefaults() {\r\n    return Object.assign(ToneAudioNode.getDefaults(), {\r\n      source: null,\r\n      destination: null,\r\n      type: \"audiorange\",\r\n      amount: 0\r\n    });\r\n  }\r\n\r\n  get amount() {\r\n    return this.signalNode.factor.value;\r\n  }\r\n\r\n  set amount(val) {\r\n    this.signalNode.factor.value = val;\r\n  }\r\n\r\n  /*\r\n  control source node\r\n  */\r\n  setSource(node) {\r\n    if (this._source === node) return;\r\n    if (this._source) {\r\n      this._source.disconnect(this.signalNode);\r\n      this._source = null;\r\n    }\r\n    if (node) {\r\n      this._source = node;\r\n      this._source.connect(this.signalNode);\r\n    }\r\n  }\r\n\r\n  /*\r\n  control destination node\r\n  */\r\n  setDestination(node) {\r\n    if (this._destination === node) return;\r\n    this.signalNode.disconnect();\r\n    if (node) {\r\n      this._destination = node;\r\n      this.signalNode.connect(this._destination);\r\n    }\r\n  }\r\n  get source() {\r\n    return this._source;\r\n  }\r\n\r\n  set source(node) {\r\n    if (this._source === node) return;\r\n    if (this._source) {\r\n      this._source.disconnect(this.signalNode);\r\n      this._source = null;\r\n    }\r\n    if (node) {\r\n      this._source = node;\r\n      this._source.connect(this.signalNode);\r\n    }\r\n  }\r\n\r\n  get destination() {\r\n    return this._destination;\r\n  }\r\n\r\n  set destination(node) {\r\n    if (this._destination === node) return;\r\n    this.signalNode.disconnect();\r\n    if (node) {\r\n      this._destination = node;\r\n      this.signalNode.connect(this._destination);\r\n    }\r\n  }\r\n\r\n  dispose() {\r\n    super.dispose();\r\n    this.source && this.source.disconnect(this.signalNode);\r\n    this.signalNode.disconnect();\r\n    this.signalNode.dispose();\r\n    this.source = null;\r\n    this.destination = null;\r\n  }\r\n}\r\n\r\nexport class MatrixRow {\r\n  constructor() {\r\n    const options = optionsFromArguments(MatrixRow.getDefaults(), arguments);\r\n\r\n    this._id = options.id;\r\n    this._source = options.source;\r\n    this._destination = options.destination;\r\n    // for GUI -> control\r\n    this._amount = options.amount;\r\n    this._command = null;\r\n  }\r\n\r\n  static getDefaults() {\r\n    return { source: 0, destination: 0, value: 0 };\r\n  }\r\n\r\n  setCommand(command) {\r\n    if (command instanceof Command) {\r\n      this._command = command;\r\n    }\r\n  }\r\n\r\n  set(values) {\r\n    if (Array.isArray(values)) {\r\n      this.source = values[0] || 0;\r\n      this.destination = values[1] || 0;\r\n      this.amount = values[2] || 0;\r\n    }\r\n  }\r\n\r\n  getValues() {\r\n    return [this.source, this.destination, this.value];\r\n  }\r\n\r\n  execute(options) {\r\n    if (!this._command) return;\r\n    this._command.execute({ id: this.id, ...options });\r\n  }\r\n\r\n  get amount() {\r\n    return this._amount;\r\n  }\r\n\r\n  set amount(amount) {\r\n    this._amount = amount;\r\n    this.execute({ value });\r\n  }\r\n\r\n  get id() {\r\n    return this._id;\r\n  }\r\n\r\n  get source() {\r\n    return this._source;\r\n  }\r\n\r\n  set source(source) {\r\n    if (this.source !== source) {\r\n      this._source = source;\r\n      this.execute({ source });\r\n    }\r\n  }\r\n\r\n  get destination() {\r\n    return this._destination;\r\n  }\r\n\r\n  set destination(destination) {\r\n    if (this.destination !== destination) {\r\n      this._destination = destination;\r\n      this.execute({ destination });\r\n    }\r\n  }\r\n\r\n  dispose() {\r\n    this.source = 0;\r\n    this.destination = 0;\r\n    this.value = 0;\r\n  }\r\n}\r\n\r\nexport class ModMatrix {\r\n  constructor() {\r\n    // available slots\r\n    this._slots = 5;\r\n    this.size = 0;\r\n    this.matrixCore = null;\r\n    this.sources = new Array(SOURCES.MAX_SOURCES);\r\n    this.destinations = new Array(DESTINATIONS.MAX_DESTINATIONS);\r\n    this.modulators = null;\r\n  }\r\n\r\n  /**\r\n   * initialize matrix with empty modulation slots\r\n   *\r\n   * @param {ModMatrix} modMatrix\r\n   * @returns {void}\r\n   */\r\n\r\n  initializeModMatrix(modMatrix, context) {\r\n    // const command = new MatrixCommand(context);\r\n    // for (let i = 0; i < this._slots; i++) {\r\n    //   const row = new MatrixRow({ id: i });\r\n    //   row.setCommand(command);\r\n    //   modMatrix.addModMatrixRow(row, i);\r\n    // }\r\n  }\r\n\r\n  initializeModulators() {\r\n    this.modulators = new Array(this._slots);\r\n    for (let i = 0; i < this._slots; i++) {\r\n      this.modulators[i] = new Modulator();\r\n    }\r\n  }\r\n\r\n  setRows(matrix, rows) {\r\n    if (!matrix.matrixCore || !Array.isArray(rows)) return;\r\n    matrix.matrixCore.map(row => {\r\n      row.set(rows[i]);\r\n    });\r\n  }\r\n\r\n  getRows() {\r\n    if (!this.matrixCore) return [];\r\n    return this.matrixCore.reduce((acc, row) => {\r\n      const values = row.getValues();\r\n      acc.push(values);\r\n      return acc;\r\n    }, []);\r\n  }\r\n\r\n  set({ id, value }) {\r\n    if (!this.modulators) return;\r\n    const mod = this.modulators[id];\r\n    if (!mod) return;\r\n    const source = this.sources[value[0]],\r\n      destination = this.destinations[value[1]],\r\n      amount = value[2];\r\n\r\n    mod.source = source;\r\n    mod.destination = destination;\r\n    mod.amount = amount;\r\n  }\r\n\r\n  _setSource(mod, idx) {\r\n    const source = this.sources[idx];\r\n    mod.setSource(source);\r\n  }\r\n\r\n  _setDestination(mod, idx) {\r\n    const destination = this.destinations[idx];\r\n    mod.setDestination(destination);\r\n  }\r\n\r\n  _setValue(mod, value) {\r\n    mod.value = value;\r\n  }\r\n\r\n  getMatrixCore() {\r\n    return this.matrixCore;\r\n  }\r\n\r\n  setMatrixCore(modMatrix) {\r\n    this.matrixCore = modMatrix;\r\n    this.size = this.getMatrixSize();\r\n  }\r\n\r\n  getMatrixSize() {\r\n    let size = 0;\r\n    if (!this.matrixCore) return size;\r\n    for (let i = 0; i < this.matrixCore.length; i++) {\r\n      const row = this.matrixCore[i];\r\n      if (row) size++;\r\n    }\r\n    return size;\r\n  }\r\n\r\n  clearMatrix() {\r\n    if (!this.matrixCore) return;\r\n    let i;\r\n    for (i = this.matrixCore.length; i--;) {\r\n      this.matrixCore[i] = null;\r\n    }\r\n  }\r\n\r\n  addModMatrixRow(row, idx) {\r\n    if (!this.matrixCore) {\r\n      this.createMatrixCore();\r\n    }\r\n    this.matrixCore[idx] = row;\r\n    this.size++;\r\n  }\r\n\r\n  createMatrixCore() {\r\n    // create fixed length array\r\n    this.matrixCore = Object.seal(new Array(this._slots).fill(null));\r\n  }\r\n\r\n  deleteModMatrix() {\r\n    this.matrixCore = null;\r\n    this.size = 0;\r\n  }\r\n\r\n  deleteModulators() {\r\n    if (!this.modulators) return;\r\n    for (let i = 0; i < this.modulators.length; i++) {\r\n      const modulator = this.modulators[i];\r\n      modulator.dispose();\r\n    }\r\n    this.modulators = null;\r\n  }\r\n\r\n  dispose() {\r\n    this.deleteModulators();\r\n    this.deleteModMatrix();\r\n\r\n    this.sources = null;\r\n    this.destinations = null;\r\n  }\r\n}\r\n","import { optionsFromArguments, LFO as ToneLFO, Add, now } from \"tone\";\r\n\r\n//====================\r\nexport default class LFO extends ToneLFO {\r\n  constructor() {\r\n    const options = optionsFromArguments(LFO.getDefaults(), arguments);\r\n    super(options);\r\n    this._retrigger = options.retrigger;\r\n  }\r\n\r\n  static getDefaults() {\r\n    return Object.assign(ToneLFO.getDefaults(), {\r\n      retrigger: false,\r\n      offset: 0, // TODO LFO offset\r\n      max: 1,\r\n      min: -1,\r\n      phase: 0\r\n    });\r\n  }\r\n\r\n  get retrigger() {\r\n    return this._retrigger;\r\n  }\r\n\r\n  set retrigger(value) {\r\n    this._retrigger = Boolean(value);\r\n    if (value) {\r\n      // this._oscillator.stop();\r\n      this.state === \"started\" && this._oscillator.stop();\r\n    } else {\r\n      // this._oscillator.start(now());\r\n      this.state === \"stopped\" && this._oscillator.start(now());\r\n    }\r\n  }\r\n\r\n  /**\r\n   * restart LFO phase\r\n   */\r\n  restart() {\r\n    if (this.retrigger) {\r\n      this._oscillator.phase = this.phase;\r\n      this._oscillator.start(now());\r\n    }\r\n  }\r\n\r\n  restop(time) {\r\n    if (this.retrigger) {\r\n      this.stop(time);\r\n    }\r\n  }\r\n  dispose() {\r\n    super.dispose();\r\n    return this;\r\n  }\r\n}\r\n","import { FatOscillator, optionsFromArguments, Oscillator } from \"tone\";\r\nimport { noOp } from \"tone/build/esm/core/util/Interface\";\r\n//====================\r\nimport { MODULATION } from \"@/Synth/nodes\";\r\nimport { clamp, random } from \"@/utils\";\r\n\r\nexport default class VCO extends FatOscillator {\r\n  constructor() {\r\n    const options = optionsFromArguments(VCO.getDefaults(), arguments);\r\n    super(options);\r\n\r\n    this._fine = options.fine;\r\n    this._semi = options.semi;\r\n    this._octave = 0;\r\n\r\n    this._retrigger = options.retrigger;\r\n\r\n    // configure modulatable parameters\r\n    this.detuneNode = new MODULATION({\r\n      exp: 3,\r\n      units: \"cents\",\r\n      value: 0,\r\n      modRange: options.modPitchRange\r\n    });\r\n    this.detuneNode.output.connect(this.detune);\r\n\r\n    /* ====================== */\r\n    this.octave = options.octave; // trigger initial detuning (only once)\r\n  }\r\n\r\n  static getDefaults() {\r\n    return Object.assign(FatOscillator.getDefaults(), {\r\n      frequency: \"C4\",\r\n      type: \"sine\",\r\n      count: 0, // num of osc's\r\n      phase: 0,\r\n      modPitchRange: 4800, //cents\r\n      spread: 0, // detune between osc's\r\n      // -----\r\n      fine: 0,\r\n      semi: 0,\r\n      octave: 0,\r\n      // stereo: 0, // stereo spread\r\n      retrigger: false\r\n    });\r\n  }\r\n\r\n  get fine() {\r\n    return this._fine;\r\n  }\r\n\r\n  set fine(value) {\r\n    // 100 cents range\r\n    value = clamp(parseInt(value), -100, 100);\r\n    this._fine = value;\r\n    this.detuneOsc();\r\n  }\r\n  get semi() {\r\n    return this._semi;\r\n  }\r\n  set semi(value) {\r\n    // 12 semis range (1200 cents)\r\n    value = clamp(parseInt(value), -12, 12);\r\n    this._semi = value;\r\n    this.detuneOsc();\r\n  }\r\n  get octave() {\r\n    return this._octave;\r\n  }\r\n  set octave(value) {\r\n    // 3 octaves range (3600 cents)\r\n    value = clamp(parseInt(value), -3, 3);\r\n    this._octave = value;\r\n    this.detuneOsc();\r\n  }\r\n  get retrigger() {\r\n    return this._retrigger;\r\n  }\r\n  set retrigger(value) {\r\n    this._retrigger = Boolean(value);\r\n  }\r\n  get phase() {\r\n    return this._phase;\r\n  }\r\n\r\n  set phase(phase) {\r\n    this._phase = phase;\r\n    // retrigger sync voices phase\r\n    if (this.retrigger) {\r\n      this._forEach(osc => (osc.phase = phase));\r\n    }\r\n  }\r\n\r\n  get count() {\r\n    return this._oscillators.length;\r\n  }\r\n\r\n  /*\r\n  custom count setter that allows to set oscillators to 0\r\n  */\r\n  set count(count) {\r\n    // assertRange(count, 1);\r\n    if (this._oscillators.length !== count) {\r\n      // dispose the previous oscillators\r\n      this._forEach(osc => osc.dispose());\r\n      this._oscillators = [];\r\n      for (let i = 0; i < count; i++) {\r\n        const osc = new Oscillator({\r\n          context: this.context,\r\n          volume: -6 - count * 1.1,\r\n          type: this._type,\r\n          phase: this._phase + (i / count) * 360,\r\n          partialCount: this._partialCount,\r\n          onstop: i === 0 ? () => this.onstop(this) : noOp\r\n        });\r\n        if (this.type === \"custom\") {\r\n          osc.partials = this._partials;\r\n        }\r\n        this.frequency.connect(osc.frequency);\r\n        this.detune.connect(osc.detune);\r\n        osc.detune.overridden = false;\r\n        osc.connect(this.output);\r\n        this._oscillators[i] = osc;\r\n      }\r\n      // set the spread\r\n      this.spread = this._spread;\r\n      if (this.state === \"started\") {\r\n        this._forEach(osc => osc.start());\r\n      }\r\n    }\r\n  }\r\n\r\n  /*\r\n  detune the oscillator freq using three independent parameters:\r\n  - fine: 100 cents range,\r\n  - semi: 12 notes range,\r\n  - octave: 3 octaves range.\r\n  */\r\n  detuneOsc() {\r\n    const fine = this._fine,\r\n      semi = this._semi * 100,\r\n      octave = this._octave * 1200,\r\n      value = fine + semi + octave;\r\n    this.detuneNode._signal.setValueAtTime(value);\r\n  }\r\n\r\n  _start(time) {\r\n    //   // randomize voices phase on start\r\n    if (this.retrigger) {\r\n      this._forEach(osc => (osc.phase = this.phase));\r\n    } else {\r\n      this._forEach(osc => (osc.phase = random(0, 360)));\r\n    }\r\n    super._start(time);\r\n  }\r\n\r\n  setNote(note, time) {\r\n    this.frequency.setValueAtTime(note, time);\r\n  }\r\n\r\n  dispose() {\r\n    super.dispose();\r\n    this.detuneNode.disconnect();\r\n    this.detuneNode.dispose();\r\n    return this;\r\n  }\r\n}\r\n","import { optionsFromArguments, Filter, Signal, Multiply, WaveShaper, DCMeter } from \"tone\";\r\nimport { MODULATION } from \"@/Synth/nodes\";\r\nexport default class MyFilter extends Filter {\r\n  constructor() {\r\n    super(optionsFromArguments(MyFilter.getDefaults(), arguments));\r\n    const options = optionsFromArguments(MyFilter.getDefaults(), arguments);\r\n    this._minFreq = options.minFreq;\r\n    this._maxFreq = options.maxFreq;\r\n\r\n    this.cutoffNode = new MODULATION({\r\n      exp: 3,\r\n      units: \"frequency\",\r\n      value: options.frequency,\r\n      modRange: options.modFreqRange\r\n    });\r\n    this.cutoffNode.output.connect(this.frequency); // works only this way\r\n  }\r\n\r\n  get cutoff() {\r\n    return this.cutoffNode._signal.value;\r\n  }\r\n\r\n  set cutoff(value) {\r\n    this.cutoffNode._signal.value = value;\r\n  }\r\n\r\n  static getDefaults() {\r\n    return Object.assign(Filter.getDefaults(), {\r\n      modFreqRange: 15000,\r\n      minFreq: 20,\r\n      maxFreq: 20000,\r\n      frequency: 50\r\n    });\r\n  }\r\n\r\n  dispose() {\r\n    this.frequency.dispose();\r\n    this.Q.dispose();\r\n    this.detune.dispose();\r\n    this.gain.dispose();\r\n    this.cutoffNode.disconnect();\r\n    this.cutoffNode.dispose();\r\n    // FIXME: writable() method in super.dispose() removes own properties, causing error\r\n    try {\r\n      super.dispose();\r\n    } catch (err) {\r\n      console.debug(err.message);\r\n    } finally {\r\n      return this;\r\n    }\r\n  }\r\n}\r\n","import {\r\n  optionsFromArguments,\r\n  Multiply,\r\n  ToneAudioNode,\r\n  Signal,\r\n  WaveShaper\r\n} from \"tone\";\r\n\r\nexport class ModNode extends ToneAudioNode {\r\n  constructor() {\r\n    super(optionsFromArguments(ModNode.getDefaults(), arguments));\r\n    const options = optionsFromArguments(ModNode.getDefaults(), arguments);\r\n\r\n    this._signal = this.input = new Signal({ units: options.units, value: options.value });\r\n\r\n    this.modNode = new Multiply({ value: options.modRange });\r\n    this.output = new Signal({ units: options.units });\r\n    this.input.connect(this.output);\r\n    this.modNode.connect(this.output);\r\n  }\r\n  get raw() {\r\n    return this.meter.getValue();\r\n  }\r\n\r\n  static getDefaults() {\r\n    return Object.assign(ToneAudioNode.getDefaults(), {\r\n      modRange: 1,\r\n      units: \"number\",\r\n      value: 0\r\n    });\r\n  }\r\n  dispose() {\r\n    super.dispose();\r\n    this._signal.disconnect();\r\n    this.output.disconnect();\r\n    this.modNode.disconnect();\r\n    this.modNode.dispose();\r\n    return this;\r\n  }\r\n}\r\nclass ModNodeExp extends ModNode {\r\n  constructor() {\r\n    super(optionsFromArguments(ModNodeExp.getDefaults(), arguments));\r\n    const options = optionsFromArguments(ModNodeExp.getDefaults(), arguments);\r\n\r\n    this._modMultNode = new Multiply({ value: options.modRange }).connect(this.output);\r\n    this.modNode = new WaveShaper(val => Math.pow(val, options.exp)).connect(this._modMultNode);\r\n  }\r\n  static getDefaults() {\r\n    return Object.assign(ModNode.getDefaults(), {\r\n      exp: 1\r\n    });\r\n  }\r\n  dispose() {\r\n    super.dispose();\r\n    this._modMultNode.disconnect();\r\n    this._modMultNode.dispose();\r\n    return this;\r\n  }\r\n}\r\n\r\nexport default class ModNodeFactory {\r\n  constructor(options) {\r\n    if (options.exp) {\r\n      return new ModNodeExp(options);\r\n    } else {\r\n      return new ModNode(options);\r\n    }\r\n  }\r\n}\r\n","import { optionsFromArguments, Gain, ToneAudioNode } from \"tone\";\r\n\r\nexport default class FX extends ToneAudioNode {\r\n  constructor() {\r\n    super(optionsFromArguments(FX.getDefaults(), arguments));\r\n    const options = optionsFromArguments(FX.getDefaults(), arguments);\r\n    this.effect = new options.effect({ ...options.options, context: this.context });\r\n    this._on = options.on;\r\n    this._lastOn = options.on;\r\n    this.input = new Gain();\r\n    this.output = new Gain();\r\n\r\n    this.effect.connect(this.output);\r\n    this.activate(options.on); // turn on/off effect\r\n  }\r\n\r\n  static getDefaults() {\r\n    return Object.assign(ToneAudioNode.getDefaults(), {\r\n      on: 0\r\n    });\r\n  }\r\n\r\n  get on() {\r\n    return this._on;\r\n  }\r\n\r\n  set on(val) {\r\n    if (this._lastOn === val) return;\r\n    this._on = this._lastOn = Boolean(val);\r\n    this.activate(this._on);\r\n  }\r\n\r\n  activate(doActivate) {\r\n    this.input.disconnect();\r\n    if (doActivate) {\r\n      this.input.connect(this.effect);\r\n      // some effects (ie chorus) need to start some properties (e.g. LFO) manually\r\n      if (typeof this.effect.start === \"function\") {\r\n        this.effect.start();\r\n      }\r\n    } else {\r\n      if (typeof this.effect.stop === \"function\") {\r\n        this.effect.stop();\r\n      }\r\n      this.input.connect(this.output);\r\n    }\r\n  }\r\n\r\n  toggleOn() {\r\n    this.on = !this._on;\r\n  }\r\n\r\n  dispose() {\r\n    super.dispose();\r\n    this.effect.disconnect();\r\n    this.effect.dispose();\r\n    return this;\r\n  }\r\n}\r\n","import { Distortion, optionsFromArguments } from \"tone\";\r\nimport { DISTORTION_ALGORITHMS } from \"@/Synth/synthutils\";\r\n\r\nexport default class DistortionModule extends Distortion {\r\n  constructor() {\r\n    super(optionsFromArguments(DistortionModule.getDefaults(), arguments));\r\n    const options = optionsFromArguments(DistortionModule.getDefaults(), arguments);\r\n    this._algorithmFn = null;\r\n    this._type = null;\r\n    this.type = options.type;\r\n  }\r\n\r\n  static getDefaults() {\r\n    return Object.assign(Distortion.getDefaults(), {\r\n      type: 0\r\n    });\r\n  }\r\n\r\n  static getAlgorithm(idx) {\r\n    return DISTORTION_ALGORITHMS[idx];\r\n  }\r\n\r\n  set type(value) {\r\n    if (value === this._type) return;\r\n    const fn = DistortionModule.getAlgorithm(value);\r\n    if (!fn) return;\r\n    this._type = value;\r\n    this._algorithmFn = fn;\r\n    this._setDistortionAlgorithm();\r\n  }\r\n\r\n  get type() {\r\n    return this._type;\r\n  }\r\n\r\n  _setDistortionAlgorithm() {\r\n    const fn = this._algorithmFn(this._distortion);\r\n    this._shaper.setMap(fn);\r\n  }\r\n\r\n  /**\r\n   * The amount of distortion. Nominal range is between 0 and 1.\r\n   */\r\n  get distortion() {\r\n    return this._distortion;\r\n  }\r\n\r\n  set distortion(amount) {\r\n    if (this.type == undefined) return;\r\n    this._distortion = amount;\r\n    this._setDistortionAlgorithm();\r\n  }\r\n}\r\n","import { Envelope } from \"tone\";\r\n\r\n/*\r\n////////////////////////////\r\n    eased decay curve\r\n////////////////////////////\r\n*/\r\n// 1. create linear values array [0,1] (increasing values)\r\nfunction linearCurve() {\r\n  //ToneJS standard value for envelope curve\r\n  const curveLen = 128;\r\n  const curve = new Array(curveLen);\r\n  for (var i = curveLen; i--;) {\r\n    curve[i] = i / (curveLen - 1);\r\n  }\r\n  return curve;\r\n}\r\n\r\n// 2. invert curve to get decreasing values [1,0]\r\nfunction invertCurve(curve) {\r\n  const out = new Array(curve.length);\r\n  for (let j = 0; j < curve.length; j++) {\r\n    out[j] = 1 - curve[j];\r\n  }\r\n  return out;\r\n}\r\n\r\n// 3. ease linear curve with exponent function [1,0]\r\nfunction exponentCurve(curve, exp) {\r\n  const pow = Math.pow;\r\n  return curve.map(i => pow(i, exp));\r\n}\r\n// 4. scale curve [1,0] to range [1, sustain] - `decay` curve decrease signal in time\r\nfunction easedCurve(curve, sustain) {\r\n  return curve.map(i => i * (1 - sustain) + sustain);\r\n}\r\n\r\n// 5. pre-compute values with fixed exponent to avoid expensive Math.pow() calculation every update\r\nconst decayCurve = exponentCurve(invertCurve(linearCurve()), 3);\r\n\r\nconst decayExpCurve = easedCurve.bind(null, decayCurve);\r\n\r\nexport default class EG extends Envelope {\r\n  triggerAttack(time, velocity = 1) {\r\n    time = this.toSeconds(time);\r\n    const originalAttack = this.toSeconds(this.attack);\r\n    let attack = originalAttack;\r\n    const decay = this.toSeconds(this.decay);\r\n    // check if it's not a complete attack\r\n    const currentValue = this.getValueAtTime(time);\r\n    if (currentValue > 0) {\r\n      // subtract the current value from the attack time\r\n      const attackRate = 1 / attack;\r\n      const remainingDistance = 1 - currentValue;\r\n      // the attack is now the remaining time\r\n      attack = remainingDistance / attackRate;\r\n    }\r\n    // attack\r\n    if (attack < this.sampleTime) {\r\n      this._sig.cancelScheduledValues(time);\r\n      // case where the attack time is 0 should set instantly\r\n      this._sig.setValueAtTime(velocity, time);\r\n    } else if (this._attackCurve === \"linear\") {\r\n      this._sig.linearRampTo(velocity, attack, time);\r\n    } else if (this._attackCurve === \"exponential\") {\r\n      this._sig.targetRampTo(velocity, attack, time);\r\n    } else {\r\n      this._sig.cancelAndHoldAtTime(time);\r\n      let curve = this._attackCurve;\r\n      // find the starting position in the curve\r\n      for (let i = 1; i < curve.length; i++) {\r\n        // the starting index is between the two values\r\n        if (curve[i - 1] <= currentValue && currentValue <= curve[i]) {\r\n          curve = this._attackCurve.slice(i);\r\n          // the first index is the current value\r\n          curve[0] = currentValue;\r\n          break;\r\n        }\r\n      }\r\n      this._sig.setValueCurveAtTime(curve, time, attack, velocity);\r\n    }\r\n    // decay\r\n    if (decay && this.sustain < 1) {\r\n      const decayValue = velocity * this.sustain;\r\n      const decayStart = time + attack;\r\n      if (this._decayCurve === \"linear\") {\r\n        this._sig.linearRampToValueAtTime(decayValue, decay + decayStart);\r\n      } else {\r\n        // use custom exponential curve\r\n        const decCurve = decayExpCurve(decayValue);\r\n        this._sig.setValueCurveAtTime(decCurve, decayStart, decay, velocity);\r\n\r\n        // handle sustain phase\r\n        this._sig.cancelAndHoldAtTime(decayStart + decay * 0.99); // create some room to connect decay stage with sustain without artifacts\r\n        this._sig.linearRampToValueAtTime(decayValue, decayStart + decay);\r\n      }\r\n    }\r\n    return this;\r\n  }\r\n}\r\n","import { Monophonic } from \"tone/build/esm/instrument/Monophonic\";\r\n\r\nimport {\r\n  PolySynth,\r\n  MidiClass,\r\n  optionsFromArguments,\r\n  Panner,\r\n  FrequencyClass,\r\n  Noise,\r\n  Gain\r\n} from \"tone\";\r\n\r\nimport { ModMatrix } from \"./ModMatrix\";\r\nimport { DESTINATIONS, SOURCES } from \"./synthutils\";\r\nimport { VCO, LFO, FILTER, MODULATION, ENVELOPE } from \"./nodes\";\r\nimport { Modulator } from \"@/Synth/ModMatrix\";\r\nimport * as CMD from \"@/Synth/commands\";\r\nimport { CONTROLLERS, CONTROL_TYPES } from \"@/Synth/synthutils\";\r\nimport { FILTERTypes, OSCWaves, LFOWaves } from \"@/Synth/globals\";\r\nexport class Voice extends Monophonic {\r\n  constructor() {\r\n    super(optionsFromArguments(Voice.getDefaults(), arguments));\r\n    const options = optionsFromArguments(Voice.getDefaults(), arguments);\r\n    this._isActive = false;\r\n    this._noteNumber = -1;\r\n\r\n    // oscillators\r\n    this.oscillator1 = new VCO(\r\n      Object.assign(\r\n        { context: this.context, onstop: () => this.onsilence(this) },\r\n        options.oscillator\r\n      )\r\n    );\r\n    this.oscillator2 = new VCO(options.oscillator);\r\n    this.noise = new Noise(options.noise);\r\n\r\n    this.oscillator1.volume.value = this.oscillator2.volume.value = this.noise.volume.value = 6;\r\n\r\n    // volume oscillator nodes\r\n    this.gain1 = new Gain();\r\n    this.gain2 = new Gain();\r\n    this.gain3 = new Gain();\r\n\r\n    this.gain123Node = new MODULATION({ units: \"number\", value: 0, modRange: 1 });\r\n    this.gain123Node.output.fan(this.gain1.gain, this.gain2.gain, this.gain3.gain);\r\n\r\n    this.pitch12Node = new MODULATION({ exp: 3, units: \"cents\", value: 0, modRange: 4800 });\r\n    this.pitch12Node.output.fan(this.oscillator1.detune, this.oscillator2.detune);\r\n\r\n    // oscillators mixer nodes -> pan/vol\r\n    this.pan1 = new Panner(options.panner);\r\n    this.pan2 = new Panner(options.panner);\r\n    this.pan3 = new Panner(options.panner);\r\n\r\n    this.AMP = new Gain(1);\r\n    this.AMP_EG = new ENVELOPE(Object.assign(options.EG, { context: this.context }));\r\n    this.EG_1 = new ENVELOPE(options.EG, { context: this.context });\r\n\r\n    // Filter\r\n    this.filter = new FILTER(Object.assign(options.filter));\r\n\r\n    // modulators //---per voice\r\n    this.LFO_1 = new LFO(options.LFO, { context: this.context });\r\n    this.LFO_2 = new LFO(options.LFO, { context: this.context });\r\n\r\n    // direct FilterEG -> filter cutoff modulation\r\n    this.filterEGNode = new Modulator({ type: \"normalrange\", value: options.filterEG });\r\n\r\n    // connect nodes\r\n    this.AMP_EG.connect(this.AMP.gain);\r\n    this.EG_1.chain(this.filterEGNode, this.filter.cutoffNode.modNode);\r\n\r\n    this.oscillator1.chain(this.gain1, this.pan1, this.filter);\r\n    this.oscillator2.chain(this.gain2, this.pan2, this.filter);\r\n    this.noise.chain(this.gain3, this.pan3, this.filter);\r\n    this.filter.chain(this.AMP, this.output);\r\n\r\n    // mod matrix\r\n    this.modMatrix = new ModMatrix();\r\n    this._prepareForPlay();\r\n\r\n    // start LFO immediately\r\n  }\r\n\r\n  static getDefaults() {\r\n    return Object.assign(Monophonic.getDefaults(), {\r\n      filter: {\r\n        frequency: 2000\r\n      },\r\n      EG: { attack: 0.001, decay: 0.1, sustain: 0, release: 0.5 },\r\n      filterEG: 0,\r\n      oscillator: {\r\n        type: \"sine\"\r\n      },\r\n      noise: {\r\n        type: \"white\"\r\n      },\r\n      LFO: {}\r\n    });\r\n  }\r\n\r\n  set filterEG(value) {\r\n    this.filterEGNode.amount = value;\r\n  }\r\n\r\n  get filterEG() {\r\n    return this.filterEGNode.amount;\r\n  }\r\n\r\n  get isActive() {\r\n    return this._isActive;\r\n  }\r\n\r\n  set isActive(value) {\r\n    this._isActive = Boolean(value);\r\n  }\r\n\r\n  _prepareForPlay() {\r\n    // destinations\r\n    this.modMatrix.destinations[DESTINATIONS.OSC_1_PITCH] = this.oscillator1.detuneNode.modNode;\r\n    this.modMatrix.destinations[DESTINATIONS.OSC_1_VOL] = this.gain1.gain;\r\n    this.modMatrix.destinations[DESTINATIONS.OSC_1_PAN] = this.pan1.pan;\r\n\r\n    this.modMatrix.destinations[DESTINATIONS.OSC_2_PITCH] = this.oscillator2.detuneNode.modNode;\r\n    this.modMatrix.destinations[DESTINATIONS.OSC_2_VOL] = this.gain2.gain;\r\n    this.modMatrix.destinations[DESTINATIONS.OSC_2_PAN] = this.pan2.pan;\r\n\r\n    this.modMatrix.destinations[DESTINATIONS.OSC_3_VOL] = this.gain3.gain;\r\n    this.modMatrix.destinations[DESTINATIONS.OSC_3_PAN] = this.pan3.pan;\r\n    this.modMatrix.destinations[DESTINATIONS.OSC_123_VOL] = this.gain123Node.modNode;\r\n    this.modMatrix.destinations[DESTINATIONS.OSC_12_PITCH] = this.pitch12Node.modNode;\r\n\r\n    this.modMatrix.destinations[DESTINATIONS.FILTER_CUT] = this.filter.cutoffNode.modNode;\r\n\r\n    // sources\r\n    this.modMatrix.sources[SOURCES.LFO_1_OUT] = this.LFO_1;\r\n    this.modMatrix.sources[SOURCES.LFO_2_OUT] = this.LFO_2;\r\n    this.modMatrix.sources[SOURCES.EG_1_OUT] = this.EG_1;\r\n    this.modMatrix.sources[SOURCES.AMP_EG_OUT] = this.AMP_EG;\r\n  }\r\n\r\n  setNote(note, time) {\r\n    const computedFrequency = note instanceof FrequencyClass ? note.toFrequency() : note;\r\n    if (this.portamento > 0 && this.getLevelAtTime(computedTime) > 0.05) {\r\n      const portTime = this.toSeconds(this.portamento);\r\n      this.oscillator1.frequency.exponentialRampTo(computedFrequency, portTime, time);\r\n      this.oscillator2.frequency.exponentialRampTo(computedFrequency, portTime, time);\r\n    } else {\r\n      this.oscillator1.frequency.setValueAtTime(note, time);\r\n      this.oscillator2.frequency.setValueAtTime(note, time);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  _triggerEnvelopeAttack(time, velocity = 1) {\r\n    this.AMP_EG.triggerAttack(time, velocity);\r\n    this.EG_1.triggerAttack(time, velocity);\r\n    this.oscillator1.start(time);\r\n    this.oscillator2.start(time);\r\n    this.noise.start(time);\r\n    this.LFO_1.restart();\r\n    this.LFO_2.restart();\r\n    this.isActive = true;\r\n\r\n    if (this.AMP_EG.sustain === 0) {\r\n      const computedAttack = this.toSeconds(this.AMP_EG.attack);\r\n      const computedDecay = this.toSeconds(this.AMP_EG.decay);\r\n      this.oscillator1.stop(time + computedAttack + computedDecay);\r\n      this.oscillator2.stop(time + computedAttack + computedDecay);\r\n      this.noise.stop(time + computedAttack + computedDecay);\r\n    }\r\n  }\r\n\r\n  _triggerEnvelopeRelease(time) {\r\n    this.AMP_EG.triggerRelease(time);\r\n    this.EG_1.triggerRelease(time);\r\n    this.oscillator1.stop(time + this.toSeconds(this.AMP_EG.release));\r\n    this.oscillator2.stop(time + this.toSeconds(this.AMP_EG.release));\r\n    this.noise.stop(time + this.toSeconds(this.AMP_EG.release));\r\n    this.LFO_1.restop(time + this.toSeconds(this.AMP_EG.release));\r\n    this.LFO_2.restop(time + this.toSeconds(this.AMP_EG.release));\r\n  }\r\n\r\n  _setFree() {\r\n    this.isActive = false;\r\n    return this;\r\n  }\r\n\r\n  reset() {\r\n    this._noteNumber = -1;\r\n    return this;\r\n  }\r\n\r\n  dispose() {\r\n    super.dispose();\r\n    this.modMatrix.dispose();\r\n    this.filterEGNode.dispose();\r\n    this.oscillator1.dispose();\r\n    this.oscillator2.dispose();\r\n    this.noise.dispose();\r\n    this.AMP_EG.dispose();\r\n    this.EG_1.dispose();\r\n    this.pan1.dispose();\r\n    this.pan2.dispose();\r\n    this.pan3.dispose();\r\n    this.gain1.dispose();\r\n    this.gain2.dispose();\r\n    this.gain3.dispose();\r\n    this.gain123Node.disconnect();\r\n    this.gain123Node.dispose();\r\n    this.pitch12Node.disconnect();\r\n    this.pitch12Node.dispose();\r\n    this.AMP.dispose();\r\n    this.filter.dispose();\r\n    this.LFO_1.dispose();\r\n    this.LFO_2.dispose();\r\n    return this;\r\n  }\r\n\r\n  setModMatrix(options) {\r\n    this.modMatrix.set(options);\r\n  }\r\n}\r\n\r\nexport class VoiceManager extends PolySynth {\r\n  constructor() {\r\n    super(optionsFromArguments(VoiceManager.getDefaults(), arguments));\r\n    this.globalModMatrix = new ModMatrix();\r\n    /* --------------------------- */\r\n    // this.initGlobalMatrix();\r\n    this.initVoices();\r\n  }\r\n\r\n  static getDefaults() {\r\n    return Object.assign(PolySynth.getDefaults(), {\r\n      options: {},\r\n      maxPolyphony: 8,\r\n      voice: Voice\r\n    });\r\n  }\r\n\r\n  // initGlobalMatrix() {\r\n  // this.globalModMatrix.sources[SOURCES.LFO_1_OUT] = this.LFO1;\r\n  // this.globalModMatrix.destinations[DESTINATIONS.LFO_1_OUT] = this.LFO1.frequency;\r\n  // }\r\n\r\n  initVoices() {\r\n    // create poly voices\r\n    for (let i = 0; i < this.maxPolyphony; i++) {\r\n      const voice = new this.voice(\r\n        Object.assign(this.options, {\r\n          context: this.context,\r\n          onsilence: this._makeVoiceAvailable.bind(this)\r\n        })\r\n      );\r\n      // set modulation matrix per voice\r\n\r\n      if (i === 0) {\r\n        // global params (MUST BE DONE before setting up mod matrix!)\r\n        voice.modMatrix.initializeModMatrix(this.globalModMatrix, this);\r\n      }\r\n      // all matrices share a common core array of matrix rows\r\n      voice.modMatrix.setMatrixCore(this.globalModMatrix.getMatrixCore());\r\n      voice.modMatrix.initializeModulators();\r\n      // global parameters\r\n\r\n      voice.connect(this.output);\r\n      this._voices.push(voice);\r\n    }\r\n  }\r\n\r\n  _getNextAvailableVoice() {\r\n    // skip expensive initialization of PolySynth `dummyVoice` property\r\n    return new Gain(0);\r\n  }\r\n\r\n  /**\r\n   * simplified version of PolySynth.set() \\\r\n   * options are not sanitized, but just injected to every voice\r\n   * @param {Object} options\r\n   */\r\n  setVoiceValue(options) {\r\n    this._voices.forEach(voice => voice.set(options));\r\n  }\r\n\r\n  dispose() {\r\n    super.dispose();\r\n\r\n    this.globalModMatrix.dispose();\r\n    return this;\r\n  }\r\n\r\n  _findFreeVoice() {\r\n    let freeVoice = null;\r\n    for (let i = 0; i < this.maxPolyphony; i++) {\r\n      if (!this._voices[i].isActive) {\r\n        freeVoice = this._voices[i];\r\n        break;\r\n      }\r\n    }\r\n    return freeVoice;\r\n  }\r\n\r\n  _triggerAttack(notes, time, velocity) {\r\n    notes.forEach(note => {\r\n      const voice = this._findFreeVoice();\r\n      if (!voice) return;\r\n\r\n      const midiNote = new MidiClass(this.context, note).toMidi();\r\n      if (voice) {\r\n        voice.triggerAttack(note, time, velocity);\r\n        voice._noteNumber = midiNote;\r\n      }\r\n    });\r\n  }\r\n\r\n  _triggerRelease(notes, time) {\r\n    notes.forEach(note => {\r\n      const midiNote = new MidiClass(this.context, note).toMidi();\r\n      for (let i = 0; i < this.maxPolyphony; i++) {\r\n        let voice = this._voices[i];\r\n        if (voice.isActive && voice._noteNumber === midiNote) {\r\n          // trigger release on that note\r\n          voice.triggerRelease(time);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  _makeVoiceAvailable(voice) {\r\n    voice.isActive = false;\r\n  }\r\n\r\n  /**\r\n   * simplified version of PolySynth.set() \\\r\n   * options are not sanitized, but just injected to every voice\r\n   * @param {Object} options\r\n   */\r\n  setVoiceModMatrix(options) {\r\n    this._voices.forEach(voice => voice.setModMatrix(options));\r\n  }\r\n\r\n  async *getControls() {\r\n    const controls = VoiceControls();\r\n    var i;\r\n    for (i = controls.length; i--;) {\r\n      yield controls[i];\r\n    }\r\n  }\r\n}\r\n\r\nfunction VoiceControls() {\r\n  const controls = [];\r\n  let control;\r\n  // ------------- osc --------------\r\n  for (let i = 1; i <= 2; i++) {\r\n    control = {\r\n      options: {\r\n        type: CONTROL_TYPES.DISPLAYPICKER,\r\n        id: CONTROLLERS[`OSC_${i}_VOICE`],\r\n        min: 0,\r\n        max: 4,\r\n        step: 1,\r\n        snap: true,\r\n        label: \"voices\",\r\n        value: 1,\r\n        default: 1,\r\n        digits: 0\r\n      },\r\n      command: {\r\n        type: CMD.OscillatorCommand,\r\n        args: [i, \"count\"]\r\n      }\r\n    };\r\n    controls.push(control);\r\n    control = {\r\n      options: {\r\n        type: CONTROL_TYPES.KNOB,\r\n        id: CONTROLLERS[`OSC_${i}_SPRD`],\r\n        min: 0,\r\n        max: 100,\r\n        step: 1,\r\n        label: \"detune\",\r\n        value: 0,\r\n        digits: 0\r\n      },\r\n      command: {\r\n        type: CMD.OscillatorCommand,\r\n        args: [i, \"spread\"]\r\n      }\r\n    };\r\n    controls.push(control);\r\n    control = {\r\n      options: {\r\n        type: CONTROL_TYPES.DISPLAYPICKER,\r\n        id: CONTROLLERS[`OSC_${i}_OCT`],\r\n        min: -3,\r\n        max: 3,\r\n        step: 1,\r\n        bipolar: true,\r\n        snap: true,\r\n        label: \"octave\",\r\n        value: 0,\r\n        digits: 0\r\n      },\r\n      command: {\r\n        type: CMD.OscillatorCommand,\r\n        args: [i, \"octave\"]\r\n      }\r\n    };\r\n    controls.push(control);\r\n    control = {\r\n      options: {\r\n        type: CONTROL_TYPES.DISPLAYPICKER,\r\n        id: CONTROLLERS[`OSC_${i}_SEMI`],\r\n        min: -12,\r\n        max: 12,\r\n        bipolar: true,\r\n        step: 1,\r\n        snap: true,\r\n        label: \"semi\",\r\n        digits: 0\r\n      },\r\n      command: {\r\n        type: CMD.OscillatorCommand,\r\n        args: [i, \"semi\"]\r\n      }\r\n    };\r\n    controls.push(control);\r\n    control = {\r\n      options: {\r\n        type: CONTROL_TYPES.KNOB,\r\n        id: CONTROLLERS[`OSC_${i}_FINE`],\r\n        min: -100,\r\n        max: 100,\r\n        bipolar: true,\r\n        step: 1,\r\n        snap: true,\r\n        label: \"fine\",\r\n        digits: 0\r\n      },\r\n      command: {\r\n        type: CMD.OscillatorCommand,\r\n        args: [i, \"fine\"]\r\n      }\r\n    };\r\n    controls.push(control);\r\n    //-------------------\r\n    control = {\r\n      options: {\r\n        type: CONTROL_TYPES.KNOB,\r\n        id: CONTROLLERS[`OSC_${i}_PHASE`],\r\n        min: 0,\r\n        max: 360,\r\n        step: 1,\r\n        label: \"phase\",\r\n        digits: 0\r\n      },\r\n      command: {\r\n        type: CMD.OscillatorCommand,\r\n        args: [i, \"phase\"]\r\n      }\r\n    };\r\n    controls.push(control);\r\n    //-------------------\r\n    control = {\r\n      options: {\r\n        type: CONTROL_TYPES.WAVEPICKER,\r\n        id: CONTROLLERS[`OSC_${i}_TP`],\r\n        step: 1,\r\n        min: 0,\r\n        snap: true,\r\n        max: OSCWaves.length - 1,\r\n        label: \"wave\",\r\n        digits: 0\r\n      },\r\n      command: {\r\n        type: CMD.OscTypeCommand,\r\n        args: [i]\r\n      }\r\n    };\r\n    controls.push(control);\r\n    //-------------------\r\n    control = {\r\n      options: {\r\n        type: CONTROL_TYPES.TOGGLE,\r\n        id: CONTROLLERS[`OSC_${i}_RETR`],\r\n        label: \"retrig\",\r\n        digits: 0\r\n      },\r\n      command: {\r\n        type: CMD.OscillatorCommand,\r\n        args: [i, \"retrigger\"]\r\n      }\r\n    };\r\n    controls.push(control);\r\n  }\r\n  // ------------ /osc --------------\r\n  // ------------ mixer -------------\r\n  for (let i = 1; i <= 3; i++) {\r\n    //-------------------\r\n    control = {\r\n      options: {\r\n        type: CONTROL_TYPES.FADER,\r\n        id: CONTROLLERS[`OSC_${i}_VOL`],\r\n        label: i == 3 ? \"noise\" : \"osc\" + i,\r\n        min: 0,\r\n        max: 1\r\n      },\r\n      command: {\r\n        type: CMD.VolumeCommand,\r\n        args: [i]\r\n      }\r\n    };\r\n    controls.push(control);\r\n    //-------------------\r\n    control = {\r\n      options: {\r\n        type: CONTROL_TYPES.KNOB,\r\n        id: CONTROLLERS[`OSC_${i}_PAN`],\r\n        bipolar: true,\r\n        min: -1,\r\n        max: 1,\r\n        width: \"2.3em\"\r\n      },\r\n      command: {\r\n        type: CMD.PanCommand,\r\n        args: [i]\r\n      }\r\n    };\r\n    controls.push(control);\r\n  }\r\n  // ------------ /mixer ------------\r\n  // ------------ filter ------------\r\n  //----------------------\r\n  control = {\r\n    options: {\r\n      type: CONTROL_TYPES.KNOB,\r\n      id: CONTROLLERS.FILTER_CUT,\r\n      min: 20,\r\n      max: 20000,\r\n      label: \"cutoff\",\r\n      default: 10000,\r\n      exp: 3,\r\n      units: \"Hz\"\r\n    },\r\n    command: {\r\n      type: CMD.FilterCommand,\r\n      args: [\"cutoff\"]\r\n    }\r\n  };\r\n  controls.push(control);\r\n  //----------------------\r\n  control = {\r\n    options: {\r\n      type: CONTROL_TYPES.KNOB,\r\n      id: CONTROLLERS.FILTER_Q,\r\n      min: 0,\r\n      max: 10,\r\n      label: \"reso\"\r\n    },\r\n    command: {\r\n      type: CMD.FilterCommand,\r\n      args: [\"Q\"]\r\n    }\r\n  };\r\n  controls.push(control);\r\n  //----------------------\r\n  control = {\r\n    options: {\r\n      type: CONTROL_TYPES.DISPLAYPICKER,\r\n      id: CONTROLLERS.FILTER_TP,\r\n      step: 1,\r\n      snap: true,\r\n      size: 4,\r\n      max: FILTERTypes.length - 1,\r\n      items: [\"LP12\", \"LP24\", \"BP12\", \"BP24\", \"HP12\", \"HP24\", \"NONE\"],\r\n      label: \"type\",\r\n      digits: 0\r\n    },\r\n    command: {\r\n      type: CMD.FilterTypeCommand,\r\n      args: []\r\n    }\r\n  };\r\n  controls.push(control);\r\n  //----------------------\r\n  control = {\r\n    options: {\r\n      type: CONTROL_TYPES.KNOB,\r\n      id: CONTROLLERS.FILTER_EG,\r\n      min: 0,\r\n      max: 1,\r\n      label: \"env\"\r\n    },\r\n    command: {\r\n      type: CMD.VoiceCommand,\r\n      args: [\"filterEG\"]\r\n    }\r\n  };\r\n  controls.push(control);\r\n  // ------------ /filter ------------\r\n  // ------------ AMP EG -------------\r\n  //----------------------\r\n  control = {\r\n    options: {\r\n      type: CONTROL_TYPES.KNOB,\r\n      id: CONTROLLERS.AMP_EG_ATT,\r\n      min: 0.001,\r\n      max: 10,\r\n      default: 0.005,\r\n      label: \"attack\",\r\n      exp: 3,\r\n      units: \"sec\",\r\n      digits: 3\r\n    },\r\n    command: {\r\n      type: CMD.AMPEnvCommand,\r\n      args: [\"attack\"]\r\n    }\r\n  };\r\n  controls.push(control);\r\n  //----------------------\r\n  control = {\r\n    options: {\r\n      type: CONTROL_TYPES.KNOB,\r\n      id: CONTROLLERS.AMP_EG_DEC,\r\n      min: 0.001,\r\n      max: 10,\r\n      default: 0.1,\r\n      label: \"decay\",\r\n      exp: 3,\r\n      units: \"sec\",\r\n      digits: 3\r\n    },\r\n    command: {\r\n      type: CMD.AMPEnvCommand,\r\n      args: [\"decay\"]\r\n    }\r\n  };\r\n  controls.push(control);\r\n  //----------------------\r\n  control = {\r\n    options: {\r\n      type: CONTROL_TYPES.KNOB,\r\n      id: CONTROLLERS.AMP_EG_SUS,\r\n      min: 0,\r\n      max: 1,\r\n      default: 1,\r\n      label: \"sustain\"\r\n    },\r\n    command: {\r\n      type: CMD.AMPEnvCommand,\r\n      args: [\"sustain\"]\r\n    }\r\n  };\r\n  controls.push(control);\r\n  //----------------------\r\n  control = {\r\n    options: {\r\n      type: CONTROL_TYPES.KNOB,\r\n      id: CONTROLLERS.AMP_EG_REL,\r\n      min: 0.001,\r\n      max: 10,\r\n      default: 0.05,\r\n      label: \"release\",\r\n      exp: 3,\r\n      units: \"sec\",\r\n      digits: 3\r\n    },\r\n    command: {\r\n      type: CMD.AMPEnvCommand,\r\n      args: [\"release\"]\r\n    }\r\n  };\r\n  controls.push(control);\r\n  // ------------ /AMP EG ------------\r\n  // ------------ FILTER EG ----------\r\n  control = {\r\n    options: {\r\n      type: CONTROL_TYPES.KNOB,\r\n      id: CONTROLLERS.EG_1_ATT,\r\n      min: 0.001,\r\n      max: 10,\r\n      default: 0.005,\r\n      label: \"attack\",\r\n      exp: 3,\r\n      units: \"sec\",\r\n      digits: 3\r\n    },\r\n    command: {\r\n      type: CMD.FilterEnvCommand,\r\n      args: [\"attack\"]\r\n    }\r\n  };\r\n  controls.push(control);\r\n  //----------------------\r\n  control = {\r\n    options: {\r\n      type: CONTROL_TYPES.KNOB,\r\n      id: CONTROLLERS.EG_1_DEC,\r\n      min: 0.001,\r\n      max: 10,\r\n      default: 0.1,\r\n      label: \"decay\",\r\n      exp: 3,\r\n      units: \"sec\",\r\n      digits: 3\r\n    },\r\n    command: {\r\n      type: CMD.FilterEnvCommand,\r\n      args: [\"decay\"]\r\n    }\r\n  };\r\n  controls.push(control);\r\n  //----------------------\r\n  control = {\r\n    options: {\r\n      type: CONTROL_TYPES.KNOB,\r\n      id: CONTROLLERS.EG_1_SUS,\r\n      min: 0,\r\n      max: 1,\r\n      default: 1,\r\n      label: \"sustain\"\r\n    },\r\n    command: {\r\n      type: CMD.FilterEnvCommand,\r\n      args: [\"sustain\"]\r\n    }\r\n  };\r\n  controls.push(control);\r\n  //----------------------\r\n  control = {\r\n    options: {\r\n      type: CONTROL_TYPES.KNOB,\r\n      id: CONTROLLERS.EG_1_REL,\r\n      min: 0.001,\r\n      max: 10,\r\n      default: 0.05,\r\n      label: \"release\",\r\n      exp: 3,\r\n      units: \"sec\",\r\n      digits: 3\r\n    },\r\n    command: {\r\n      type: CMD.FilterEnvCommand,\r\n      args: [\"release\"]\r\n    }\r\n  };\r\n  controls.push(control);\r\n  // ----------- /FILTER EG ----------\r\n  // ------------ LFOs --------------\r\n  for (let i = 0; i < 2; i++) {\r\n    control = {\r\n      options: {\r\n        type: CONTROL_TYPES.WAVEPICKER,\r\n        id: CONTROLLERS[`LFO_${i + 1}_TP`],\r\n        step: 1,\r\n        min: 0,\r\n        snap: true,\r\n        max: LFOWaves.length - 1,\r\n        label: \"wave\",\r\n        digits: 0\r\n      },\r\n      command: {\r\n        type: CMD.LFOTypeCommand,\r\n        args: [i]\r\n      }\r\n    };\r\n    controls.push(control);\r\n    //----------------------\r\n    control = {\r\n      options: {\r\n        type: CONTROL_TYPES.KNOB,\r\n        id: CONTROLLERS[`LFO_${i + 1}_FC`],\r\n        min: 0.2,\r\n        max: 10,\r\n        default: 5.1,\r\n        label: \"freq\",\r\n        units: \"Hz\"\r\n      },\r\n      command: {\r\n        type: CMD.LFOCommand,\r\n        args: [i, \"frequency\"]\r\n      }\r\n    };\r\n    controls.push(control);\r\n    //----------------------\r\n    control = {\r\n      options: {\r\n        type: CONTROL_TYPES.KNOB,\r\n        id: CONTROLLERS[`LFO_${i + 1}_GAIN`],\r\n        min: 0,\r\n        max: 1,\r\n        default: 1,\r\n        label: \"gain\"\r\n      },\r\n      command: {\r\n        type: CMD.LFOCommand,\r\n        args: [i, \"amplitude\"]\r\n      }\r\n    };\r\n    controls.push(control);\r\n    //----------------------\r\n    control = {\r\n      options: {\r\n        type: CONTROL_TYPES.KNOB,\r\n        id: CONTROLLERS[`LFO_${i + 1}_PHASE`],\r\n        min: 0,\r\n        max: 360,\r\n        step: 1,\r\n        label: \"phase\",\r\n        digits: 0\r\n      },\r\n      command: {\r\n        type: CMD.LFOCommand,\r\n        args: [i, \"phase\"]\r\n      }\r\n    };\r\n    controls.push(control);\r\n    //----------------------\r\n    control = {\r\n      options: {\r\n        type: CONTROL_TYPES.TOGGLE,\r\n        id: CONTROLLERS[`LFO_${i + 1}_RETR`],\r\n        label: \"retrig\",\r\n        digits: 0\r\n      },\r\n      command: {\r\n        type: CMD.LFOCommand,\r\n        args: [i, \"retrigger\"]\r\n      }\r\n    };\r\n    controls.push(control);\r\n  }\r\n  // ------------ /LFOs -------------\r\n  // ------------ Matrix -------------\r\n  for (let i = 0; i < 5; i++) {\r\n    control = {\r\n      options: {\r\n        id: CONTROLLERS[`M_ROW_${i + 1}`],\r\n        value: [0, 0, 0]\r\n      },\r\n      command: {\r\n        type: CMD.ModMatrixCommand,\r\n        args: [i]\r\n      }\r\n    };\r\n    controls.push(control);\r\n  }\r\n  // ------------ /Matrix -------------\r\n  return controls;\r\n}\r\n","import {\r\n  optionsFromArguments,\r\n  Gain,\r\n  ToneAudioNode,\r\n  Chorus,\r\n  Reverb,\r\n  FeedbackDelay,\r\n  Limiter\r\n} from \"tone\";\r\n\r\nimport { FX, DISTORTION } from \"@/Synth/nodes\";\r\nimport { CONTROLLERS, CONTROL_TYPES, DISTORTION_ALGORITHMS } from \"@/Synth/synthutils\";\r\nimport { FXCommand, FXBypassCommand } from \"@/Synth/commands\";\r\n\r\nexport class EffectModule extends ToneAudioNode {\r\n  constructor() {\r\n    super(optionsFromArguments(EffectModule.getDefaults(), arguments));\r\n    const options = optionsFromArguments(EffectModule.getDefaults(), arguments);\r\n    this.effects = new Array();\r\n    let i, e;\r\n    for (i = 0; i < options.effects.length; i++) {\r\n      e = options.effects[i];\r\n\r\n      this.effects.push(new FX({ effect: e.effect, options: e.options }));\r\n      // if (e.effect instanceof ToneAudioNode) {} // TODO check valid effect constructor\r\n    }\r\n    this.input = new Gain(1);\r\n    this.output = new Gain(1);\r\n    this.input.chain(...this.effects, this.output);\r\n  }\r\n\r\n  static getDefaults() {\r\n    return Object.assign(ToneAudioNode.getDefaults(), {\r\n      effects: [\r\n        { effect: DISTORTION, options: {} },\r\n        { effect: Chorus, options: {} },\r\n        { effect: FeedbackDelay, options: {} },\r\n        { effect: Reverb, options: {} },\r\n        { effect: Limiter, options: {} }\r\n      ]\r\n    });\r\n  }\r\n\r\n  setFX(id, options) {\r\n    const fx = this.effects[id];\r\n    if (!fx) return;\r\n    fx.set(options);\r\n  }\r\n\r\n  dispose() {\r\n    super.dispose();\r\n    this.effects.forEach(i => {\r\n      i.disconnect();\r\n      i.dispose();\r\n    });\r\n    return this;\r\n  }\r\n\r\n  async *getControls() {\r\n    const controls = EffectControls();\r\n    var i;\r\n    for (i = controls.length; i--;) {\r\n      yield controls[i];\r\n    }\r\n  }\r\n}\r\n\r\nconst names = [\r\n  \"sine\",\r\n  \"gloubiboulga\",\r\n  \"foldback\",\r\n  \"softClip\",\r\n  \"saturator\",\r\n  \"crusher\",\r\n  \"tarrabia\",\r\n  \"fuzz\"\r\n];\r\n\r\nfunction EffectControls() {\r\n  const controls = [];\r\n  let control;\r\n  // ------------- distortion --------------\r\n  // type ------------------\r\n  control = {\r\n    options: {\r\n      type: CONTROL_TYPES.SELECT,\r\n      id: CONTROLLERS.FX1_1,\r\n      step: 1,\r\n      snap: true,\r\n      max: names.length - 1,\r\n      items: names,\r\n      label: \"type\",\r\n      digits: 0\r\n    },\r\n    command: {\r\n      type: FXCommand,\r\n      args: [0, \"type\"]\r\n    }\r\n  };\r\n  controls.push(control);\r\n  // amt ------------------\r\n  control = {\r\n    options: {\r\n      type: CONTROL_TYPES.KNOB,\r\n      id: CONTROLLERS.FX1_2,\r\n      min: 0,\r\n      max: 1,\r\n      label: \"amt\"\r\n    },\r\n    command: {\r\n      type: FXCommand,\r\n      args: [0, \"distortion\"]\r\n    }\r\n  };\r\n  controls.push(control);\r\n\r\n  // ------------- /distortion --------------\r\n  // ------------- chorus --------------\r\n  // delayTime  ------------------\r\n  control = {\r\n    options: {\r\n      type: CONTROL_TYPES.KNOB,\r\n      id: CONTROLLERS.FX2_1,\r\n      min: 2,\r\n      max: 20,\r\n      default: 10,\r\n      label: \"delay\",\r\n      units: \"ms\"\r\n    },\r\n    command: {\r\n      type: FXCommand,\r\n      args: [1, \"delayTime\"]\r\n    }\r\n  };\r\n  controls.push(control);\r\n  // depth   ------------------\r\n  control = {\r\n    options: {\r\n      type: CONTROL_TYPES.KNOB,\r\n      id: CONTROLLERS.FX2_2,\r\n      min: 0,\r\n      max: 1,\r\n      label: \"depth\"\r\n    },\r\n    command: {\r\n      type: FXCommand,\r\n      args: [1, \"depth\"]\r\n    }\r\n  };\r\n  controls.push(control);\r\n  // feedback ------------------\r\n  control = {\r\n    options: {\r\n      type: CONTROL_TYPES.KNOB,\r\n      id: CONTROLLERS.FX2_3,\r\n      min: 0,\r\n      max: 1,\r\n      label: \"feedback\"\r\n    },\r\n    command: {\r\n      type: FXCommand,\r\n      args: [1, \"feedback\"]\r\n    }\r\n  };\r\n  controls.push(control);\r\n  // frequency ------------------\r\n  control = {\r\n    options: {\r\n      type: CONTROL_TYPES.KNOB,\r\n      id: CONTROLLERS.FX2_4,\r\n      min: 0.1,\r\n      max: 10,\r\n      default: 1,\r\n      label: \"freq\",\r\n      units: \"Hz\"\r\n    },\r\n    command: {\r\n      type: FXCommand,\r\n      args: [1, \"frequency\"]\r\n    }\r\n  };\r\n  controls.push(control);\r\n  // frequency ------------------\r\n  control = {\r\n    options: {\r\n      type: CONTROL_TYPES.KNOB,\r\n      id: CONTROLLERS.FX2_5,\r\n      min: 0,\r\n      max: 180,\r\n      default: 0,\r\n      label: \"spread\"\r\n    },\r\n    command: {\r\n      type: FXCommand,\r\n      args: [1, \"spread\"]\r\n    }\r\n  };\r\n  controls.push(control);\r\n  // ------------- /chorus --------------\r\n  // -------------- delay ---------------\r\n  // delayTime  ------------------\r\n  control = {\r\n    options: {\r\n      type: CONTROL_TYPES.KNOB,\r\n      id: CONTROLLERS.FX3_1,\r\n      min: 0.05,\r\n      max: 1,\r\n      default: 0.5,\r\n      label: \"delay\",\r\n      units: \"sec\"\r\n    },\r\n    command: {\r\n      type: FXCommand,\r\n      args: [2, \"delayTime\"]\r\n    }\r\n  };\r\n  controls.push(control);\r\n  // feedback ------------------\r\n  control = {\r\n    options: {\r\n      type: CONTROL_TYPES.KNOB,\r\n      id: CONTROLLERS.FX3_2,\r\n      min: 0,\r\n      max: 1,\r\n      default: 0.5,\r\n      label: \"feedback\"\r\n    },\r\n    command: {\r\n      type: FXCommand,\r\n      args: [2, \"feedback\"]\r\n    }\r\n  };\r\n  controls.push(control);\r\n  // -------------- /delay --------------\r\n  // ------------- reverb ---------------\r\n  // decay/size ---------------\r\n  control = {\r\n    options: {\r\n      type: CONTROL_TYPES.KNOB,\r\n      id: CONTROLLERS.FX4_1,\r\n      min: 0.1,\r\n      max: 5,\r\n      default: 0.5,\r\n      label: \"size\",\r\n      units: \"sec\"\r\n    },\r\n    command: {\r\n      type: FXCommand,\r\n      args: [2, \"decay\"]\r\n    }\r\n  };\r\n  controls.push(control);\r\n  // preDelay ---------------\r\n  control = {\r\n    options: {\r\n      type: CONTROL_TYPES.KNOB,\r\n      id: CONTROLLERS.FX4_2,\r\n      min: 0.001,\r\n      max: 0.3,\r\n      default: 0.015,\r\n      label: \"predelay\",\r\n      units: \"sec\",\r\n      exp: 3,\r\n      digits: 3\r\n    },\r\n    command: {\r\n      type: FXCommand,\r\n      args: [2, \"preDelay\"]\r\n    }\r\n  };\r\n  controls.push(control);\r\n  // ------------- /reverb --------------\r\n  // ------------- limiter --------------\r\n  // threshold -------------\r\n  control = {\r\n    options: {\r\n      type: CONTROL_TYPES.KNOB,\r\n      id: CONTROLLERS.FX5_1,\r\n      min: -96,\r\n      max: 0,\r\n      default: 0,\r\n      label: \"threshold\",\r\n      units: \"dB\",\r\n      exp: 0.1\r\n    },\r\n    command: {\r\n      type: FXCommand,\r\n      args: [4, \"threshold\"]\r\n    }\r\n  };\r\n  controls.push(control);\r\n  // on/off -------------\r\n  control = {\r\n    options: {\r\n      type: CONTROL_TYPES.TOGGLE,\r\n      id: CONTROLLERS.FX5_ON,\r\n      label: \"ON/OFF\",\r\n      digits: 0\r\n    },\r\n    command: {\r\n      type: FXBypassCommand,\r\n      args: [4]\r\n    }\r\n  };\r\n  controls.push(control);\r\n  // ------------- /limiter --------------\r\n\r\n  // for each -------------\r\n  for (let i = 0; i < 4; i++) {\r\n    // on/off -------------\r\n    control = {\r\n      options: {\r\n        type: CONTROL_TYPES.TOGGLE,\r\n        id: CONTROLLERS[`FX${i + 1}_ON`],\r\n        label: \"ON/OFF\"\r\n      },\r\n      command: {\r\n        type: FXBypassCommand,\r\n        args: [i]\r\n      }\r\n    };\r\n    controls.push(control);\r\n    // wet ------------------\r\n    control = {\r\n      options: {\r\n        type: CONTROL_TYPES.KNOB,\r\n        id: CONTROLLERS[`FX${i + 1}_WET`],\r\n        min: 0,\r\n        max: 1,\r\n        label: \"wet\",\r\n        default: 1\r\n      },\r\n      command: {\r\n        type: FXCommand,\r\n        args: [i, \"wet\"]\r\n      }\r\n    };\r\n    controls.push(control);\r\n  }\r\n  return controls;\r\n}\r\n","import { Command } from \"@/Synth/commands\";\r\n\r\nexport class Control {\r\n  constructor(options = {}) {\r\n    Object.defineProperties(this, {\r\n      _id: { writable: true, enumerable: false }, // enumerable:false = do not return in destructured object\r\n      id: {\r\n        get: function () {\r\n          return this._id;\r\n        },\r\n        set: function (val) {\r\n          if (this._id !== undefined) {\r\n            throw new Error(\"Can not change id!\");\r\n          }\r\n          // check undefined/null || empty string, allow 0 as id\r\n          if (val == undefined || val === \"\") {\r\n            throw new Error(\"Invalid id value!\");\r\n          }\r\n          this._id = val;\r\n        },\r\n        enumerable: true\r\n      },\r\n      _command: { writable: true, enumerable: false, configurable: false } // configurable:false = non-reactive\r\n    });\r\n    this.type = undefined;\r\n    this._value = options.value || 0; // must be here to remain reactive getter/setter\r\n    Object.assign(this, options, this.constructor.getDefaults());\r\n    if (this.id === undefined) throw new Error(\"Missing `id` parameter for\", this.label);\r\n  }\r\n\r\n  get value() {\r\n    return this._value;\r\n  }\r\n\r\n  set value(newValue) {\r\n    this._value = newValue;\r\n    this._command && this._command.execute(newValue);\r\n  }\r\n\r\n  setCommand(command) {\r\n    if (command instanceof Command) {\r\n      this._command = command;\r\n    }\r\n  }\r\n\r\n  static getDefaults() {\r\n    return {};\r\n  }\r\n}\r\n\r\nexport class ControlManager {\r\n  constructor() {\r\n    this._controls = new Map();\r\n  }\r\n\r\n  addControl(control) {\r\n    this._controls.set(control.id, control);\r\n  }\r\n\r\n  async createControls(context) {\r\n    const controls = context.getControls();\r\n    if (!controls) return;\r\n    let c, cmd, ctrl;\r\n\r\n    for await (c of controls) {\r\n      ctrl = new Control(c.options);\r\n      cmd = new c.command.type(context, ...c.command.args);\r\n      ctrl.setCommand(cmd);\r\n      this.addControl(ctrl);\r\n    }\r\n    return true;\r\n  }\r\n\r\n  _hasControls() {\r\n    return Object.values(this._controls).length === this._controls.length;\r\n  }\r\n\r\n  getPreset() {\r\n    const res = {};\r\n    this._controls.forEach((v, k) => {\r\n      res[k] = v.value;\r\n    });\r\n    return res;\r\n  }\r\n\r\n  usePreset(preset) {\r\n    const values = preset.values;\r\n    this._controls.forEach((v, k) => {\r\n      if (values[k] == undefined) return;\r\n      v.value = values[k];\r\n    });\r\n  }\r\n\r\n  getControl(key) {\r\n    return this._controls.get(key);\r\n  }\r\n\r\n  dispose() {\r\n    this._controls.clear();\r\n    return this;\r\n  }\r\n}\r\n","export class PresetManager {\r\n  constructor(context, presets = []) {\r\n    this._presets = [];\r\n    this._current = 0;\r\n    this.context = context;\r\n    this._addPresets(presets);\r\n  }\r\n\r\n  get currentPreset() {\r\n    return this._presets[this.current];\r\n  }\r\n\r\n  changePreset(id) {\r\n    if (id === this.current) return;\r\n    const preset = this._presets[id];\r\n    if (!preset) return;\r\n    this.current = id;\r\n  }\r\n\r\n  get length() {\r\n    return this._presets.length;\r\n  }\r\n\r\n  get current() {\r\n    return this._current;\r\n  }\r\n\r\n  set current(value) {\r\n    if (this._presets[value]) {\r\n      this._current = value;\r\n      this.context.setPreset(this.currentPreset);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * iterate to next preset forward\r\n   * @param {any} back\r\n   */\r\n  nextPreset() {\r\n    this.current = (this.current + 1) % this.length;\r\n  }\r\n\r\n  prevPreset() {\r\n    this.current = (this.current + this.length - 1) % this.length;\r\n  }\r\n\r\n  /**\r\n   * Reset current preset to initial state\r\n   */\r\n  resetPreset() {\r\n    this.current = this.current;\r\n  }\r\n\r\n  _addPresets(presets) {\r\n    if (Array.isArray(presets)) {\r\n      for (let i = 0; i < presets.length; i++) {\r\n        this.addPreset(presets[i]);\r\n      }\r\n    }\r\n    this.addPreset(initPreset);\r\n  }\r\n\r\n  addPreset({ name, values }) {\r\n    if (\r\n      !name ||\r\n      !typeof name === \"string\" ||\r\n      (!values instanceof Object && values.constructor === Object)\r\n    )\r\n      return;\r\n    // initialize with basic EG / master gain / filter values\r\n    values = Object.assign({}, initPreset.values, values);\r\n    const newPreset = { name, values, id: this.length };\r\n    this._presets.push(newPreset);\r\n  }\r\n}\r\n\r\n/* /////////////////////////\r\n          PRESETS\r\n///////////////////////// */\r\n\r\nconst emptyPreset = {\r\n  name: \"empty\",\r\n  values: {\r\n    MASTER_GAIN: 0.5,\r\n    AMP_EG_ATT: 0,\r\n    AMP_EG_DEC: 0,\r\n    AMP_EG_REL: 0,\r\n    AMP_EG_SUS: 0,\r\n    EG_1_ATT: 0,\r\n    EG_1_DEC: 0,\r\n    EG_1_REL: 0,\r\n    EG_1_SUS: 0,\r\n    FILTER_CUT: 0,\r\n    FILTER_EG: 0,\r\n    FILTER_Q: 0,\r\n    FILTER_TP: 0,\r\n    FX1_1: 0,\r\n    FX1_2: 0,\r\n    FX1_ON: 0,\r\n    FX1_WET: 0,\r\n    FX2_1: 0,\r\n    FX2_2: 0,\r\n    FX2_3: 0,\r\n    FX2_4: 0,\r\n    FX2_5: 0,\r\n    FX2_ON: 0,\r\n    FX2_WET: 0,\r\n    FX3_1: 0,\r\n    FX3_2: 0,\r\n    FX3_ON: 0,\r\n    FX3_WET: 0,\r\n    FX4_1: 0,\r\n    FX4_2: 0,\r\n    FX4_ON: 0,\r\n    FX4_WET: 0,\r\n    FX5_1: 0,\r\n    FX5_ON: 0,\r\n    LFO_1_FC: 0,\r\n    LFO_1_GAIN: 0,\r\n    LFO_1_PHASE: 0,\r\n    LFO_1_RETR: 0,\r\n    LFO_1_TP: 0,\r\n    LFO_2_FC: 0,\r\n    LFO_2_GAIN: 0,\r\n    LFO_2_PHASE: 0,\r\n    LFO_2_RETR: 0,\r\n    LFO_2_TP: 0,\r\n    M_ROW_1: [0, 0, 0],\r\n    M_ROW_2: [0, 0, 0],\r\n    M_ROW_3: [0, 0, 0],\r\n    M_ROW_4: [0, 0, 0],\r\n    M_ROW_5: [0, 0, 0],\r\n    OSC_1_FINE: 0,\r\n    OSC_1_OCT: 0,\r\n    OSC_1_PAN: 0,\r\n    OSC_1_PHASE: 0,\r\n    OSC_1_RETR: 0,\r\n    OSC_1_SEMI: 0,\r\n    OSC_1_SPRD: 0,\r\n    OSC_1_TP: 0,\r\n    OSC_1_VOICE: 1,\r\n    OSC_1_VOL: 0,\r\n    OSC_2_FINE: 0,\r\n    OSC_2_OCT: 0,\r\n    OSC_2_PAN: 0,\r\n    OSC_2_PHASE: 0,\r\n    OSC_2_RETR: 0,\r\n    OSC_2_SEMI: 0,\r\n    OSC_2_SPRD: 0,\r\n    OSC_2_TP: 0,\r\n    OSC_2_VOICE: 0,\r\n    OSC_2_VOL: 0,\r\n    OSC_3_PAN: 0,\r\n    OSC_3_VOL: 0\r\n  }\r\n};\r\n\r\nconst initPreset = {\r\n  name: \"Init\",\r\n  values: {\r\n    MASTER_GAIN: 0.5,\r\n    AMP_EG_ATT: 0.02,\r\n    AMP_EG_DEC: 0.2,\r\n    AMP_EG_REL: 0.25,\r\n    AMP_EG_SUS: 0.5,\r\n    EG_1_ATT: 0.001,\r\n    EG_1_DEC: 0.1,\r\n    EG_1_REL: 0.2,\r\n    EG_1_SUS: 0.5,\r\n    FILTER_CUT: 10000,\r\n    FILTER_EG: 0,\r\n    FILTER_Q: 0,\r\n    FILTER_TP: 0,\r\n    FX1_1: 0,\r\n    FX1_2: 0,\r\n    FX1_ON: 0,\r\n    FX1_WET: 0,\r\n    FX2_1: 0,\r\n    FX2_2: 0,\r\n    FX2_3: 0,\r\n    FX2_4: 0,\r\n    FX2_5: 0,\r\n    FX2_ON: 0,\r\n    FX2_WET: 0,\r\n    FX3_1: 0,\r\n    FX3_2: 0,\r\n    FX3_ON: 0,\r\n    FX3_WET: 0,\r\n    FX4_1: 0,\r\n    FX4_2: 0,\r\n    FX4_ON: 0,\r\n    FX4_WET: 0,\r\n    FX5_1: 0,\r\n    FX5_ON: 0,\r\n    LFO_1_FC: 0,\r\n    LFO_1_GAIN: 0,\r\n    LFO_1_PHASE: 0,\r\n    LFO_1_RETR: 0,\r\n    LFO_1_TP: 0,\r\n    LFO_2_FC: 0,\r\n    LFO_2_GAIN: 0,\r\n    LFO_2_PHASE: 0,\r\n    LFO_2_RETR: 0,\r\n    LFO_2_TP: 0,\r\n    M_ROW_1: [0, 0, 0],\r\n    M_ROW_2: [0, 0, 0],\r\n    M_ROW_3: [0, 0, 0],\r\n    M_ROW_4: [0, 0, 0],\r\n    M_ROW_5: [0, 0, 0],\r\n    OSC_1_FINE: 0,\r\n    OSC_1_OCT: 0,\r\n    OSC_1_PAN: 0,\r\n    OSC_1_PHASE: 0,\r\n    OSC_1_RETR: 0,\r\n    OSC_1_SEMI: 0,\r\n    OSC_1_SPRD: 0,\r\n    OSC_1_TP: 0,\r\n    OSC_1_VOICE: 1,\r\n    OSC_1_VOL: 1,\r\n    OSC_2_FINE: 0,\r\n    OSC_2_OCT: 0,\r\n    OSC_2_PAN: 0,\r\n    OSC_2_PHASE: 0,\r\n    OSC_2_RETR: 0,\r\n    OSC_2_SEMI: 0,\r\n    OSC_2_SPRD: 0,\r\n    OSC_2_TP: 0,\r\n    OSC_2_VOICE: 0,\r\n    OSC_2_VOL: 0,\r\n    OSC_3_PAN: 0,\r\n    OSC_3_VOL: 0\r\n  }\r\n};\r\n","import { Gain, Frequency, optionsFromArguments, Meter } from \"tone\";\r\nimport { VoiceManager } from \"./Voice\";\r\nimport { EffectModule } from \"./Effects\";\r\nimport { Instrument } from \"tone/build/esm/instrument/Instrument\";\r\nimport { ControlManager } from \"@/Synth/control\";\r\nimport { BaseCommand } from \"@/Synth/commands\";\r\nimport { CONTROLLERS, CONTROL_TYPES } from \"@/Synth/synthutils\";\r\nimport { PresetManager } from \"./PresetManager\";\r\nlet presets;\r\ntry {\r\n  presets = require(\"./presets\").default;\r\n} catch (e) {\r\n  console.warn(\"presets file not found.\");\r\n}\r\n\r\nfunction midiToNote(midi) {\r\n  return Frequency(midi, \"midi\").toFrequency();\r\n}\r\n\r\nexport default class Synthesizer extends Instrument {\r\n  constructor() {\r\n    super(optionsFromArguments(Synthesizer.getDefaults(), arguments));\r\n    // const options = optionsFromArguments(Synthesizer.getDefaults(), arguments);\r\n    this.ready = false;\r\n    this.voiceManager = new VoiceManager();\r\n    this.effects = new EffectModule();\r\n    this._masterGain = new Gain();\r\n    this.controlManager = new ControlManager();\r\n    this.meter = new Meter({ channels: 2, normalRange: true, smoothing: 0.99 });\r\n\r\n    this.voiceManager.chain(this.effects, this._masterGain, this.meter, this.output);\r\n    this.presetManager = new PresetManager(this, presets);\r\n  }\r\n\r\n  init() {\r\n    var p = this.controlManager.createControls(this.voiceManager),\r\n      p1 = this.controlManager.createControls(this.effects),\r\n      p2 = this.controlManager.createControls(this);\r\n    Promise.all([p, p1, p2]).then(() => {\r\n      this.ready = true;\r\n      this.setPreset(this.presetManager.currentPreset);\r\n      return true;\r\n    });\r\n  }\r\n\r\n  triggerAttack(note, time, velocity) {\r\n    this.voiceManager.triggerAttack(midiToNote(note), time, velocity);\r\n  }\r\n\r\n  triggerRelease(note, time) {\r\n    this.voiceManager.triggerRelease(midiToNote(note), time);\r\n  }\r\n\r\n  dumpPreset() {\r\n    this.voiceManager.releaseAll();\r\n    const preset = this.controlManager.getPreset();\r\n    console.log(\"preset\", preset);\r\n  }\r\n\r\n  setPreset(preset) {\r\n    this.voiceManager.releaseAll();\r\n    this.controlManager.usePreset(preset);\r\n  }\r\n\r\n  getControl(id) {\r\n    return this.controlManager.getControl(id);\r\n  }\r\n\r\n  get getControlMatrix() {\r\n    const arr = [];\r\n    for (let i = 1; i <= 5; i++) {\r\n      arr.push(this.getControl(CONTROLLERS[`M_ROW_${i}`]));\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  panic() {\r\n    this.voiceManager.releaseAll();\r\n    this.dispose();\r\n  }\r\n\r\n  get masterGain() {\r\n    return this._masterGain.gain.value;\r\n  }\r\n\r\n  set masterGain(value) {\r\n    this._masterGain.gain.value = value;\r\n  }\r\n\r\n  dispose() {\r\n    super.dispose();\r\n    this.controlManager.dispose();\r\n    this.voiceManager.dispose();\r\n    this.effects.dispose();\r\n    this._masterGain.dispose();\r\n    this.meter.dispose();\r\n    return this;\r\n  }\r\n\r\n  async *getControls() {\r\n    const controls = MasterControls();\r\n    var i;\r\n    for (i = controls.length; i--;) {\r\n      yield controls[i];\r\n    }\r\n  }\r\n}\r\n\r\nfunction MasterControls() {\r\n  const controls = [];\r\n  let control;\r\n  // MASTER ------------------\r\n  control = {\r\n    options: {\r\n      type: CONTROL_TYPES.KNOB,\r\n      id: CONTROLLERS.MASTER_GAIN,\r\n      min: 0,\r\n      max: 1,\r\n      default: 0.5,\r\n      label: \"gain\",\r\n      width: \"4em\",\r\n      color: \"#ff0000\"\r\n    },\r\n    command: {\r\n      type: BaseCommand,\r\n      args: [\"masterGain\"]\r\n    }\r\n  };\r\n  controls.push(control);\r\n  return controls;\r\n}\r\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"piano\",style:({ '--height': _vm.height })},[_c('ul',{staticClass:\"piano__wrapper\",on:{\"mousedown\":function($event){_vm.mouseDown = true},\"mouseup\":function($event){_vm.mouseDown = false},\"mouseleave\":function($event){_vm.mouseDown = false}}},_vm._l((_vm.keyNotes),function(key){return _c('li',{key:key.note,staticClass:\"key\",class:[...key.style, key.active ? 'active' : ''],attrs:{\"data-note\":key.note,\"data-midi\":key.midi},on:{\"mousedown\":function($event){return _vm.handleMouseDown(key)},\"mouseup\":function($event){return _vm.handleMouseUp(key)},\"mouseout\":function($event){return _vm.handleMouseOut(key)},\"mouseover\":function($event){return _vm.handleMouseOver(key)}}})}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"piano\" :style=\"{ '--height': height }\">\r\n    <ul class=\"piano__wrapper\" @mousedown=\"mouseDown = true\" @mouseup=\"mouseDown = false\" @mouseleave=\"mouseDown = false\">\r\n      <li v-for=\"key in keyNotes\" class=\"key\" :class=\"[...key.style, key.active ? 'active' : '']\" :key=\"key.note\" :data-note=\"key.note\" :data-midi=\"key.midi\" @mousedown=\"handleMouseDown(key)\" @mouseup=\"handleMouseUp(key)\" @mouseout=\"handleMouseOut(key)\" @mouseover=\"handleMouseOver(key)\"></li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst MIN_OCTAVE = -1,\r\n  MAX_OCTAVE = 9,\r\n  WHITE_KEYS = [\"C\", \"D\", \"E\", \"F\", \"G\", \"A\", \"B\"],\r\n  BLACK_KEYS = [\"C#\", \"D#\", \"F#\", \"G#\", \"A#\"],\r\n  OCTAVE_KEYS = [\"C\", \"C#\", \"D\", \"D#\", \"E\", \"F\", \"F#\", \"G\", \"G#\", \"A\", \"A#\", \"B\"],\r\n  MIN_MIDI = 0,\r\n  MAX_MIDI = 127,\r\n  MIDDLE_C_MIDI = 60,\r\n  KEYBOARD = {\r\n    // Lower octave.\r\n    65: 0,\r\n    87: 1,\r\n    83: 2,\r\n    69: 3,\r\n    68: 4,\r\n    70: 5,\r\n    84: 6,\r\n    71: 7,\r\n    89: 8,\r\n    72: 9,\r\n    85: 10,\r\n    74: 11,\r\n    // Upper octave.\r\n    75: 12,\r\n    79: 13,\r\n    76: 14,\r\n    80: 15,\r\n    59: 16\r\n  };\r\n\r\nfunction calculateOctave(val) {\r\n  return Math.floor(val / 12) - 1; // 1 octaves offset\r\n}\r\n\r\nfunction createRange(minMIDI, maxMIDI) {\r\n  minMIDI = clamp(minMIDI, MIN_MIDI, MAX_MIDI);\r\n  maxMIDI = clamp(maxMIDI, MIN_MIDI, MAX_MIDI);\r\n\r\n  const notes = [];\r\n  for (let i = minMIDI; i < maxMIDI + 1; i++) {\r\n    const octave = calculateOctave(i);\r\n    const key = OCTAVE_KEYS[i % 12];\r\n    const note = `${key}${octave}`;\r\n    const style = [\"key\", `${BLACK_KEYS.includes(key) ? \"key-black\" : \"key-white\"}`];\r\n    const midi = i;\r\n    const keyNote = { note, style, midi };\r\n    notes.push(keyNote);\r\n  }\r\n  return notes;\r\n}\r\n\r\nimport { clamp } from \"@/utils\";\r\nimport { Frequency } from \"tone\";\r\n\r\nexport default {\r\n  props: {\r\n    MIN_KB_MIDI: {\r\n      type: [Number, String],\r\n      default: 36\r\n    },\r\n    MAX_KB_MIDI: {\r\n      type: [Number, String],\r\n      default: 84\r\n    },\r\n    height: {\r\n      type: [Number, String],\r\n      default: 100\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      octave: MIDDLE_C_MIDI / 12, //current octave\r\n      keys: {},\r\n      mouseDown: false,\r\n      keyNotes: []\r\n    };\r\n  },\r\n  computed: {\r\n    _keys() {\r\n      return createRange(MIN_MIDI, MAX_MIDI);\r\n    },\r\n    midiOffset() {\r\n      return this.octave * 12;\r\n    },\r\n    kbRange() {\r\n      const whiteKeys = this._keys.slice(this.MIN_KB_MIDI, this.MAX_KB_MIDI);\r\n      const filtered = whiteKeys.filter(({ style }) => style.includes(\"key-white\"));\r\n      return filtered.length;\r\n    }\r\n  },\r\n  methods: {\r\n    inKbRange(midi) {\r\n      // check, if midi signal match virtual piano keyboard range  <min, max);\r\n      return midi >= this.MIN_KB_MIDI && midi < this.MAX_KB_MIDI;\r\n    },\r\n    playNote(note) {\r\n      this.$emit(\"onKeyDown\", note);\r\n    },\r\n    releaseNote(note) {\r\n      this.$emit(\"onKeyUp\", note);\r\n    },\r\n    handleMouseUp(key) {\r\n      if (this.mouseDown) {\r\n        this.$set(key, \"active\", false);\r\n        this.releaseNote(key.midi);\r\n      }\r\n    },\r\n    handleMouseDown(key) {\r\n      this.$set(key, \"active\", true);\r\n      this.playNote(key.midi);\r\n    },\r\n    handleMouseOver(key) {\r\n      if (this.mouseDown) {\r\n        this.$set(key, \"active\", true);\r\n        this.playNote(key.midi);\r\n      }\r\n    },\r\n    handleMouseOut(key) {\r\n      if (this.mouseDown) {\r\n        this.$set(key, \"active\", false);\r\n        this.releaseNote(key.midi);\r\n      }\r\n    },\r\n\r\n    onKeyDown() {\r\n      let listener;\r\n      document.removeEventListener(\"keydown\", listener);\r\n      listener = event => {\r\n        const { keyCode } = event;\r\n        // Only trigger once per keydown event.\r\n        const note = KEYBOARD[keyCode];\r\n\r\n        if (!this.keys[keyCode] && note !== undefined) {\r\n          this.keys[keyCode] = true;\r\n          const midi = note + this.midiOffset;\r\n          if (this.inKbRange(midi)) {\r\n            const val = midi - this.MIN_KB_MIDI; // relative position on kb\r\n            this.$set(this.keyNotes[val], \"active\", true);\r\n          }\r\n          this.playNote(midi);\r\n        }\r\n      };\r\n      document.addEventListener(\"keydown\", listener);\r\n    },\r\n    onKeyUp() {\r\n      let listener;\r\n\r\n      document.removeEventListener(\"keyup\", listener);\r\n\r\n      listener = event => {\r\n        const { keyCode } = event;\r\n        const note = KEYBOARD[keyCode];\r\n        if (this.keys[keyCode] && note !== undefined) {\r\n          this.keys[keyCode] = false;\r\n          const midi = note + this.midiOffset;\r\n          if (this.inKbRange(midi)) {\r\n            const val = midi - this.MIN_KB_MIDI; //\r\n            this.$set(this.keyNotes[val], \"active\", false);\r\n          }\r\n          this.releaseNote(midi);\r\n        }\r\n      };\r\n      document.addEventListener(\"keyup\", listener);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.keyNotes = this._keys.slice(this.MIN_KB_MIDI, this.MAX_KB_MIDI);\r\n    this.onKeyDown();\r\n    this.onKeyUp();\r\n    // Octave controls.\r\n    const octaveHandler = event => {\r\n      // Decrease octave range (min: 0).\r\n      if (event.key === \"z\") {\r\n        this.octave = Math.max(this.octave - 1, MIN_OCTAVE);\r\n      }\r\n      // Increase octave range (max: 10).\r\n      if (event.key === \"x\") {\r\n        this.octave = Math.min(this.octave + 1, MAX_OCTAVE);\r\n      }\r\n    };\r\n    document.addEventListener(\"keydown\", octaveHandler);\r\n    this.$once(\"hook:beforeDestroy\", () => document.removeEventListener(\"keydown\", octaveHandler));\r\n  },\r\n  beforeDestroy() {\r\n    // document.removeEventListener(\"keydown\");\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.piano {\r\n  user-select: none;\r\n  height: var(--height, 100px);\r\n\r\n  &__wrapper {\r\n    --white-width: calc(calc(var(--height, 100) / 4) * 1);\r\n    --black--width: calc(var(--white-width) * 0.6);\r\n    height: 100%;\r\n    display: flex;\r\n    margin-left: calc(var(--black--width) / 2);\r\n  }\r\n\r\n  .key {\r\n    flex: 0 0 auto;\r\n    position: relative;\r\n    margin-left: calc(var(--black--width) / -2);\r\n\r\n    &:nth-child(12n + 2),\r\n    &:nth-child(12n + 7) {\r\n      left: calc(var(--white-width) / -10);\r\n    }\r\n\r\n    &:nth-child(12n + 4),\r\n    &:nth-child(12n + 11) {\r\n      left: calc(var(--white-width) / 10);\r\n    }\r\n\r\n    &.key-white {\r\n      width: var(--white-width);\r\n      height: 100%;\r\n      // z-index: 1;\r\n      border-left: 1px solid #bbb;\r\n      border-bottom: 1px solid #bbb;\r\n      border-radius: 0 0 5px 5px;\r\n      box-shadow: -1px 0 0 rgba(255, 255, 255, 0.8) inset, 0 0 5px #ccc inset,\r\n        0 0 3px rgba(0, 0, 0, 0.2);\r\n      background: linear-gradient(to bottom, #eee 0%, #fff 100%);\r\n\r\n      &.active {\r\n        border-top: 1px solid #777;\r\n        border-left: 1px solid #999;\r\n        border-bottom: 1px solid #999;\r\n        box-shadow: 2px 0 3px rgba(0, 0, 0, 0.1) inset, -5px 5px 20px rgba(0, 0, 0, 0.3) inset,\r\n          0 0 3px rgba(0, 0, 0, 0.5);\r\n        background: linear-gradient(to bottom, #fff 0%, #bfbfbf 100%);\r\n      }\r\n\r\n      +.key-white {\r\n        // halftone white keys\r\n        margin: 0;\r\n      }\r\n    }\r\n\r\n    &.key-black {\r\n      z-index: 1;\r\n      width: var(--black--width);\r\n      height: 60%;\r\n      border-left: 1px solid #000;\r\n      border-right: 1px solid #000;\r\n      border-bottom: 1px solid #000;\r\n      border-radius: 0 0 3px 3px;\r\n      box-shadow: -1px -1px 2px rgba(255, 255, 255, 0.2) inset,\r\n        0 -5px 2px 3px rgba(0, 0, 0, 0.6) inset, 0 2px 4px rgba(0, 0, 0, 0.5);\r\n      background: linear-gradient(45deg, #222 0%, #555 100%);\r\n\r\n      &.active {\r\n        box-shadow: -1px -1px 2px rgba(255, 255, 255, 0.2) inset,\r\n          0 -2px 2px 3px rgba(0, 0, 0, 0.6) inset, 0 1px 2px rgba(0, 0, 0, 0.5);\r\n        background: linear-gradient(180deg, #444 0%, #222 100%);\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Piano.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Piano.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Piano.vue?vue&type=template&id=f407328e\"\nimport script from \"./Piano.vue?vue&type=script&lang=js\"\nexport * from \"./Piano.vue?vue&type=script&lang=js\"\nimport style0 from \"./Piano.vue?vue&type=style&index=0&id=f407328e&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(_c,_vm){return _c('div',{staticClass:\"section\"},[_c('div',{staticClass:\"section-label\"},[_c('span',{staticClass:\"label\"},[_vm._v(\" \"+_vm._s(_vm.props.label)+\" \")]),_vm._t(\"label\")],2),_c('div',{staticClass:\"section-content\",attrs:{\"id\":'section__' +\n    _vm.props.label\n      .toLowerCase()\n      .split(' ')\n      .join('-')}},[_vm._t(\"default\")],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template functional>\r\n  <div class=\"section\">\r\n    <div class=\"section-label\">\r\n      <span class=\"label\">\r\n        {{ props.label }}\r\n      </span>\r\n      <slot name=\"label\"></slot>\r\n    </div>\r\n    <div class=\"section-content\" :id=\"'section__' +\r\n      props.label\r\n        .toLowerCase()\r\n        .split(' ')\r\n        .join('-')\r\n      \">\r\n      <slot></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    label: String\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.section {\r\n  width: 100%;\r\n  // height: 100%;\r\n  display: flex;\r\n\r\n  +.section {\r\n    margin-top: 1em;\r\n  }\r\n\r\n  flex-direction: column;\r\n\r\n  &__wrapper {\r\n    display: block;\r\n  }\r\n\r\n  &-label {\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin-bottom: 0.15em;\r\n\r\n    .label {\r\n      font-family: \"Orbitron\", sans-serif;\r\n      font-size: 0.95em;\r\n      font-weight: 900;\r\n      color: #fff;\r\n      text-transform: uppercase;\r\n      mix-blend-mode: overlay;\r\n      white-space: nowrap;\r\n      user-select: none;\r\n    }\r\n  }\r\n\r\n  &-content {\r\n    width: 100%;\r\n    flex: 1;\r\n    display: grid; // fit children height\r\n    justify-items: center;\r\n    align-items: flex-end;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VSection.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VSection.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./VSection.vue?vue&type=template&id=0cb35148&functional=true\"\nimport script from \"./VSection.vue?vue&type=script&lang=js\"\nexport * from \"./VSection.vue?vue&type=script&lang=js\"\nimport style0 from \"./VSection.vue?vue&type=style&index=0&id=0cb35148&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('display-base',{staticClass:\"mod-matrix\",attrs:{\"light\":\"\"}},[_c('table',[_c('thead',[_c('th',{attrs:{\"scope\":\"col\"}}),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Source\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Destination\")]),_c('th',{attrs:{\"scope\":\"col\"}},[_vm._v(\"Amt\")])]),_c('tbody',_vm._l((_vm.modMatrix),function(row,idx){return _c('matrix-row',_vm._b({key:row.id},'matrix-row',{ row, idx, sources: _vm.sources, destinations: _vm.destinations },false))}),1)]),_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('tr',{staticClass:\"mod-matrix-row\"},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(_vm.idx + 1)+\".\")]),_c('td',[_c('select',{attrs:{\"name\":\"source\"},domProps:{\"value\":_vm.row.value[0]},on:{\"change\":function($event){[_vm.update($event.target.value, 0), $event.target.blur()]}}},_vm._l((_vm.sources),function(item){return _c('option',{key:item.id,domProps:{\"value\":item.id}},[_vm._v(_vm._s(item.name))])}),0)]),_c('td',[_c('select',{attrs:{\"name\":\"destination\"},domProps:{\"value\":_vm.row.value[1]},on:{\"change\":function($event){[_vm.update($event.target.value, 1), $event.target.blur()]}}},_vm._l((_vm.destinations),function(item){return _c('option',{key:item.id,domProps:{\"value\":item.id}},[_vm._v(_vm._s(item.name))])}),0)]),_c('td',[_c('matrix-row-amount',{attrs:{\"min\":\"-1\",\"max\":\"1\",\"step\":\"0.01\",\"snap\":\"\",\"value\":_vm.row.value[2],\"bipolar\":\"\"},on:{\"input\":function($event){return _vm.update($event, 2)}}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',_vm._g({staticClass:\"handle\",staticStyle:{\"width\":\"100%\"}},_vm.controlHandlers),[_vm._v(\" \"+_vm._s(_vm.$_displayValue)+\" \")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"handle\" style=\"width:100%\" v-on=\"controlHandlers\">\r\n    {{ $_displayValue }}\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ControlMixin } from \"@/mixins/Control\";\r\nexport default {\r\n  mixins: [ControlMixin],\r\n  computed: {\r\n    $_displayValue() {\r\n      return (this.value * 100) | 0;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\"></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatrixRowAmount.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatrixRowAmount.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MatrixRowAmount.vue?vue&type=template&id=58ee58c7\"\nimport script from \"./MatrixRowAmount.vue?vue&type=script&lang=js\"\nexport * from \"./MatrixRowAmount.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <tr class=\"mod-matrix-row\">\r\n    <th scope=\"row\">{{ idx + 1 }}.</th>\r\n    <td>\r\n      <select name=\"source\" :value=\"row.value[0]\" @change=\"[update($event.target.value, 0), $event.target.blur()]\">\r\n        <option :value=\"item.id\" v-for=\"item in sources\" :key=\"item.id\">{{ item.name }}</option>\r\n      </select>\r\n    </td>\r\n    <td>\r\n      <select name=\"destination\" :value=\"row.value[1]\" @change=\"[update($event.target.value, 1), $event.target.blur()]\">\r\n        <option :value=\"item.id\" v-for=\"item in destinations\" :key=\"item.id\">{{\r\n          item.name\r\n        }}</option>\r\n      </select>\r\n    </td>\r\n    <td>\r\n      <matrix-row-amount min=\"-1\" max=\"1\" step=\"0.01\" snap :value=\"row.value[2]\" @input=\"update($event, 2)\" bipolar></matrix-row-amount>\r\n    </td>\r\n  </tr>\r\n</template>\r\n\r\n<script>\r\nimport { MatrixRow } from \"@/Synth/ModMatrix\";\r\nimport MatrixRowAmount from \"./MatrixRowAmount\";\r\nexport default {\r\n  components: { MatrixRowAmount },\r\n  props: {\r\n    row: {\r\n      type: [Object],\r\n      required: true\r\n    },\r\n    idx: Number,\r\n    sources: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    destinations: {\r\n      type: Array,\r\n      default: () => []\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      row$: this.row\r\n    };\r\n  },\r\n  methods: {\r\n    update(newValue, idx) {\r\n      const value = [...this.row.value];\r\n      value[idx] = +newValue;\r\n      this.$set(this.row, \"value\", value);\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.mod-matrix-row {\r\n  color: inherit;\r\n  text-align: center;\r\n  border: 1px solid #0004;\r\n\r\n  th {\r\n    font-size: 0.9em;\r\n  }\r\n\r\n  td {\r\n    height: 100%;\r\n\r\n    &:focus,\r\n    &:active {\r\n      outline: none;\r\n    }\r\n  }\r\n\r\n  select {\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    text-align: center;\r\n    text-align-last: center; //chrome fallback\r\n    width: 100%;\r\n    height: 100%;\r\n    background: transparent;\r\n    color: inherit;\r\n    cursor: pointer;\r\n    display: block;\r\n    -webkit-appearance: none;\r\n    appearance: none;\r\n    border: none;\r\n\r\n    &::-ms-expand {\r\n      display: none;\r\n    }\r\n\r\n    &:focus,\r\n    &:active {\r\n      outline: none;\r\n      background: #0003;\r\n    }\r\n\r\n    option:checked {\r\n      background: red;\r\n      color: green;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatrixRow.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatrixRow.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MatrixRow.vue?vue&type=template&id=58c821e6\"\nimport script from \"./MatrixRow.vue?vue&type=script&lang=js\"\nexport * from \"./MatrixRow.vue?vue&type=script&lang=js\"\nimport style0 from \"./MatrixRow.vue?vue&type=style&index=0&id=58c821e6&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <display-base class=\"mod-matrix\" light>\r\n    <table>\r\n      <thead>\r\n        <th scope=\"col\"></th>\r\n        <th scope=\"col\">Source</th>\r\n        <th scope=\"col\">Destination</th>\r\n        <th scope=\"col\">Amt</th>\r\n      </thead>\r\n      <tbody>\r\n        <matrix-row v-for=\"(row, idx) in modMatrix\" :key=\"row.id\" v-bind=\"{ row, idx, sources, destinations }\"></matrix-row>\r\n      </tbody>\r\n    </table>\r\n    <slot></slot>\r\n  </display-base>\r\n</template>\r\n\r\n<script>\r\nimport { SOURCES, DESTINATIONS } from \"@/Synth/synthutils\";\r\nimport MatrixRow from \"./MatrixRow\";\r\nimport DisplayBase from \"@/components/display/DisplayBase\";\r\nexport default {\r\n  components: { MatrixRow, DisplayBase },\r\n  props: {\r\n    modMatrix: {\r\n      type: [Array],\r\n      required: true\r\n    }\r\n  },\r\n  computed: {\r\n    matrix() {\r\n      if (this.modMatrix) {\r\n        return this.modMatrix.getMatrixCore();\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      sources: [\r\n        { name: \"---\", id: SOURCES.SOURCE_NONE },\r\n        { name: \"LFO 1\", id: SOURCES.LFO_1_OUT },\r\n        { name: \"LFO 2\", id: SOURCES.LFO_2_OUT },\r\n        { name: \"AMP EG\", id: SOURCES.AMP_EG_OUT },\r\n        { name: \"FILTER EG\", id: SOURCES.EG_1_OUT }\r\n      ],\r\n      destinations: [\r\n        { name: \"---\", id: DESTINATIONS.DEST_NONE },\r\n        { name: \"PITCH 1\", id: DESTINATIONS.OSC_1_PITCH },\r\n        { name: \"PITCH 2\", id: DESTINATIONS.OSC_2_PITCH },\r\n        { name: \"PITCH 12\", id: DESTINATIONS.OSC_12_PITCH },\r\n        { name: \"VOLUME 1\", id: DESTINATIONS.OSC_1_VOL },\r\n        { name: \"VOLUME 2\", id: DESTINATIONS.OSC_2_VOL },\r\n        { name: \"VOLUME 3\", id: DESTINATIONS.OSC_3_VOL },\r\n        { name: \"VOLUME 123\", id: DESTINATIONS.OSC_123_VOL },\r\n        { name: \"PAN 1\", id: DESTINATIONS.OSC_1_PAN },\r\n        { name: \"PAN 2\", id: DESTINATIONS.OSC_2_PAN },\r\n        { name: \"PAN 3\", id: DESTINATIONS.OSC_3_PAN },\r\n        { name: \"FILTER:CUTOFF\", id: DESTINATIONS.FILTER_CUT }\r\n      ]\r\n    };\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.mod-matrix {\r\n  table {\r\n    border-collapse: collapse;\r\n    width: 18em;\r\n    height: 100%;\r\n    table-layout: fixed;\r\n    text-align: center;\r\n    margin: 0.1em;\r\n    border-style: hidden;\r\n  }\r\n\r\n  thead,\r\n  tbody {\r\n    font-size: 0.6em;\r\n    text-transform: uppercase;\r\n    height: 100%;\r\n  }\r\n\r\n  thead th {\r\n    padding: 0.3em;\r\n    background-color: #cfd3d4;\r\n    background-clip: padding-box;\r\n\r\n    &:nth-child(2) {\r\n      width: 31%;\r\n    }\r\n\r\n    &:nth-child(3) {\r\n      width: 40%;\r\n    }\r\n\r\n    &:nth-child(4) {\r\n      width: 20%;\r\n    }\r\n  }\r\n\r\n  th,\r\n  td {\r\n    border: 1px solid #0004;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Matrix.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Matrix.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Matrix.vue?vue&type=template&id=66638c4d\"\nimport script from \"./Matrix.vue?vue&type=script&lang=js\"\nexport * from \"./Matrix.vue?vue&type=script&lang=js\"\nimport style0 from \"./Matrix.vue?vue&type=style&index=0&id=66638c4d&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"meter\"},_vm._l((_vm.meterLevels),function(level,idx){return _c('div',{key:idx,staticClass:\"meter-channel\",style:({ '--level': level })})}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"meter\">\r\n    <div class=\"meter-channel\" :style=\"{ '--level': level }\" v-for=\"(level, idx) in meterLevels\" :key=\"idx\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    meter: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      meterLevels: []\r\n    };\r\n  },\r\n  mounted() {\r\n    const loop = () => {\r\n      requestAnimationFrame(loop);\r\n      if (!this.meter) {\r\n        return;\r\n      }\r\n      const values = this.meter.getValue();\r\n      const levels = values.map(val => val.toFixed(2));\r\n      this.meterLevels = levels;\r\n    };\r\n    loop();\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.meter {\r\n  display: flex;\r\n  height: 100%;\r\n\r\n  &-channel {\r\n    width: 1em;\r\n    margin: 0.1em;\r\n    flex: 1;\r\n    overflow: hidden;\r\n    background: linear-gradient(to bottom, red 5%, orange 20%, green 60%);\r\n    box-shadow: inset 0 0 2px 0 #333, inset 0 0 1px 3px #000, 0 0 2px 1px #252525, 0 0 2px 1px #111;\r\n\r\n    &::before {\r\n      content: \"\";\r\n      background: #111;\r\n      position: absolute;\r\n      width: 100%;\r\n      height: 100%;\r\n      transform-origin: center top;\r\n      transform: scaleY(calc(1 - var(--level, 0)));\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Meter.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Meter.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Meter.vue?vue&type=template&id=5e280e72\"\nimport script from \"./Meter.vue?vue&type=script&lang=js\"\nexport * from \"./Meter.vue?vue&type=script&lang=js\"\nimport style0 from \"./Meter.vue?vue&type=style&index=0&id=5e280e72&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"main-screen\"},[_c('button',{staticClass:\"prev\",on:{\"click\":function($event){return _vm.model.prevPreset()}}},[_c('span',[_vm._v(\"\")])]),_c('display-base',{attrs:{\"light\":\"\"}},[_c('div',{staticClass:\"main-screen__content\"},[_c('select',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.control),expression:\"!control\"}],attrs:{\"id\":\"presets\"},domProps:{\"value\":_vm.model.current},on:{\"change\":_vm.onPresetChange}},_vm._l((_vm.model._presets),function(preset){return _c('option',{key:preset.id,domProps:{\"value\":preset.id}},[_vm._v(_vm._s(preset.name))])}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.control),expression:\"control\"}],staticClass:\"main-screen__overlay\"},[_vm._v(_vm._s(_vm.control))])])]),_c('button',{staticClass:\"next\",on:{\"click\":function($event){return _vm.model.nextPreset()}}},[_c('span',[_vm._v(\"\")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"main-screen\">\r\n    <button class=\"prev\" @click=\"model.prevPreset()\">\r\n      <span>&#128710;</span>\r\n    </button>\r\n    <display-base light>\r\n      <div class=\"main-screen__content\">\r\n        <select id=\"presets\" :value=\"model.current\" v-show=\"!control\" @change=\"onPresetChange\">\r\n          <option :value=\"preset.id\" v-for=\"preset in model._presets\" :key=\"preset.id\">{{\r\n            preset.name\r\n          }}</option>\r\n        </select>\r\n        <div class=\"main-screen__overlay\" v-show=\"control\">{{ control }}</div>\r\n      </div>\r\n    </display-base>\r\n    <button class=\"next\" @click=\"model.nextPreset()\">\r\n      <span>&#128710;</span>\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { debounce, throttle } from \"@/utils\";\r\nimport DisplayBase from \"@/components/display/DisplayBase\";\r\nexport default {\r\n  components: { DisplayBase },\r\n  props: {\r\n    model: { type: Object, required: true }\r\n  },\r\n  computed: {\r\n    displayContent() {\r\n      if (this.control) {\r\n        return this.control;\r\n      }\r\n      return this.model.currentPreset.name;\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      control: null\r\n    };\r\n  },\r\n  methods: {\r\n    onPresetChange(e) {\r\n      e.target.blur();\r\n      this.model.changePreset(+e.target.value);\r\n    }\r\n  },\r\n  mounted() {\r\n    const debouncedHide = debounce(() => (this.control = null), 1000); //hide after 1 sec\r\n    const controlDataHandler = e => {\r\n      this.control = e;\r\n      debouncedHide();\r\n    };\r\n    // allow signals in given intervals - useful when changing preset where all controls send events in parallel\r\n    const throttledHandler = throttle(controlDataHandler, 50);\r\n    this.$bus.$on(\"control:change\", throttledHandler);\r\n    this.$once(\"hook:beforeDestroy\", () => this.$bus.$off(\"control:change\", throttledHandler));\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.main-screen {\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  &__content {\r\n    color: #414446;\r\n    font-weight: 500;\r\n    width: 20ch;\r\n    text-align: center;\r\n    font-size: 0.75em;\r\n    padding: 0.4em 0.2em;\r\n    overflow: hidden;\r\n    height: 2em;\r\n\r\n    select {\r\n      color: inherit;\r\n      font-weight: inherit;\r\n      font-size: inherit;\r\n      text-align: inherit;\r\n\r\n      option {\r\n        font-size: 0.8em;\r\n        font-weight: 400;\r\n      }\r\n    }\r\n  }\r\n\r\n  &__overlay {\r\n    top: 0;\r\n    left: 0;\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    font-size: 1.2em;\r\n    line-height: 1.7;\r\n  }\r\n\r\n  .display {\r\n    flex: 1;\r\n    margin: 0 0.5em;\r\n  }\r\n\r\n  button {\r\n    cursor: pointer;\r\n    background: #111;\r\n    color: #fff;\r\n    border: none;\r\n    border-radius: 20%;\r\n    width: 1.7em;\r\n    height: 2em;\r\n    display: inline-flex;\r\n    margin: 0.5em 0;\r\n    justify-content: center;\r\n    box-shadow: 0 0 0.1em #000, inset 0 0 0 0.1em #000;\r\n    transform-origin: center;\r\n\r\n    span {\r\n      text-shadow: 0 0 1px currentColor;\r\n      font-size: 1em;\r\n      line-height: 2;\r\n    }\r\n\r\n    &:focus,\r\n    &:active {\r\n      outline: none;\r\n    }\r\n\r\n    &:active {\r\n      box-shadow: 0 0 0.05em #000, inset 0 0 0.1em 0.1em #000;\r\n      transform: scale(0.95);\r\n    }\r\n\r\n    &.next span {\r\n      transform: rotate(90deg);\r\n    }\r\n\r\n    &.prev span {\r\n      transform: rotate(-90deg);\r\n    }\r\n  }\r\n\r\n  .triangle {\r\n    margin: auto;\r\n    display: inline-block;\r\n    position: relative;\r\n    background-color: #111;\r\n    text-align: left;\r\n    transform: rotate(-60deg) skewX(-30deg) scale(1, 0.866);\r\n\r\n    &:before,\r\n    &:after {\r\n      content: \"\";\r\n      position: absolute;\r\n      background-color: inherit;\r\n    }\r\n\r\n    &,\r\n    &:before,\r\n    &:after {\r\n      width: 1em;\r\n      height: 1em;\r\n      border-top-right-radius: 30%;\r\n    }\r\n\r\n    &:before {\r\n      transform: rotate(-135deg) skewX(-45deg) scale(1.414, 0.707) translate(0, -50%);\r\n    }\r\n\r\n    &:after {\r\n      transform: rotate(135deg) skewY(-45deg) scale(0.707, 1.414) translate(50%);\r\n    }\r\n  }\r\n}</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainScreen.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainScreen.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MainScreen.vue?vue&type=template&id=05d43716\"\nimport script from \"./MainScreen.vue?vue&type=script&lang=js\"\nexport * from \"./MainScreen.vue?vue&type=script&lang=js\"\nimport style0 from \"./MainScreen.vue?vue&type=style&index=0&id=05d43716&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\r\nimport { Control } from \"@/Synth/control\";\r\nimport { CONTROL_TYPES } from \"@/Synth/synthutils\";\r\nconst KnobVue = () => import(\"@/components/controllers/Knob.vue\");\r\nconst WavePickerVue = () => import(\"@/components/controllers/WavePicker.vue\");\r\nconst FaderVue = () => import(\"@/components/controllers/Fader.vue\");\r\nconst DisplayPickerVue = () => import(\"@/components/controllers/DisplayPicker.vue\");\r\nconst ToggleVue = () => import(\"@/components/controllers/Toggle.vue\");\r\nconst VSelectVue = () => import(\"@/components/controllers/VSelect.vue\");\r\nexport default {\r\n  props: {\r\n    model: {\r\n      type: Control,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      modelData: this.model //make reactive\r\n    };\r\n  },\r\n  render(h) {\r\n    let component;\r\n    switch (this.model.type) {\r\n      case CONTROL_TYPES.KNOB:\r\n        component = KnobVue;\r\n        break;\r\n      case CONTROL_TYPES.DISPLAYPICKER:\r\n        component = DisplayPickerVue;\r\n        break;\r\n      case CONTROL_TYPES.FADER:\r\n        component = FaderVue;\r\n        break;\r\n      case CONTROL_TYPES.WAVEPICKER:\r\n        component = WavePickerVue;\r\n        break;\r\n      case CONTROL_TYPES.TOGGLE:\r\n        component = ToggleVue;\r\n        break;\r\n      case CONTROL_TYPES.SELECT:\r\n        component = VSelectVue;\r\n        break;\r\n      default:\r\n        component = KnobVue;\r\n        break;\r\n    }\r\n    const componentProps = { ...this.model, value: this.model.value };\r\n    return h(component, {\r\n      props: componentProps,\r\n      on: {\r\n        input: event => {\r\n          this.model.value = event;\r\n        }\r\n      }\r\n    });\r\n  }\r\n};\r\n</script>\r\n","var render, staticRenderFns\nimport script from \"./Controller.vue?vue&type=script&lang=js\"\nexport * from \"./Controller.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controller.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Controller.vue?vue&type=script&lang=js\"","export default function (count = 10) {\r\n  return {\r\n    data() {\r\n      return {\r\n        displayPriority: 0\r\n      };\r\n    },\r\n    mounted() {\r\n      this.runDisplayPriority();\r\n    },\r\n    methods: {\r\n      runDisplayPriority() {\r\n        const step = () => {\r\n          requestAnimationFrame(() => {\r\n            this.displayPriority++;\r\n            if (this.displayPriority < count) {\r\n              step();\r\n            }\r\n          });\r\n        };\r\n        step();\r\n      },\r\n      defer(priority) {\r\n        return this.displayPriority >= priority;\r\n      }\r\n    }\r\n  };\r\n}\r\n","<template>\r\n  <div class=\"synth\">\r\n    <div class=\"synth__wrapper\">\r\n      <div class=\"synth__layout\" v-if=\"synth && synth.ready\">\r\n        <div class=\"row row-1\" v-if=\"defer(2)\">\r\n          <div class=\"col\" v-for=\"i in 2\" :key=\"i\">\r\n            <v-section :label=\"`osc ${i}`\">\r\n              <Controller :model=\"synth.getControl(CONTROLLERS[`OSC_${i}_TP`])\" />\r\n              <Controller :model=\"synth.getControl(CONTROLLERS[`OSC_${i}_OCT`])\" />\r\n              <Controller :model=\"synth.getControl(CONTROLLERS[`OSC_${i}_SEMI`])\" />\r\n              <Controller :model=\"synth.getControl(CONTROLLERS[`OSC_${i}_FINE`])\" />\r\n              <Controller :model=\"synth.getControl(CONTROLLERS[`OSC_${i}_PHASE`])\" />\r\n              <Controller :model=\"synth.getControl(CONTROLLERS[`OSC_${i}_SPRD`])\" />\r\n              <Controller :model=\"synth.getControl(CONTROLLERS[`OSC_${i}_VOICE`])\" />\r\n              <Controller :model=\"synth.getControl(CONTROLLERS[`OSC_${i}_RETR`])\" />\r\n            </v-section>\r\n          </div>\r\n        </div>\r\n        <div class=\"row-divider divider-1\"></div>\r\n        <div class=\"row row-2\" v-if=\"defer(3)\">\r\n          <div class=\"col\" v-for=\"i in 2\" :key=\"i\">\r\n            <v-section :label=\"`lfo ${i}`\">\r\n              <Controller :model=\"synth.getControl(CONTROLLERS[`LFO_${i}_RETR`])\" />\r\n              <Controller :model=\"synth.getControl(CONTROLLERS[`LFO_${i}_TP`])\" />\r\n              <Controller :model=\"synth.getControl(CONTROLLERS[`LFO_${i}_PHASE`])\" />\r\n              <Controller :model=\"synth.getControl(CONTROLLERS[`LFO_${i}_FC`])\" />\r\n              <Controller :model=\"synth.getControl(CONTROLLERS[`LFO_${i}_GAIN`])\" />\r\n            </v-section>\r\n          </div>\r\n          <div class=\"col\">\r\n            <v-section label=\"mixer\">\r\n              <div class=\"flex flex-column\" v-for=\"i in 3\" :key=\"i\">\r\n                <Controller :model=\"synth.getControl(CONTROLLERS[`OSC_${i}_VOL`])\" />\r\n                <Controller :model=\"synth.getControl(CONTROLLERS[`OSC_${i}_PAN`])\" />\r\n              </div>\r\n            </v-section>\r\n          </div>\r\n          <div class=\"col\">\r\n            <div>\r\n              <v-section label=\"filter env\">\r\n                <Controller :model=\"synth.getControl(CONTROLLERS.EG_1_ATT)\" />\r\n                <Controller :model=\"synth.getControl(CONTROLLERS.EG_1_DEC)\" />\r\n                <Controller :model=\"synth.getControl(CONTROLLERS.EG_1_SUS)\" />\r\n                <Controller :model=\"synth.getControl(CONTROLLERS.EG_1_REL)\" />\r\n              </v-section>\r\n\r\n              <v-section label=\"amp env\">\r\n                <Controller :model=\"synth.getControl(CONTROLLERS.AMP_EG_ATT)\" />\r\n                <Controller :model=\"synth.getControl(CONTROLLERS.AMP_EG_DEC)\" />\r\n                <Controller :model=\"synth.getControl(CONTROLLERS.AMP_EG_SUS)\" />\r\n                <Controller :model=\"synth.getControl(CONTROLLERS.AMP_EG_REL)\" />\r\n              </v-section>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"row-divider\"></div>\r\n        <div class=\"row row-3\" v-if=\"defer(4)\">\r\n          <div class=\"col\">\r\n            <v-section label=\"filter\">\r\n              <Controller :model=\"synth.getControl(CONTROLLERS.FILTER_TP)\" />\r\n              <Controller :model=\"synth.getControl(CONTROLLERS.FILTER_CUT)\" />\r\n              <Controller :model=\"synth.getControl(CONTROLLERS.FILTER_Q)\" />\r\n              <Controller :model=\"synth.getControl(CONTROLLERS.FILTER_EG)\" />\r\n            </v-section>\r\n          </div>\r\n          <div class=\"col\">\r\n            <v-section label=\"mod matrix\">\r\n              <template #label>\r\n                <Toggle @input=\"toggleAnalyzer\" :value=\"Number(!!analyzer)\" class=\"toggle-scope\" id=\"SCOPE_ON\">\r\n                </Toggle>\r\n              </template>\r\n              <Matrix :modMatrix=\"synth.getControlMatrix\">\r\n                <template v-if=\"analyzer\">\r\n                  <Analyzer :analyzer=\"analyzer\"></Analyzer>\r\n                </template>\r\n              </Matrix>\r\n            </v-section>\r\n          </div>\r\n          <div class=\"col\">\r\n            <v-section label=\"master\">\r\n              <div class=\"h-full flex flex-column justify-between\">\r\n                <MainScreen :model=\"synth.presetManager\" />\r\n                <div class=\"flex justify-between align-center\">\r\n                  <Toggle v-model=\"rotate\" class=\"toggle-fx\" id=\"FX_ON\"> </Toggle>\r\n                  <Controller :model=\"synth.getControl(CONTROLLERS.MASTER_GAIN)\" />\r\n                </div>\r\n              </div>\r\n              <Meter :meter=\"synth.meter\" />\r\n            </v-section>\r\n          </div>\r\n        </div>\r\n        <div class=\"row-divider\"></div>\r\n        <div class=\"bottom-panel\">\r\n          <div class=\"bottom-panel__wrapper\" :class=\"[rotate ? 'show-fx' : 'show-kb']\">\r\n            <div class=\"row effects\" v-if=\"defer(6)\">\r\n              <div class=\"col\">\r\n                <v-section label=\"distort\">\r\n                  <template #label>\r\n                    <Controller :model=\"synth.getControl(CONTROLLERS.FX1_ON)\" />\r\n                  </template>\r\n                  <Controller :model=\"synth.getControl(CONTROLLERS.FX1_1)\" />\r\n                  <Controller :model=\"synth.getControl(CONTROLLERS.FX1_2)\" />\r\n                  <Controller :model=\"synth.getControl(CONTROLLERS.FX1_WET)\" />\r\n                </v-section>\r\n              </div>\r\n              <div class=\"col\">\r\n                <v-section label=\"chorus\">\r\n                  <template #label>\r\n                    <Controller :model=\"synth.getControl(CONTROLLERS.FX2_ON)\" />\r\n                  </template>\r\n                  <Controller :model=\"synth.getControl(CONTROLLERS.FX2_1)\" />\r\n                  <Controller :model=\"synth.getControl(CONTROLLERS.FX2_2)\" />\r\n                  <Controller :model=\"synth.getControl(CONTROLLERS.FX2_3)\" />\r\n                  <Controller :model=\"synth.getControl(CONTROLLERS.FX2_4)\" />\r\n                  <Controller :model=\"synth.getControl(CONTROLLERS.FX2_5)\" />\r\n                  <Controller :model=\"synth.getControl(CONTROLLERS.FX2_WET)\" />\r\n                </v-section>\r\n              </div>\r\n              <div class=\"col\">\r\n                <v-section label=\"delay\">\r\n                  <template #label>\r\n                    <Controller :model=\"synth.getControl(CONTROLLERS.FX3_ON)\" />\r\n                  </template>\r\n                  <Controller :model=\"synth.getControl(CONTROLLERS.FX3_1)\" />\r\n                  <Controller :model=\"synth.getControl(CONTROLLERS.FX3_2)\" />\r\n                  <Controller :model=\"synth.getControl(CONTROLLERS.FX3_WET)\" />\r\n                </v-section>\r\n              </div>\r\n              <div class=\"col\">\r\n                <v-section label=\"reverb\">\r\n                  <template #label>\r\n                    <Controller :model=\"synth.getControl(CONTROLLERS.FX4_ON)\" />\r\n                  </template>\r\n                  <Controller :model=\"synth.getControl(CONTROLLERS.FX4_1)\" />\r\n                  <Controller :model=\"synth.getControl(CONTROLLERS.FX4_2)\" />\r\n                  <Controller :model=\"synth.getControl(CONTROLLERS.FX4_WET)\" />\r\n                </v-section>\r\n              </div>\r\n              <div class=\"col\">\r\n                <v-section label=\"limiter\">\r\n                  <template #label>\r\n                    <Controller :model=\"synth.getControl(CONTROLLERS.FX5_ON)\" />\r\n                  </template>\r\n                  <Controller :model=\"synth.getControl(CONTROLLERS.FX5_1)\" />\r\n                </v-section>\r\n              </div>\r\n            </div>\r\n            <div class=\"row overflow-hidden justify-center\" v-if=\"defer(5)\">\r\n              <div class=\"col\" style=\"padding:0\">\r\n                <div class=\"piano-section\">\r\n                  <div class=\"piano-section__wrapper\" draggable=\"false\">\r\n                    <piano @onKeyUp=\"onKeyUp\" @onKeyDown=\"onKeyDown\" height=\"6.2em\"></piano>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Waveform } from \"tone\";\r\nimport Synthesizer from \"@/Synth\";\r\nimport Piano from \"@/components/Piano\";\r\nimport VSection from \"@/components/ui/VSection\";\r\nimport Matrix from \"@/components/matrix/Matrix\";\r\nimport Meter from \"@/components/visual/Meter\";\r\nimport MainScreen from \"@/components/visual/MainScreen\";\r\nimport Toggle from \"@/components/controllers/Toggle\";\r\nimport Controller from \"@/components/controllers/Controller\";\r\nconst Analyzer = () => import(\"@/components/visual/Analyzer\");\r\nimport { CONTROLLERS } from \"@/Synth/synthutils\";\r\nimport Defer from \"@/mixins/Defer\";\r\nexport default {\r\n  mixins: [Defer()],\r\n  components: { Controller, Piano, VSection, Matrix, Meter, MainScreen, Toggle, Analyzer },\r\n  data() {\r\n    return {\r\n      synth: null,\r\n      CONTROLLERS,\r\n      analyzer: null,\r\n      rotate: 0\r\n    };\r\n  },\r\n  methods: {\r\n    onKeyDown(note) {\r\n      this.synth.triggerAttack(note);\r\n    },\r\n    onKeyUp(note) {\r\n      this.synth.triggerRelease(note);\r\n    },\r\n    async createSynth() {\r\n      const synth = new Synthesizer();\r\n      const ready = await synth.init();\r\n      return synth.toDestination();\r\n    },\r\n    destroySynth() {\r\n      if (this.synth) {\r\n        this.synth.disconnect();\r\n        const oldsynth = this.synth;\r\n        this.synth = null;\r\n        oldsynth.panic();\r\n      }\r\n    },\r\n    dumpPreset() {\r\n      this.synth && this.synth.dumpPreset();\r\n    },\r\n    async panic() {\r\n      this.destroySynth();\r\n      const synth = await this.createSynth();\r\n      if (synth) {\r\n        // make object properties not reactive\r\n        Object.defineProperties(synth, {\r\n          voiceManager: { configurable: false },\r\n          controlManager: { configurable: false },\r\n          effects: { configurable: false }\r\n        });\r\n        this.synth = synth;\r\n      }\r\n    },\r\n    toggleAnalyzer() {\r\n      if (!this.synth) return;\r\n      if (!this.analyzer) {\r\n        this.analyzer = new Waveform(1024);\r\n        this.synth.connect(this.analyzer);\r\n      } else {\r\n        this.synth.disconnect(this.analyzer);\r\n        this.analyzer = null;\r\n      }\r\n    }\r\n  },\r\n  async created() {\r\n    this.$emit(\"ready\");\r\n    await this.panic();\r\n  },\r\n  beforeDestroy() {\r\n    this.destroySynth();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.synth {\r\n  display: inline-block;\r\n  margin: auto;\r\n  flex-shrink: 0;\r\n\r\n  &__wrapper {\r\n    margin: 1rem auto;\r\n    overflow: hidden;\r\n    border-radius: 0.4em;\r\n\r\n    &::before {\r\n      content: \"\";\r\n      z-index: 2;\r\n      pointer-events: none;\r\n      position: absolute;\r\n      width: 100%;\r\n      height: 100%;\r\n      box-shadow: inset 0 0.4em 0.15em -0.3em #fff4, inset 0.3em 0 0.2em -0.2em #aaa5,\r\n        inset -0.3em 0 0.2em -0.2em #000a;\r\n      mix-blend-mode: hard-light;\r\n    }\r\n  }\r\n}\r\n\r\n.synth__layout {\r\n  // background: #181b1c;\r\n  background: #050505;\r\n  display: grid;\r\n\r\n  grid-template-columns: 1fr;\r\n  grid-template-rows: auto;\r\n  grid-auto-rows: auto;\r\n  // ------------\r\n  border-style: solid;\r\n  border-width: 0em 3em;\r\n  border-image: url(\"~@/assets/images/wood.jpg\") 0 100%;\r\n  box-shadow: inset 0.6em 0 0.1em -0.5em #000, inset -0.6em 0 0.1em -0.5em #000,\r\n    inset 0 0 3em 3em #000;\r\n\r\n  &::before {\r\n    content: \"\";\r\n    z-index: 1;\r\n    pointer-events: none;\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    box-shadow: 0 0 0.3em 0.1em #111;\r\n  }\r\n\r\n  .row-divider {\r\n    position: relative;\r\n    z-index: 4;\r\n\r\n    &::before {\r\n      content: \"\";\r\n      position: absolute;\r\n      left: 0;\r\n      right: 0;\r\n      margin: 0 auto;\r\n      width: 100%;\r\n      height: 6px;\r\n      border-radius: 1px;\r\n      box-shadow: 0 3px 2px 0 #5551, 0 -1px 1px #111, inset -1px 2px 4px 2px #0008,\r\n        inset 1px -1px 2px 2px #7771;\r\n      // ---------------\r\n      height: 3px;\r\n      border-radius: 0;\r\n      box-shadow: 0 1px 1px 0 #5555, 0 -1px 1px #0004, inset 1px -1px 2px 2px #000;\r\n    }\r\n  }\r\n\r\n  .row {\r\n    background: #181b1c;\r\n    // display: flex;\r\n\r\n    /* grid */\r\n    display: grid;\r\n    grid-auto-flow: column;\r\n    grid-template-columns: auto;\r\n    grid-auto-columns: auto;\r\n    /* /grid */\r\n\r\n    &.row-3 {\r\n      z-index: 2;\r\n    }\r\n\r\n    &.effects {\r\n      grid-template-columns: min-content auto;\r\n    }\r\n  }\r\n\r\n  .col {\r\n    position: relative;\r\n    padding: 0.7em 1em;\r\n    display: flex;\r\n\r\n    // flex: 0 1 auto;\r\n    // flex: 1;\r\n    +.col {\r\n      &::before {\r\n        content: \"\";\r\n        position: absolute;\r\n        left: 0;\r\n        top: 0;\r\n        bottom: 0;\r\n        margin: auto 0;\r\n        width: 5px;\r\n        height: 87%;\r\n        border-radius: 1px;\r\n        width: 3px;\r\n        height: 100%;\r\n        border-radius: 0;\r\n        box-shadow: 1px 0px 3px 0px #5555, -2px 0px 1px #0004, inset -1px 1px 1px 0px #000;\r\n      }\r\n    }\r\n  }\r\n\r\n  .text {\r\n    position: absolute;\r\n    left: 20%;\r\n    top: 50%;\r\n    font-size: 4rem;\r\n    text-transform: uppercase;\r\n    font-weight: 800;\r\n    mix-blend-mode: overlay;\r\n    color: #fff;\r\n  }\r\n\r\n  .piano-section {\r\n    margin: auto;\r\n    margin-bottom: 0;\r\n    padding: 0.1em;\r\n    box-shadow: inset 0 0 2px 2px #111;\r\n\r\n    &__wrapper {\r\n\r\n      // box-shadow: 0 0 5px 2px #111;\r\n      &::before {\r\n        box-shadow: inset 0 6px 8px 1px #111a, inset 0 3px 3px 1px #111;\r\n        content: \"\";\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 100%;\r\n        pointer-events: none;\r\n        z-index: 3;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.section {\r\n  #section {\r\n\r\n    &__osc-1,\r\n    &__osc-2,\r\n    &__filter-env,\r\n    &__amp-env {\r\n      justify-items: start;\r\n      // grid-auto-columns: auto;\r\n      grid-auto-rows: 1fr;\r\n      grid-template-rows: 1fr;\r\n      grid-auto-flow: column;\r\n      column-gap: 0.1em;\r\n    }\r\n\r\n    &__lfo-1,\r\n    &__lfo-2,\r\n    &__filter,\r\n    &__chorus {\r\n      grid-template-rows: 1fr 1fr;\r\n      grid-template-columns: repeat(3, 1fr);\r\n\r\n      column-gap: 0.1em;\r\n    }\r\n\r\n    &__filter {\r\n      grid-template-columns: repeat(2, 1fr);\r\n    }\r\n\r\n    &__lfo-1,\r\n    &__lfo-2 {\r\n      min-width: 5em;\r\n\r\n      .controller:nth-child(-n + 3) {\r\n        align-self: baseline;\r\n      }\r\n    }\r\n\r\n    &__filter {\r\n      .controller:nth-child(-n + 2) {\r\n        align-self: baseline;\r\n      }\r\n    }\r\n\r\n    &__limiter {\r\n      align-items: center;\r\n    }\r\n\r\n    &__distort,\r\n    &__delay,\r\n    &__reverb {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      justify-content: space-around;\r\n      align-items: flex-end;\r\n\r\n      .controller {\r\n        flex: 1 0 33%;\r\n      }\r\n    }\r\n\r\n    &__distort {\r\n      .controller:first-child {\r\n        flex: 0 0 80%;\r\n      }\r\n    }\r\n\r\n    &__mixer {\r\n      grid-template-columns: 1fr;\r\n      grid-auto-flow: column;\r\n      grid-auto-columns: 1fr;\r\n      grid-auto-rows: auto;\r\n      justify-items: center;\r\n      align-items: stretch;\r\n      column-gap: 0.5em;\r\n    }\r\n\r\n    &__master {\r\n      grid-template-columns: 1fr auto;\r\n    }\r\n  }\r\n\r\n  .toggle-fx {\r\n    .checkbox__control {\r\n      width: 2.5em;\r\n      height: 2.5em;\r\n\r\n      &::after {\r\n        font-family: sans-serif;\r\n        font-size: 1.5em;\r\n        content: \"FX\";\r\n        position: absolute;\r\n        left: 50%;\r\n        top: 50%;\r\n        transform: translate(-50%, -50%);\r\n        font-weight: 900;\r\n        color: #0008;\r\n      }\r\n    }\r\n  }\r\n\r\n  .toggle-scope {\r\n    .checkbox__control {\r\n      &::after {\r\n        font-family: sans-serif;\r\n        // font-size: 1.5em;\r\n        content: \"\";\r\n        position: absolute;\r\n        left: 50%;\r\n        top: 50%;\r\n        transform: translate(-50%, -50%);\r\n        font-weight: 900;\r\n        color: #0008;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.bottom-panel {\r\n  perspective: 600px;\r\n\r\n  z-index: 1;\r\n\r\n  &__wrapper {\r\n    width: 100%;\r\n    height: 100%;\r\n    transform-style: preserve-3d;\r\n    display: grid;\r\n    grid-template: 1fr / 1fr 1fr / 1fr;\r\n    transform: translateZ(-4.8em);\r\n    transition: transform 1s ease-out;\r\n    will-change: transform;\r\n\r\n    &.show-kb {\r\n      transform: translateZ(-4.8em) rotateY(0deg);\r\n    }\r\n\r\n    &.show-fx {\r\n      transform: translateZ(-4.8em) rotateX(-90deg);\r\n    }\r\n\r\n    .row {\r\n      background: #181b1c;\r\n      border-bottom: 0.1em solid #000;\r\n      transform: rotateY(0deg) translateZ(4.8em); // front\r\n\r\n      &.effects {\r\n        transform: rotateX(90deg) translateZ(4.8em); //top\r\n      }\r\n\r\n      grid-column: 1 / -1;\r\n      grid-row: 1 / -1;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Synthesizer.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Synthesizer.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Synthesizer.vue?vue&type=template&id=a3c6802a\"\nimport script from \"./Synthesizer.vue?vue&type=script&lang=js\"\nexport * from \"./Synthesizer.vue?vue&type=script&lang=js\"\nimport style0 from \"./Synthesizer.vue?vue&type=style&index=0&id=a3c6802a&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"app\">\r\n    <div class=\"flex m-auto\" style=\"z-index:5\">\r\n      <Synthesizer />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Synthesizer from \"@/components/Synthesizer\";\r\n\r\nexport default {\r\n  name: \"App\",\r\n  components: { Synthesizer }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n@import \"@/assets/scss/main.scss\";\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=925bafbc\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=925bafbc&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport App from './App.vue'\r\n\r\n/*\r\n===========================\r\n>>> Globally register all components from 'src/components/global' directory\r\n===========================\r\n*/\r\nconst files = require.context(\"@/components/global\", true, /\\.vue$/i);\r\n\r\nfiles.keys().map(key => {\r\n  Vue.component(\r\n    files(key).default.name ??\r\n    key\r\n      .split(\"/\")\r\n      .pop()\r\n      .split(\".\")[0],\r\n    files(key).default\r\n  );\r\n});\r\n/*\r\n===========================\r\n*/\r\n\r\nVue.config.productionTip = false;\r\n\r\nVue.prototype.$bus = new Vue();\r\n\r\nnew Vue({\r\n  render: h => h(App)\r\n}).$mount('#app');\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MatrixRow.vue?vue&type=style&index=0&id=58c821e6&prod&lang=scss\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"primary\":\"#ff0080\",\"control\":\"#f08f20\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"primary\":\"#ff0080\",\"control\":\"#f08f20\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"primary\":\"#ff0080\",\"control\":\"#f08f20\"};","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Meter.vue?vue&type=style&index=0&id=5e280e72&prod&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseController.vue?vue&type=style&index=0&id=3f238970&prod&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Piano.vue?vue&type=style&index=0&id=f407328e&prod&lang=scss\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"primary\":\"#ff0080\",\"control\":\"#f08f20\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"primary\":\"#ff0080\",\"control\":\"#f08f20\"};","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Matrix.vue?vue&type=style&index=0&id=66638c4d&prod&lang=scss\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"primary\":\"#ff0080\",\"control\":\"#f08f20\"};","// paste your presets here\r\n\r\nexport default [{ name: \"PLUCK - Take Me Away\", values: { M_ROW_5: [0, 0, 0], FX4_WET: .49999999999999994, MASTER_GAIN: .5, M_ROW_4: [0, 0, 0], FX4_ON: 1, M_ROW_3: [0, 0, 0], FX3_WET: .10000000000000002, M_ROW_2: [0, 0, 0], FX3_ON: 1, M_ROW_1: [1, 3, .3400000000000001], FX2_WET: 0, LFO_2_RETR: 0, FX2_ON: 0, LFO_2_PHASE: 0, FX1_WET: 0, LFO_2_GAIN: 0, FX1_ON: 0, LFO_2_FC: 0, FX5_ON: 0, LFO_2_TP: 0, FX5_1: 0, LFO_1_RETR: 0, FX4_2: 0, LFO_1_PHASE: 0, FX4_1: 2.06, LFO_1_GAIN: .6416666666666665, FX3_2: .5499999999999999, LFO_1_FC: 7.468333333333335, FX3_1: .42208333333333314, LFO_1_TP: 0, FX2_5: 0, EG_1_REL: .4310499224892786, FX2_4: 0, EG_1_SUS: .6333333333333333, FX2_3: 0, EG_1_DEC: 2.1099531249999997, FX2_2: 0, EG_1_ATT: .001, FX2_1: 0, AMP_EG_REL: 1.18054156419224, FX1_2: 0, AMP_EG_SUS: 0, FX1_1: 0, AMP_EG_DEC: 5, AMP_EG_ATT: .001, FILTER_EG: .5000000000000001, FILTER_TP: 0, FILTER_Q: 0, FILTER_CUT: 20, OSC_3_PAN: 0, OSC_3_VOL: 0, OSC_2_PAN: 0, OSC_2_VOL: 0, OSC_1_PAN: 0, OSC_1_VOL: 1, OSC_2_RETR: 0, OSC_2_TP: 0, OSC_2_PHASE: 0, OSC_2_FINE: 0, OSC_2_SEMI: 0, OSC_2_OCT: 0, OSC_2_SPRD: 0, OSC_2_VOICE: 0, OSC_1_RETR: 1, OSC_1_TP: 1, OSC_1_PHASE: 0, OSC_1_FINE: 0, OSC_1_SEMI: 0, OSC_1_OCT: 0, OSC_1_SPRD: 0, OSC_1_VOICE: 2 } }, { name: \"KEY - Thunk\", values: { M_ROW_5: [0, 0, 0], FX4_WET: .6999999999999997, MASTER_GAIN: .5, M_ROW_4: [0, 0, 0], FX4_ON: 1, M_ROW_3: [0, 0, 0], FX3_WET: .07499999999999998, M_ROW_2: [0, 0, 0], FX3_ON: 0, M_ROW_1: [0, 0, 0], FX2_WET: .49999999999999994, LFO_2_RETR: 0, FX2_ON: 1, LFO_2_PHASE: 0, FX1_WET: 0, LFO_2_GAIN: 0, FX1_ON: 0, LFO_2_FC: 0, FX5_ON: 0, LFO_2_TP: 0, FX5_1: 0, LFO_1_RETR: 0, FX4_2: .03837500000000003, LFO_1_PHASE: 0, FX4_1: 1.855833333333334, LFO_1_GAIN: 0, FX3_2: .058333333333333265, LFO_1_FC: 0, FX3_1: .34291666666666654, LFO_1_TP: 0, FX2_5: 180, EG_1_REL: .00482288873558031, FX2_4: .7600000000000001, EG_1_SUS: 0, FX2_3: .49999999999999994, EG_1_DEC: 1.0569469826576017, FX2_2: .39999999999999997, EG_1_ATT: .017871625000000328, FX2_1: 8.300000000000008, AMP_EG_REL: 1.4906606294089104, FX1_2: 0, AMP_EG_SUS: .20833333333333331, FX1_1: 0, AMP_EG_DEC: 2.1081006798783886, AMP_EG_ATT: .017871625000000006, FILTER_EG: .5916666666666669, FILTER_TP: 0, FILTER_Q: 10, FILTER_CUT: 164.61213513549072, OSC_3_PAN: 0, OSC_3_VOL: 0, OSC_2_PAN: 0, OSC_2_VOL: 0, OSC_1_PAN: 0, OSC_1_VOL: 1, OSC_2_RETR: 1, OSC_2_TP: 3, OSC_2_PHASE: 83, OSC_2_FINE: 9, OSC_2_SEMI: 0, OSC_2_OCT: -1, OSC_2_SPRD: 15, OSC_2_VOICE: 4, OSC_1_RETR: 1, OSC_1_TP: 3, OSC_1_PHASE: 44, OSC_1_FINE: 0, OSC_1_SEMI: 0, OSC_1_OCT: -1, OSC_1_SPRD: 20, OSC_1_VOICE: 4 } }, { name: \"LD - Fatness\", values: { M_ROW_5: [0, 0, 0], FX4_WET: 0, MASTER_GAIN: .5, M_ROW_4: [0, 0, 0], FX4_ON: 0, M_ROW_3: [0, 0, 0], FX3_WET: 0, M_ROW_2: [0, 0, 0], FX3_ON: 0, M_ROW_1: [0, 0, 0], FX2_WET: 0, LFO_2_RETR: 0, FX2_ON: 0, LFO_2_PHASE: 0, FX1_WET: 0, LFO_2_GAIN: 0, FX1_ON: 0, LFO_2_FC: 0, FX5_ON: 0, LFO_2_TP: 0, FX5_1: 0, LFO_1_RETR: 0, FX4_2: 0, LFO_1_PHASE: 0, FX4_1: 0, LFO_1_GAIN: 0, FX3_2: 0, LFO_1_FC: 0, FX3_1: 0, LFO_1_TP: 0, FX2_5: 0, EG_1_REL: .2469895634982042, FX2_4: 0, EG_1_SUS: 0, FX2_3: 0, EG_1_DEC: 7.6851953930949835, FX2_2: 0, EG_1_ATT: .001, FX2_1: 0, AMP_EG_REL: .25, FX1_2: 0, AMP_EG_SUS: .8250000000000001, FX1_1: 0, AMP_EG_DEC: .6191623993535121, AMP_EG_ATT: .02, FILTER_EG: .38333333333333325, FILTER_TP: 1, FILTER_Q: 4.1666666666666705, FILTER_CUT: 223.22250000000173, OSC_3_PAN: 0, OSC_3_VOL: 0, OSC_2_PAN: 0, OSC_2_VOL: 1, OSC_1_PAN: 0, OSC_1_VOL: 1, OSC_2_RETR: 0, OSC_2_TP: 1, OSC_2_PHASE: 0, OSC_2_FINE: 0, OSC_2_SEMI: 0, OSC_2_OCT: 0, OSC_2_SPRD: 40, OSC_2_VOICE: 2, OSC_1_RETR: 0, OSC_1_TP: 1, OSC_1_PHASE: 0, OSC_1_FINE: 0, OSC_1_SEMI: 0, OSC_1_OCT: -1, OSC_1_SPRD: 40, OSC_1_VOICE: 4 } }, { name: \"HOV - Rave\", values: { M_ROW_5: [0, 0, 0], FX4_WET: 0, MASTER_GAIN: .5, M_ROW_4: [0, 0, 0], FX4_ON: 0, M_ROW_3: [0, 0, 0], FX3_WET: 0, M_ROW_2: [0, 0, 0], FX3_ON: 0, M_ROW_1: [4, 15, .56], FX2_WET: 0, LFO_2_RETR: 0, FX2_ON: 0, LFO_2_PHASE: 0, FX1_WET: 0, LFO_2_GAIN: 0, FX1_ON: 0, LFO_2_FC: 0, FX5_ON: 0, LFO_2_TP: 0, FX5_1: 0, LFO_1_RETR: 0, FX4_2: 0, LFO_1_PHASE: 0, FX4_1: 0, LFO_1_GAIN: 0, FX3_2: 0, LFO_1_FC: 0, FX3_1: 0, LFO_1_TP: 0, FX2_5: 0, EG_1_REL: .7470974238530165, FX2_4: .1, EG_1_SUS: 0, FX2_3: 13877787807814457e-33, EG_1_DEC: 5.4085159937541505, FX2_2: 0, EG_1_ATT: .001, FX2_1: 2, AMP_EG_REL: .25, FX1_2: 0, AMP_EG_SUS: 1, FX1_1: 0, AMP_EG_DEC: .001, AMP_EG_ATT: .001, FILTER_EG: .7000000000000001, FILTER_TP: 0, FILTER_Q: 3.5, FILTER_CUT: 6682.142178319935, OSC_3_PAN: 0, OSC_3_VOL: 0, OSC_2_PAN: 0, OSC_2_VOL: 1, OSC_1_PAN: 0, OSC_1_VOL: 1, OSC_2_RETR: 0, OSC_2_TP: 1, OSC_2_PHASE: 0, OSC_2_FINE: 0, OSC_2_SEMI: 0, OSC_2_OCT: -1, OSC_2_SPRD: 63, OSC_2_VOICE: 4, OSC_1_RETR: 0, OSC_1_TP: 1, OSC_1_PHASE: 0, OSC_1_FINE: 10, OSC_1_SEMI: 0, OSC_1_OCT: 0, OSC_1_SPRD: 60, OSC_1_VOICE: 4 } }, { name: \"KEY - Square\", values: { M_ROW_5: [0, 0, 0], FX4_WET: 0, MASTER_GAIN: .5, M_ROW_4: [0, 0, 0], FX4_ON: 0, M_ROW_3: [0, 0, 0], FX3_WET: 0, M_ROW_2: [0, 0, 0], FX3_ON: 0, M_ROW_1: [0, 0, 0], FX2_WET: 0, LFO_2_RETR: 0, FX2_ON: 0, LFO_2_PHASE: 0, FX1_WET: 0, LFO_2_GAIN: 0, FX1_ON: 0, LFO_2_FC: 0, FX5_ON: 0, LFO_2_TP: 0, FX5_1: 0, LFO_1_RETR: 0, FX4_2: 0, LFO_1_PHASE: 0, FX4_1: 0, LFO_1_GAIN: 0, FX3_2: 0, LFO_1_FC: 0, FX3_1: 0, LFO_1_TP: 0, FX2_5: 0, EG_1_REL: .2000000000000003, FX2_4: 0, EG_1_SUS: 0, FX2_3: 0, EG_1_DEC: .3127247629224269, FX2_2: 0, EG_1_ATT: .001, FX2_1: 0, AMP_EG_REL: 3.314710866938475, FX1_2: 0, AMP_EG_SUS: .8000000000000003, FX1_1: 0, AMP_EG_DEC: .2, AMP_EG_ATT: .03474662500000002, FILTER_EG: .3, FILTER_TP: 1, FILTER_Q: 2, FILTER_CUT: 364.45843750000125, OSC_3_PAN: 0, OSC_3_VOL: 0, OSC_2_PAN: 0, OSC_2_VOL: 1, OSC_1_PAN: 0, OSC_1_VOL: 1, OSC_2_RETR: 0, OSC_2_TP: 3, OSC_2_PHASE: 0, OSC_2_FINE: 0, OSC_2_SEMI: 0, OSC_2_OCT: 1, OSC_2_SPRD: 10, OSC_2_VOICE: 4, OSC_1_RETR: 0, OSC_1_TP: 3, OSC_1_PHASE: 0, OSC_1_FINE: 0, OSC_1_SEMI: 0, OSC_1_OCT: 2, OSC_1_SPRD: 25, OSC_1_VOICE: 4 } }, { name: \"KEY - Pluck\", values: { M_ROW_5: [0, 0, 0], FX4_WET: 0, MASTER_GAIN: .5, M_ROW_4: [0, 0, 0], FX4_ON: 0, M_ROW_3: [0, 0, 0], FX3_WET: .05000000000000002, M_ROW_2: [0, 0, 0], FX3_ON: 1, M_ROW_1: [0, 0, 0], FX2_WET: .4999999999999996, LFO_2_RETR: 0, FX2_ON: 1, LFO_2_PHASE: 0, FX1_WET: 0, LFO_2_GAIN: 0, FX1_ON: 0, LFO_2_FC: 0, FX5_ON: 0, LFO_2_TP: 0, FX5_1: 0, LFO_1_RETR: 0, FX4_2: 0, LFO_1_PHASE: 0, FX4_1: 0, LFO_1_GAIN: 0, FX3_2: .5166666666666666, LFO_1_FC: 0, FX3_1: .2875, LFO_1_TP: 0, FX2_5: 139.5, EG_1_REL: 3.7486419440158243, FX2_4: .1825, EG_1_SUS: 0, FX2_3: .2, EG_1_DEC: .31272476292242674, FX2_2: .7000000000000001, EG_1_ATT: .001, FX2_1: 6.800000000000013, AMP_EG_REL: 1.5932277612737327, FX1_2: 0, AMP_EG_SUS: .35000000000000003, FX1_1: 0, AMP_EG_DEC: .2, AMP_EG_ATT: .001, FILTER_EG: .7333333333333333, FILTER_TP: 1, FILTER_Q: 0, FILTER_CUT: 205.3052542682495, OSC_3_PAN: 0, OSC_3_VOL: 0, OSC_2_PAN: 0, OSC_2_VOL: 0, OSC_1_PAN: 0, OSC_1_VOL: 1, OSC_2_RETR: 0, OSC_2_TP: 0, OSC_2_PHASE: 0, OSC_2_FINE: 0, OSC_2_SEMI: 0, OSC_2_OCT: 0, OSC_2_SPRD: 0, OSC_2_VOICE: 0, OSC_1_RETR: 1, OSC_1_TP: 1, OSC_1_PHASE: 0, OSC_1_FINE: 0, OSC_1_SEMI: 0, OSC_1_OCT: 0, OSC_1_SPRD: 0, OSC_1_VOICE: 2 } }, { name: \"KEY - Woop\", values: { M_ROW_5: [0, 0, 0], FX4_WET: .44999999999999996, MASTER_GAIN: .5, M_ROW_4: [0, 0, 0], FX4_ON: 1, M_ROW_3: [0, 0, 0], FX3_WET: 0, M_ROW_2: [0, 0, 0], FX3_ON: 0, M_ROW_1: [4, 15, -.54], FX2_WET: 0, LFO_2_RETR: 0, FX2_ON: 0, LFO_2_PHASE: 0, FX1_WET: 0, LFO_2_GAIN: 0, FX1_ON: 0, LFO_2_FC: 0, FX5_ON: 0, LFO_2_TP: 0, FX5_1: 0, LFO_1_RETR: 0, FX4_2: .18462337500000026, LFO_1_PHASE: 0, FX4_1: 2.305, LFO_1_GAIN: 0, FX3_2: 0, LFO_1_FC: 0, FX3_1: 0, LFO_1_TP: 0, FX2_5: 0, EG_1_REL: .2, FX2_4: 0, EG_1_SUS: 0, FX2_3: 0, EG_1_DEC: .39306543194698784, FX2_2: 0, EG_1_ATT: .001, FX2_1: 0, AMP_EG_REL: .4010509774379971, FX1_2: 0, AMP_EG_SUS: 1, FX1_1: 0, AMP_EG_DEC: .0010925694722118805, AMP_EG_ATT: .02, FILTER_EG: 0, FILTER_TP: 6, FILTER_Q: 0, FILTER_CUT: 1e4, OSC_3_PAN: 0, OSC_3_VOL: 0, OSC_2_PAN: 0, OSC_2_VOL: .9, OSC_1_PAN: 0, OSC_1_VOL: 1, OSC_2_RETR: 1, OSC_2_TP: 0, OSC_2_PHASE: 0, OSC_2_FINE: 0, OSC_2_SEMI: 0, OSC_2_OCT: 1, OSC_2_SPRD: 0, OSC_2_VOICE: 1, OSC_1_RETR: 1, OSC_1_TP: 0, OSC_1_PHASE: 181, OSC_1_FINE: 0, OSC_1_SEMI: 0, OSC_1_OCT: 0, OSC_1_SPRD: 0, OSC_1_VOICE: 1 } }, { name: \"LD - Bowwoo\", values: { M_ROW_5: [0, 0, 0], FX4_WET: 0, MASTER_GAIN: .5, M_ROW_4: [0, 0, 0], FX4_ON: 0, M_ROW_3: [0, 0, 0], FX3_WET: 0, M_ROW_2: [0, 0, 0], FX3_ON: 0, M_ROW_1: [1, 13, .72], FX2_WET: 0, LFO_2_RETR: 0, FX2_ON: 0, LFO_2_PHASE: 0, FX1_WET: .6000000000000001, LFO_2_GAIN: 0, FX1_ON: 1, LFO_2_FC: 0, FX5_ON: 0, LFO_2_TP: 0, FX5_1: 0, LFO_1_RETR: 0, FX4_2: 0, LFO_1_PHASE: 0, FX4_1: 0, LFO_1_GAIN: .975, FX3_2: 0, LFO_1_FC: 1.506666666666667, FX3_1: 0, LFO_1_TP: 0, FX2_5: 0, EG_1_REL: .2, FX2_4: 0, EG_1_SUS: .5, FX2_3: 0, EG_1_DEC: .1, FX2_2: 0, EG_1_ATT: .001, FX2_1: 0, AMP_EG_REL: .25, FX1_2: .7750000000000001, AMP_EG_SUS: .45, FX1_1: 3, AMP_EG_DEC: 1.4150469420618368, AMP_EG_ATT: .02, FILTER_EG: 0, FILTER_TP: 3, FILTER_Q: 1.7500000000000024, FILTER_CUT: 20, OSC_3_PAN: 0, OSC_3_VOL: 0, OSC_2_PAN: .18333333333333335, OSC_2_VOL: 1, OSC_1_PAN: -.16666666666666685, OSC_1_VOL: 1, OSC_2_RETR: 0, OSC_2_TP: 1, OSC_2_PHASE: 0, OSC_2_FINE: 0, OSC_2_SEMI: 0, OSC_2_OCT: -1, OSC_2_SPRD: 40, OSC_2_VOICE: 2, OSC_1_RETR: 0, OSC_1_TP: 1, OSC_1_PHASE: 0, OSC_1_FINE: 0, OSC_1_SEMI: 0, OSC_1_OCT: -1, OSC_1_SPRD: 38, OSC_1_VOICE: 2 } }, { name: \"PD - Deep\", values: { M_ROW_5: [0, 0, 0], FX4_WET: 1, MASTER_GAIN: .5, M_ROW_4: [0, 0, 0], FX4_ON: 1, M_ROW_3: [0, 0, 0], FX3_WET: 0, M_ROW_2: [0, 0, 0], FX3_ON: 0, M_ROW_1: [0, 0, 0], FX2_WET: .20833333333333331, LFO_2_RETR: 0, FX2_ON: 0, LFO_2_PHASE: 0, FX1_WET: 0, LFO_2_GAIN: 0, FX1_ON: 0, LFO_2_FC: 0, FX5_ON: 0, LFO_2_TP: 0, FX5_1: 0, LFO_1_RETR: 0, FX4_2: 0, LFO_1_PHASE: 0, FX4_1: .3450000000000002, LFO_1_GAIN: 0, FX3_2: 0, LFO_1_FC: .2, FX3_1: 0, LFO_1_TP: 0, FX2_5: 88.50000000000003, EG_1_REL: .2, FX2_4: .34750000000000136, EG_1_SUS: .35000000000000003, FX2_3: .22499999999999995, EG_1_DEC: .1, FX2_2: .2666666666666667, EG_1_ATT: 2.1607840000000023, FX2_1: 2.75, AMP_EG_REL: 1.5932277612737327, FX1_2: 0, AMP_EG_SUS: .5, FX1_1: 0, AMP_EG_DEC: .0010925694722118814, AMP_EG_ATT: 2.4288326442918966, FILTER_EG: .15833333333333327, FILTER_TP: 0, FILTER_Q: 1.5000000000000002, FILTER_CUT: 223.22249999999931, OSC_3_PAN: 0, OSC_3_VOL: .9, OSC_2_PAN: .18333333333333357, OSC_2_VOL: 1, OSC_1_PAN: -.16666666666666707, OSC_1_VOL: 1, OSC_2_RETR: 0, OSC_2_TP: 1, OSC_2_PHASE: 0, OSC_2_FINE: 0, OSC_2_SEMI: 0, OSC_2_OCT: 0, OSC_2_SPRD: 40, OSC_2_VOICE: 4, OSC_1_RETR: 0, OSC_1_TP: 1, OSC_1_PHASE: 0, OSC_1_FINE: 0, OSC_1_SEMI: 0, OSC_1_OCT: 1, OSC_1_SPRD: 40, OSC_1_VOICE: 4 } }, { name: \"PD - Low\", values: { M_ROW_5: [0, 0, 0], FX4_WET: 0, MASTER_GAIN: .25000000000000006, M_ROW_4: [0, 0, 0], FX4_ON: 0, M_ROW_3: [0, 0, 0], FX3_WET: 0, M_ROW_2: [0, 0, 0], FX3_ON: 0, M_ROW_1: [0, 0, 0], FX2_WET: 0, LFO_2_RETR: 0, FX2_ON: 0, LFO_2_PHASE: 0, FX1_WET: 0, LFO_2_GAIN: 0, FX1_ON: 0, LFO_2_FC: 0, FX5_ON: 0, LFO_2_TP: 0, FX5_1: 0, LFO_1_RETR: 0, FX4_2: 0, LFO_1_PHASE: 0, FX4_1: 0, LFO_1_GAIN: 0, FX3_2: 0, LFO_1_FC: 0, FX3_1: 0, LFO_1_TP: 0, FX2_5: 0, EG_1_REL: 2.395563782116108, FX2_4: 0, EG_1_SUS: 0, FX2_3: 0, EG_1_DEC: 3.7809470829529648, FX2_2: 0, EG_1_ATT: 2.072037088541667, FX2_1: 0, AMP_EG_REL: 1.5932277612737338, FX1_2: 0, AMP_EG_SUS: 1, FX1_1: 0, AMP_EG_DEC: .2, AMP_EG_ATT: .762421230237385, FILTER_EG: .41666666666666696, FILTER_TP: 1, FILTER_Q: 1.9166666666666647, FILTER_CUT: 51.72750000000036, OSC_3_PAN: 0, OSC_3_VOL: 0, OSC_2_PAN: 0, OSC_2_VOL: .9, OSC_1_PAN: 0, OSC_1_VOL: .95, OSC_2_RETR: 0, OSC_2_TP: 2, OSC_2_PHASE: 0, OSC_2_FINE: 0, OSC_2_SEMI: 0, OSC_2_OCT: 0, OSC_2_SPRD: 47, OSC_2_VOICE: 4, OSC_1_RETR: 0, OSC_1_TP: 3, OSC_1_PHASE: 0, OSC_1_FINE: 20, OSC_1_SEMI: 0, OSC_1_OCT: -1, OSC_1_SPRD: 35, OSC_1_VOICE: 4 } }, { name: \"PD - SunRise\", values: { M_ROW_5: [0, 0, 0], FX4_WET: 0, MASTER_GAIN: .5, M_ROW_4: [0, 0, 0], FX4_ON: 0, M_ROW_3: [0, 0, 0], FX3_WET: .25, M_ROW_2: [1, 13, .21999999999999997], FX3_ON: 1, M_ROW_1: [1, 3, .10000000000000009], FX2_WET: 0, LFO_2_RETR: 0, FX2_ON: 0, LFO_2_PHASE: 0, FX1_WET: 0, LFO_2_GAIN: 0, FX1_ON: 0, LFO_2_FC: 0, FX5_ON: 0, LFO_2_TP: 0, FX5_1: 0, LFO_1_RETR: 0, FX4_2: 0, LFO_1_PHASE: 0, FX4_1: 0, LFO_1_GAIN: .15000000000000002, FX3_2: .3, LFO_1_FC: 5.835000000000001, FX3_1: .24, LFO_1_TP: 0, FX2_5: 0, EG_1_REL: .13522964304099497, FX2_4: 0, EG_1_SUS: 0, FX2_3: 0, EG_1_DEC: .2657784023602666, FX2_2: 0, EG_1_ATT: .9121588750000083, FX2_1: 0, AMP_EG_REL: .4010509774379971, FX1_2: 0, AMP_EG_SUS: 0, FX1_1: 0, AMP_EG_DEC: .03474662500000002, AMP_EG_ATT: 1.1220401080586275, FILTER_EG: .8500000000000001, FILTER_TP: 1, FILTER_Q: 3.9999999999999996, FILTER_CUT: 332.1875000000004, OSC_3_PAN: 0, OSC_3_VOL: 0, OSC_2_PAN: 0, OSC_2_VOL: 0, OSC_1_PAN: 0, OSC_1_VOL: 1, OSC_2_RETR: 0, OSC_2_TP: 0, OSC_2_PHASE: 0, OSC_2_FINE: 0, OSC_2_SEMI: 0, OSC_2_OCT: 0, OSC_2_SPRD: 0, OSC_2_VOICE: 0, OSC_1_RETR: 1, OSC_1_TP: 3, OSC_1_PHASE: 0, OSC_1_FINE: 0, OSC_1_SEMI: 0, OSC_1_OCT: 1, OSC_1_SPRD: 12, OSC_1_VOICE: 2 } }];\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Synthesizer.vue?vue&type=style&index=0&id=a3c6802a&prod&lang=scss\"","/**\r\n * Clamp value between an upper and lower bound.\r\n * @param {number} x input value\r\n * @param {number} min mininum value\r\n * @param {number} max maximum allowed value\r\n */\r\nexport function clamp(x, min, max) {\r\n  return Math.min(Math.max(x, min), max);\r\n}\r\n\r\n/**\r\n * Map a value (x) from one range onto another\r\n * @param {number} x input value\r\n * @param {number} inMin input range min\r\n * @param {number} inMax input range max\r\n * @param {number} outMin output range min\r\n * @param {number} outMax output range max\r\n * @returns {number} value scaled linearly onto new range\r\n */\r\nexport function scale(x, inMin, inMax, outMin, outMax) {\r\n  return ((x - inMin) * (outMax - outMin)) / (inMax - inMin) + outMin;\r\n}\r\n\r\n/**\r\n * Convert polar coordinates to Cartesian\r\n * // https://en.wikipedia.org/wiki/Polar_coordinate_system#Converting_between_polar_and_Cartesian_coordinates\r\n * @param {number} centerX x center coordinate\r\n * @param {number} centerY y center coordinate\r\n * @param {number} radius radius value\r\n * @param {number} angleInDegrees arc angle in degrees\r\n * @returns {object} Cartesian coordinates\r\n */\r\nexport function polarToCartesian(centerX, centerY, radius, angleInDegrees) {\r\n  var angleInRadians = ((angleInDegrees - 90) * Math.PI) / 180.0;\r\n\r\n  return {\r\n    x: centerX + radius * Math.cos(angleInRadians),\r\n    y: centerY + radius * Math.sin(angleInRadians)\r\n  };\r\n}\r\n\r\nexport function describeArc(x, y, radius, startAngle, endAngle) {\r\n  var start = polarToCartesian(x, y, radius, endAngle);\r\n  var end = polarToCartesian(x, y, radius, startAngle);\r\n\r\n  var largeArcFlag = endAngle - startAngle <= 180 ? \"0\" : \"1\";\r\n\r\n  var d = [\"M\", end.x, end.y, \"A\", radius, radius, 0, largeArcFlag, 1, start.x, start.y].join(\" \");\r\n\r\n  return d;\r\n}\r\n\r\nexport function debounce(func, wait = 100) {\r\n  let timeout;\r\n  return function (...args) {\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(() => {\r\n      func.apply(this, args);\r\n    }, wait);\r\n  };\r\n}\r\n\r\n/**\r\n * Underscore.js like implementation of throttle function \\\r\n * source: https://stackoverflow.com/a/27078401\r\n * @param {function} func - callback function\r\n * @param {number} wait - interval time between function execution calls\r\n * @param {Object|undefined} options - additional options (optional)\r\n * @param {boolean} [options.leading=true] - disable [=false] execution on the leading edge\r\n * @param {boolean} [options.trailing=true] - disable [=false] execution on the trailing edge\r\n * @description Returns a function, that, when invoked, will only be triggered at most once\r\n * during a given window of time. Normally, the throttled function will run\r\n * as much as it can, without ever going more than once per `wait` duration;\r\n * but if you'd like to disable the execution on the leading edge, pass\r\n * `{leading: false}`. To disable execution on the trailing edge, ditto.\r\n */\r\nexport function throttle(func, wait, options) {\r\n  var context, args, result;\r\n  var timeout = null;\r\n  var previous = 0;\r\n  if (!options) options = {};\r\n  var later = function () {\r\n    previous = options.leading === false ? 0 : Date.now();\r\n    timeout = null;\r\n    result = func.apply(context, args);\r\n    if (!timeout) context = args = null;\r\n  };\r\n  return function () {\r\n    var now = Date.now();\r\n    if (!previous && options.leading === false) previous = now;\r\n    var remaining = wait - (now - previous);\r\n    context = this;\r\n    args = arguments;\r\n    if (remaining <= 0 || remaining > wait) {\r\n      if (timeout) {\r\n        clearTimeout(timeout);\r\n        timeout = null;\r\n      }\r\n      previous = now;\r\n      result = func.apply(context, args);\r\n      if (!timeout) context = args = null;\r\n    } else if (!timeout && options.trailing !== false) {\r\n      timeout = setTimeout(later, remaining);\r\n    }\r\n    return result;\r\n  };\r\n}\r\n\r\n/**\r\n * Round input to closest step multiple value\r\n * @param {number} num input value\r\n * @param {number} step step value\r\n */\r\nexport function roundToNearest(num, step) {\r\n  return Math.round(num / step) * step;\r\n}\r\n\r\n/**\r\n * Generate random number (float) in given range\r\n * @param {number} min min range value (inc)\r\n * @param {number} max max range value (inc)\r\n */\r\nexport function random(min, max) {\r\n  return Math.random() * (max - min) + min;\r\n}\r\n\r\n/**\r\n * Create enum-like object with auto-increment values\r\n *\r\n * @param {Array} values array of keys of enum object\r\n * @param {Boolean} asValue use array item as enum value\r\n * @returns {Object} freezed object\r\n */\r\nexport function createEnum(values, asValue) {\r\n  let res = {};\r\n  for (let i = 0; i < values.length; i++) {\r\n    const value = asValue ? values[i] : i; // use array item or idx as value\r\n    res[values[i]] = value; // add property\r\n  }\r\n  Object.freeze(res); // make immutable\r\n  return res;\r\n}\r\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainScreen.vue?vue&type=style&index=0&id=05d43716&prod&lang=scss\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"primary\":\"#ff0080\",\"control\":\"#f08f20\"};","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DisplayBase.vue?vue&type=style&index=0&id=024d2e28&prod&lang=scss\""],"sourceRoot":""}